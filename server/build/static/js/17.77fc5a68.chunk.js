(this.webpackJsonpUI=this.webpackJsonpUI||[]).push([[17],{1443:function(e,t,a){},1599:function(e,t,a){"use strict";a.r(t);var n,i,r,l=a(9),d=a(4),c=a(253),o=a(124),s=a(1),u=a.n(s),j=a(24),m=a(97),b=a(51),h=a(50),f=a.n(h),p=a(126),v=a.n(p),O=a(257),x=(a(1443),a(570)),g=a(456),C=a(716),S=a(839),y=a(717),w=a(566),T=a(567),A=a(584),E=a(746),_=a(755),B=a(835),L=a(164),N=a(747),z=a(176),D=a(490),I=a(2),k=function(e){var t=e.onClose,a=e.editDetails,d=u.a.useState(!1),c=Object(l.a)(d,2),s=(c[0],c[1]),m=u.a.useState(null===a||void 0===a||!a.is_active||a.is_active),h=Object(l.a)(m,2),p=h[0],v=h[1],k=u.a.useState(),U=Object(l.a)(k,2),W=(U[0],U[1],u.a.useState()),q=Object(l.a)(W,2),P=q[0],R=q[1],V=u.a.useState(),F=Object(l.a)(V,2),M=F[0],H=F[1],J=u.a.useState([]),Y=Object(l.a)(J,2),G=Y[0],K=Y[1],Q=u.a.useState([]),X=Object(l.a)(Q,2),Z=X[0],$=X[1],ee=u.a.useState([]),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],ie=u.a.useState(),re=Object(l.a)(ie,2),le=re[0],de=re[1],ce=u.a.useState(),oe=Object(l.a)(ce,2),se=oe[0],ue=oe[1],je=u.a.useState(),me=Object(l.a)(je,2),be=me[0],he=me[1],fe=u.a.useState(),pe=Object(l.a)(fe,2),ve=pe[0],Oe=pe[1],xe=Object(j.l)(),ge=L.a.div(n||(n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n    font-size: 1.5rem;\n"]))),Ce=L.a.div(i||(i=Object(b.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    padding: 1rem 1rem 0 1rem;\n    gap: 1rem;\n"])),(function(e){return e.divide?"50% 48.4%":"100%"}));L.a.div(r||(r=Object(b.a)(["\n    color: red;\n    font-size: 13px;\n"])));u.a.useEffect((function(){a&&v(null===a||void 0===a?void 0:a.is_active),Object(o.l)().then((function(e){if(!1===(null===e||void 0===e?void 0:e.status))return f.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400});var t,n,i,r;de(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.departments),ue(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.projects),he(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.users),Oe(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.agents),R(null===a||void 0===a?void 0:a.department_id),H(null===a||void 0===a?void 0:a.project_id),K(null!==a&&void 0!==a&&a.agents?a.agents:[]),ne(null!==a&&void 0!==a&&a.users?a.users:[]),$(null!==a&&void 0!==a&&a.leads?a.leads:[])}))}),[]);var Se={teamName:null!==a&&void 0!==a&&a.name?a.name:""},ye=function(e){null!==e&&void 0!==e&&e.target.checked?v(!1):v(!0)},we=function(e){R(e.target.value)},Te=function(e){H(e.target.value)},Ae=function(e){var t=e.target.value;ne("string"===typeof t?t.split(","):t)},Ee=function(e){var t=e.target.value;$("string"===typeof t?t.split(","):t)},_e=function(e){var t=e.target.value;K("string"===typeof t?t.split(","):t)},Be=D.b().shape({teamName:D.c().max(20,"Team Name can not be more than 20 characters long")});return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{children:Object(I.jsxs)(x.a,{elevation:3,sx:{pt:0,mb:0,minHeight:"50vh"},children:[Object(I.jsxs)(ge,{children:[Object(I.jsx)("div",{children:null!==a&&void 0!==a&&a.id?"Edit Team":"Add Team"}),Object(I.jsx)("div",{onClick:function(e){return!!t&&t(e)&&s(!1)},children:Object(I.jsx)(g.a,{sx:{color:"#59B691",fontSize:"35px !important",cursor:"pointer"},children:"cancelsharp"})})]}),Object(I.jsx)(C.a,{}),Object(I.jsx)(O.a,{onSubmit:function(e){var t={teamName:e.teamName,departmentId:P,projectId:M,users:ae,leads:Z,active:p,agents:G};null!==a&&void 0!==a&&a.id&&(t.id=a.id),Object(o.d)(t).then((function(e){return!1===(null===e||void 0===e?void 0:e.status)?f.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400}):(f.a.fire({icon:"success",title:"Success",text:null!==a&&void 0!==a&&a.id?z.a.UPDATED_SUCCESSFULLY:z.a.CREATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400}),xe("/teams"))}))},initialValues:Se,validationSchema:Be,children:function(e){var t,n=e.values,i=e.errors,r=e.touched,l=e.handleChange,d=e.handleBlur,c=e.handleSubmit;return Object(I.jsxs)("form",{onSubmit:c,children:[Object(I.jsx)(Ce,{children:Object(I.jsxs)(S.a,{container:!0,spacing:2,children:[Object(I.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsx)(y.a,{fullWidth:!0,size:"large",required:!0,name:"teamName",type:"text",label:"Team Name",variant:"outlined",onBlur:d,value:n.teamName,onChange:l,sx:{mb:1.5},error:Boolean(i.teamName&&r.teamName),helperText:r.teamName&&i.teamName})}),Object(I.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsxs)(w.a,{fullWidth:!0,children:[Object(I.jsx)(T.a,{required:!0,id:"department",children:"Department"}),Object(I.jsx)(A.a,{labelId:"department",id:"department",required:!0,value:P,label:"Department",onChange:we,defaultValue:P,children:null===le||void 0===le||null===(t=le.filter((function(e){return e.is_active})))||void 0===t?void 0:t.map((function(e,t){return Object(I.jsx)(E.a,{value:e.id,children:e.name},t)}))})]})}),Object(I.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsxs)(w.a,{fullWidth:!0,children:[Object(I.jsx)(T.a,{required:!0,id:"project",children:"Project"}),Object(I.jsx)(A.a,{labelId:"project",id:"project",required:!0,value:M,label:"Project",onChange:Te,defaultValue:M,children:null===se||void 0===se?void 0:se.map((function(e,t){return Object(I.jsx)(E.a,{value:e.id,children:e.name},t)}))})]})}),Object(I.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsxs)(w.a,{fullWidth:!0,children:[Object(I.jsx)(T.a,{id:"user",children:"Users"}),Object(I.jsx)(A.a,{labelId:"user",id:"user",multiple:!0,value:ae,label:"Users",onChange:Ae,defaultValue:ae,children:null===be||void 0===be?void 0:be.map((function(e,t){return Object(I.jsxs)(E.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(I.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsxs)(w.a,{fullWidth:!0,children:[Object(I.jsx)(T.a,{required:!0,id:"leadId",children:"Team Lead"}),Object(I.jsx)(A.a,{labelId:"teamLead",id:"teamLead",required:!0,multiple:!0,value:Z,label:"Team Lead",onChange:Ee,defaultValue:Z,children:null===ve||void 0===ve?void 0:ve.map((function(e,t){return Object(I.jsxs)(E.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(I.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsxs)(w.a,{fullWidth:!0,children:[Object(I.jsx)(T.a,{required:!0,id:"agent",children:"Agents"}),Object(I.jsx)(A.a,{labelId:"agents",id:"agents",multiple:!0,required:!0,value:G,label:"Agents",onChange:_e,defaultValue:G,children:null===ve||void 0===ve?void 0:ve.map((function(e,t){return Object(I.jsxs)(E.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(I.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsx)(_.a,{control:Object(I.jsx)(B.a,{}),disabled:!(null!==a&&void 0!==a&&a.id),checked:!p,onChange:ye,label:"Inactive"})})]})}),Object(I.jsx)("div",{className:"d-flex justify-content-end",children:Object(I.jsx)(N.a,{type:"submit",color:"primary",variant:"contained",sx:{my:2,top:"50",marginRight:"10px",marginTop:"15vh"},children:"Submit"})})]})}})]})})})},U=a(17),W=a(5),q=a(790),P=a(866),R=a(471),V=a(840),F=a(327),M=a.n(F),H=(Object(W.a)(q.a)((function(){return{whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}})),Object(W.a)(q.a)((function(){return{marginTop:"20px",whiteSpace:"pre","& small":{height:15,width:50,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"},"& th:first-of-type":{paddingLeft:"16px !important"},"& th:nth-of-type(5)":{width:"90px !important"},"& tfoot tr td div:nth-child(1)":{justifyContent:"center",alignItems:"center",flex:"initial",margin:"0.5rem 0"}}}))),J=function(e){var t=e.onEditClick,a=e.onCreateClick,n=(e.setCurrentView,Object(s.useState)([])),i=Object(l.a)(n,2),r=i[0],d=i[1],c=Object(s.useState)(0),u=Object(l.a)(c,2),j=u[0],m=u[1],b=Object(s.useState)(0),h=Object(l.a)(b,2),f=h[0],p=h[1],O=Object(s.useState)(10),x=Object(l.a)(O,2),C=x[0],S=(x[1],function(e,t){m(t)});Object(s.useEffect)((function(){y()}),[j]);var y=function(){Object(o.h)(j,C).then((function(e){var t,a;null===e||void 0===e||null===(t=e.data)||void 0===t||t.pagingData.map((function(e,t){Object.assign(e,{sno:C*j+t+1})})),d(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.pagingData),p(e.data.totalItems)}))};return Object(I.jsxs)(P.a,{width:"100%",overflow:"auto",children:[Object(I.jsx)(R.a,{size:"small",color:"secondary","aria-label":"Add",className:"button addBtn",onClick:function(e,t){a&&a(t)},children:Object(I.jsx)(g.a,{children:"add"})}),Object(I.jsx)(H,{children:Object(I.jsx)(M.a,{title:"Teams",columns:[{title:"Team Name",field:"name"},{title:"Active",field:"status"},{title:"Created At ",field:"createdAt"},{title:"Modified At",field:"modifiedAt"}],data:r.map((function(e){return{name:e.name,status:e.is_active,createdBy:e.name,modifiedBy:e.name,createdAt:v()(e.createdAt).format(z.a.DATE_FORMAT),modifiedAt:v()(e.updatedAt).format(z.a.DATE_FORMAT),id:e.id}})),actions:[{icon:"edit",tooltip:"Edit User",onClick:function(e,a){t&&t(a.id)}}],options:{actionsColumnIndex:-1,emptyRowsWhenPaging:!1,showTitle:!1,search:!1,toolbar:!1,pageSizeOptions:[],pageSize:C,tableLayout:"auto",maxBodyHeight:"400px",headerStyle:{fontSize:"14px",backgroundColor:"#222A45",color:"white",fontWeight:"700"}},components:{Pagination:function(e){return Object(I.jsx)(V.a,Object(U.a)(Object(U.a)({},e),{},{count:f,rowsPerPage:C,page:j,onPageChange:S,labelDisplayedRows:function(){return""}}))}}})})]})},Y=Object(c.a)("div")((function(e){var t=e.theme;return Object(d.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})}));Object(c.a)("span")((function(){return{fontSize:"1rem",fontWeight:"500",textTransform:"capitalize"}})),Object(c.a)("span")((function(e){return{fontSize:"0.875rem",color:e.theme.palette.text.secondary}})),Object(c.a)("h4")((function(e){return{fontSize:"1rem",fontWeight:"500",marginBottom:"16px",textTransform:"capitalize",color:e.theme.palette.text.secondary}})),t.default=function(){var e=Object(s.useState)("Teams"),t=Object(l.a)(e,2),a=t[0],n=t[1],i=Object(j.l)(),r=Object(m.d)(),d=Object(l.a)(r,1)[0],c=Object(s.useState)(),u=Object(l.a)(c,2),b=u[0],h=u[1];Object(s.useEffect)((function(){var e;"create-team"===d.get("type")?n("Create"):"edit-team"===(null===d||void 0===d||null===(e=d.get("type"))||void 0===e?void 0:e.split("/")[0])?f(d.get("type").split("/")[1]):(n("Teams"),h())}),[d]);var f=function(e){Object(o.n)({id:e}).then((function(e){h(e.data)})),n("Edit"),i({search:"?type=edit-team/".concat(e)})};return Object(I.jsx)(s.Fragment,{children:Object(I.jsxs)(Y,{children:["Teams"===a&&Object(I.jsx)(J,{onEditClick:f,onCreateClick:function(){n("Create"),i({search:"?type=create-team"})},setEditDetails:h,setCurrentView:n}),"Create"===a&&Object(I.jsx)(k,{onClose:function(){n("List"),i({search:""}),h()},editDetails:b}),"Edit"===a&&b&&Object(I.jsx)(k,{onClose:function(){n("List"),i({search:""}),h()},editDetails:b})]})})}}}]);
//# sourceMappingURL=17.77fc5a68.chunk.js.map