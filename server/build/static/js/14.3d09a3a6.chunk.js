(this.webpackJsonpUI=this.webpackJsonpUI||[]).push([[14],{1646:function(e,t,a){},1774:function(e,t,a){"use strict";a.r(t);var i,n,o,r=a(52),l=a(5),c=a(3),d=a(32),s=a.n(d),u=a(298),h=a(146),j=a(0),b=a.n(j),f=a(45),p=a(105),m=a(34),v=a(60),O=a.n(v),y=a(302),x=(a(1646),a(669)),g=a(546),C=a(824),S=a(825),w=a(663),D=a(664),_=a(686),N=a(857),E=a(864),B=a(956),A=a(138),H=a(858),k=a(206),z=a(580),I=a(147),L=a.n(I),T=a(1),P=function(e){var t=e.onClose,a=e.editDetails,r=b.a.useState(!1),c=Object(l.a)(r,2),d=(c[0],c[1]),s=b.a.useState([]),u=Object(l.a)(s,2),p=u[0],v=u[1],I=b.a.useState(),P=Object(l.a)(I,2),R=P[0],W=P[1],U=b.a.useState(null===a||void 0===a||!a.is_active||a.is_active),F=Object(l.a)(U,2),Y=F[0],M=F[1],V=Object(f.f)(),q=A.a.div(i||(i=Object(m.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n    font-size: 1.5rem;\n"]))),J=A.a.div(n||(n=Object(m.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    padding: 1rem 1rem 0 1rem;\n    gap: 1rem;\n"])),(function(e){return e.divide?"50% 48.4%":"100%"}));A.a.div(o||(o=Object(m.a)(["\n    color: red;\n    font-size: 13px;\n"])));Object(j.useEffect)((function(){var e;a&&(M(null===a||void 0===a?void 0:a.is_active),W(null===a||void 0===a?void 0:a.project_id)),null===(e=Object(h.s)())||void 0===e||e.then((function(e){if(!1===(null===e||void 0===e?void 0:e.status))return O.a.fire({icon:"error",title:"Error hi",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400});var t;v(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.projects)}))}),[]);var G=z.b().shape({holidayName:z.c().max(20,"Holiday Name can not be more than 20 characters long")}),K={holidayName:null!==a&&void 0!==a&&a.holiday_name?a.holiday_name:"",holidayDate:null!==a&&void 0!==a&&a.holiday_date?a.holiday_date:""},Q=function(e){null!==e&&void 0!==e&&e.target.checked?M(!1):M(!0)};return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{children:Object(T.jsxs)(x.a,{elevation:3,sx:{pt:0,mb:0,minHeight:"40vh"},children:[Object(T.jsxs)(q,{children:[Object(T.jsx)("div",{children:null!==a&&void 0!==a&&a.id?"Edit Holiday":"Add Holiday"}),Object(T.jsx)("div",{onClick:function(e){return!!t&&t(e)&&d(!1)},children:Object(T.jsx)(g.a,{sx:{color:"#59B691",fontSize:"35px !important",cursor:"pointer"},children:"cancelsharp"})})]}),Object(T.jsx)(C.a,{}),Object(T.jsx)(y.a,{onSubmit:function(e){var t={holidayName:e.holidayName,holidayDate:null!==e.holidayDate?L()(e.holidayDate).format(k.a.DATE_HOLIDAYS_FORMAT):"/",is_active:Y,projectId:R};if(null!==a&&void 0!==a&&a.id)t.id=a.id;else if(!e.holidayName)return O.a.fire({icon:"warning",title:"Warning",text:k.a.HOLIDAY_NAME_MANDATORY,showCloseButton:!0,showConfirmButton:!1,width:400});Object(h.d)(t).then((function(e){return!1===(null===e||void 0===e?void 0:e.status)?O.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400}):(O.a.fire({icon:"success",title:"Success",text:null!==a&&void 0!==a&&a.id?k.a.UPDATED_SUCCESSFULLY:k.a.CREATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400}),V("/holidays"))}))},initialValues:K,validationSchema:G,children:function(e){var t=e.values,i=e.errors,n=e.touched,o=e.handleChange,r=e.handleBlur,l=e.handleSubmit;return Object(T.jsxs)("form",{onSubmit:l,children:[Object(T.jsxs)(J,{divide:!0,children:[Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{fullWidth:!0,size:"large",name:"holidayName",type:"text",label:"Holiday Name",variant:"outlined",onBlur:r,value:t.holidayName,onChange:o,error:Boolean(i.holidayName&&n.holidayName),helperText:n.holidayName&&i.holidayName,sx:{mb:1.5}}),Object(T.jsx)("br",{}),Object(T.jsx)(S.a,{fullWidth:!0,size:"large",name:"holidayDate",type:"date",label:"holiday_date",variant:"outlined",onBlur:r,value:t.holidayDate,onChange:o,error:Boolean(i.holidayDate&&n.holidayDate),helperText:n.holidayDate&&i.holidayDate,sx:{mb:1.5},InputLabelProps:{shrink:!0}}),Object(T.jsx)("br",{})]}),Object(T.jsx)("div",{children:Object(T.jsxs)(w.a,{fullWidth:!0,children:[Object(T.jsx)(D.a,{required:!0,id:"projects",children:"Projects"}),Object(T.jsx)(_.a,{labelId:"projects",id:"projects",required:!0,value:R,label:"Project Name",onChange:function(e){W(e.target.value)},defaultValue:R,children:null===p||void 0===p?void 0:p.filter((function(e,t){return!0===e.is_active})).map((function(e,t){return console.log(p,"hshshs"),Object(T.jsx)(N.a,{value:e.id,children:e.name},t)}))})]})}),Object(T.jsx)("div",{children:Object(T.jsx)(E.a,{control:Object(T.jsx)(B.a,{}),disabled:!(null!==a&&void 0!==a&&a.id),checked:!Y,onChange:Q,label:"Inactive"})})]}),Object(T.jsx)("div",{className:"d-flex justify-content-end",children:Object(T.jsx)(H.a,{type:"submit",color:"primary",variant:"contained",sx:{my:2,top:"100",marginRight:"10px",marginTop:"45vh"},children:"Submit"})})]})}})]})})})},R=a(17),W=a(7),U=a(898),F=a(987),Y=a(567),M=a(961),V=a(394),q=a.n(V),J=(Object(W.a)(U.a)((function(){return{whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}})),Object(W.a)(U.a)((function(){return{marginTop:"20px",whiteSpace:"pre","& small":{height:15,width:50,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"},"& th:first-of-type":{paddingLeft:"16px !important"},"& th:nth-of-type(3)":{width:"90px !important"},"& tfoot tr td div:nth-child(1)":{justifyContent:"center",alignItems:"center",flex:"initial",margin:"0.5rem 0"}}}))),G=function(e){var t=e.onEditClick,a=e.onCreateClick,i=(e.setCurrentView,Object(j.useState)([])),n=Object(l.a)(i,2),o=n[0],r=n[1],c=Object(j.useState)(0),d=Object(l.a)(c,2),s=d[0],u=d[1],b=Object(j.useState)(0),f=Object(l.a)(b,2),p=f[0],m=f[1],v=Object(j.useState)(10),O=Object(l.a)(v,2),y=O[0],x=(O[1],function(e,t){u(t)});Object(j.useEffect)((function(){C()}),[s]);var C=function(){Object(h.j)(s,y).then((function(e){var t,a;null===e||void 0===e||null===(t=e.data)||void 0===t||t.pagingData.map((function(e,t){Object.assign(e,{sno:y*s+t+1})})),r(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.pagingData),m(e.data.totalItems)}))};return Object(T.jsxs)(F.a,{width:"100%",overflow:"auto",children:[Object(T.jsx)(Y.a,{size:"small",color:"secondary","aria-label":"Add",className:"button addBtn",onClick:function(e,t){a&&a(t)},children:Object(T.jsx)(g.a,{children:"add"})}),Object(T.jsx)(J,{children:Object(T.jsx)(q.a,{title:"Holidays",columns:[{title:"Holiday Name",field:"holidayName"},{title:"Holiday Date",field:"holidayDate"},{title:"Active",field:"status"},{title:"Project",field:"project"}],data:o.map((function(e){var t;return console.log(e),{holidayName:e.holiday_name,holidayDate:null!==e.holiday_date?L()(e.holiday_date).format(k.a.DATE_HOLIDAYS_FORMAT):"-",status:e.is_active,holidayId:e.id,projectId:e.project_id,project:null===(t=e.project)||void 0===t?void 0:t.name}})),actions:[{icon:"edit",tooltip:"Edit Holiday",onClick:function(e,a){t&&t(a.holidayId)}}],options:{actionsColumnIndex:-1,emptyRowsWhenPaging:!1,showTitle:!1,search:!1,toolbar:!1,pageSizeOptions:[],pageSize:y,tableLayout:"auto",maxBodyHeight:"400px",headerStyle:{fontSize:"14px",backgroundColor:"#222A45",color:"white",fontWeight:"700"}},components:{Pagination:function(e){return Object(T.jsx)(M.a,Object(R.a)(Object(R.a)({},e),{},{count:p,rowsPerPage:y,page:s,onPageChange:x,labelDisplayedRows:function(){return""}}))}}})})]})},K=Object(u.a)("div")((function(e){var t=e.theme;return Object(c.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})}));Object(u.a)("span")((function(){return{fontSize:"1rem",fontWeight:"500",textTransform:"capitalize"}})),Object(u.a)("span")((function(e){return{fontSize:"0.875rem",color:e.theme.palette.text.secondary}})),Object(u.a)("h4")((function(e){return{fontSize:"1rem",fontWeight:"500",marginBottom:"16px",textTransform:"capitalize",color:e.theme.palette.text.secondary}})),t.default=function(){var e=Object(j.useState)("Holiday"),t=Object(l.a)(e,2),a=t[0],i=t[1],n=Object(f.f)(),o=Object(p.d)(),c=Object(l.a)(o,1)[0],d=Object(j.useState)(),u=Object(l.a)(d,2),b=u[0],m=u[1];Object(j.useEffect)((function(){var e;"create-holiday"===c.get("type")?i("Create"):"edit-holiday"===(null===c||void 0===c||null===(e=c.get("type"))||void 0===e?void 0:e.split("/")[0])?v(c.get("type").split("/")[1]):(i("Holiday"),m())}),[c]);var v=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.r)({id:t}).then((function(e){m(e.data)}));case 2:i("Edit"),n({search:"?type=edit-holiday/".concat(t)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(j.Fragment,{children:Object(T.jsxs)(K,{children:["Holiday"===a&&Object(T.jsx)(G,{onEditClick:v,onCreateClick:function(){i("Create"),n({search:"?type=create-holiday"})},setEditDetails:m,setCurrentView:i}),"Create"===a&&Object(T.jsx)(P,{onClose:function(){i("List"),n({search:""}),m()},editDetails:b}),"Edit"===a&&b&&Object(T.jsx)(P,{onClose:function(){i("List"),n({search:""}),m()},editDetails:b})]})})}}}]);
//# sourceMappingURL=14.3d09a3a6.chunk.js.map