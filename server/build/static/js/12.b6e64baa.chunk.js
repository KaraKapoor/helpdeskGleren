(this.webpackJsonpUI=this.webpackJsonpUI||[]).push([[12],{1500:function(e,t,i){},1658:function(e,t,i){"use strict";i.r(t);var n,o,r,a=i(18),c=i(34),s=i(9),d=i(4),l=i(255),u=i(124),v=i(1),j=i.n(v),b=i(26),f=i(96),x=i(46),h=i(52),p=i.n(h),O=(i(126),i(259)),m=i(574),g=i(459),C=i(721),w=i(722),S=i(570),_=i(571),y=i(589),E=i(754),k=i(761),B=i(854),D=i(133),F=i(755),I=i(178),L=(i(1500),i(492)),P=i(2),A=function(e){var t=e.onClose,i=e.editDetails,a=j.a.useState(!1),c=Object(s.a)(a,2),d=(c[0],c[1]),l=j.a.useState(null===i||void 0===i||!i.is_active||i.is_active),f=Object(s.a)(l,2),h=f[0],A=f[1],N=j.a.useState([]),V=Object(s.a)(N,2),z=V[0],R=V[1],T=j.a.useState(),U=Object(s.a)(T,2),W=U[0],q=U[1],Y=Object(b.l)(),H=D.a.div(n||(n=Object(x.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n    font-size: 1.5rem;\n  "]))),J=D.a.div(o||(o=Object(x.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    padding: 1rem 1rem 0 1rem;\n    gap: 1rem;\n  "])),(function(e){return e.divide?"50% 48.4%":"100%"})),M=D.a.div(r||(r=Object(x.a)(["\n  width:15px;\n  height:15px;\n  border:5px solid red;\n  background-color:red;\n  color:white;\n  border-radius:50%;\n  text-align:center;\n"])));Object(v.useEffect)((function(){var e;i&&(A(null===i||void 0===i?void 0:i.is_active),q(null===i||void 0===i?void 0:i.project_id)),null===(e=Object(u.n)())||void 0===e||e.then((function(e){if(!1===(null===e||void 0===e?void 0:e.status))return p.a.fire({icon:"error",title:"Error hi",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400});var t;R(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.projects)}))}),[]);var X=L.b().shape({fix_version:L.c().max(20,"FixVersion Name can not be more than 20 characters long")}),G={fix_version:null!==i&&void 0!==i&&i.fix_version?i.fix_version:""},K=function(e){null!==e&&void 0!==e&&e.target.checked?A(!1):A(!0)};return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{children:Object(P.jsxs)(m.a,{elevation:3,sx:{pt:0,mb:0,minHeight:"50vh"},children:[Object(P.jsxs)(H,{children:[Object(P.jsx)("div",{children:null!==i&&void 0!==i&&i.id?"Edit Fix version":"Add Fix version"}),Object(P.jsx)("div",{onClick:function(e){return!!t&&t(e)&&d(!1)},children:Object(P.jsx)(g.a,{sx:{color:"#59B691",fontSize:"35px !important",cursor:"pointer"},children:"cancelsharp"})})]}),Object(P.jsx)(C.a,{}),Object(P.jsx)(O.a,{onSubmit:function(e){var t,n={fixversion:e.fix_version,project_id:W,is_active:h};if(null!==i&&void 0!==i&&i.id)n.id=i.id;else if(!e.fix_version)return p.a.fire({icon:"warning",title:"Warning",text:I.a.FIX_VERSION_MANDATORY,showCloseButton:!0,showConfirmButton:!1,width:400});null===(t=Object(u.c)(n))||void 0===t||t.then((function(e){return!1===(null===e||void 0===e?void 0:e.status)?p.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400}):(p.a.fire({icon:"success",title:"Success",text:null!==i&&void 0!==i&&i.id?I.a.UPDATED_SUCCESSFULLY:I.a.CREATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400}),Y("/fixedversion"))}))},initialValues:G,validationSchema:X,children:function(e){var t=e.values,n=e.errors,o=e.touched,r=e.handleChange,a=e.handleBlur,c=e.handleSubmit;return Object(P.jsxs)("form",{onSubmit:c,children:[Object(P.jsxs)(J,{divide:!0,children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(w.a,{fullWidth:!0,size:"large",name:"fix_version",type:"text",label:"Fix Version",required:!0,variant:"outlined",onBlur:a,value:t.fix_version,onChange:r,error:Boolean(n.fix_version&&o.fix_version),helperText:o.fix_version&&n.fix_version,sx:{mb:1.5}}),Object(P.jsx)("br",{})]}),Object(P.jsx)("div",{children:Object(P.jsxs)(S.a,{fullWidth:!0,children:[Object(P.jsx)(_.a,{required:!0,id:"projects",children:"Projects"}),Object(P.jsx)(y.a,{labelId:"projects",id:"projects",required:!0,value:W,label:"Project Name",onChange:function(e){return t=e,console.log(t,"jsjsjs"),void q(t.target.value);var t},defaultValue:W,className:"isactiveDivStyle",children:z.filter((function(e){return e.is_active||e.id===W})).map((function(e,t){return Object(P.jsxs)(E.a,{value:e.id,className:"isactive-error",children:[e.name," ",!1===e.is_active?Object(P.jsx)(M,{}):""]},t)}))})]})}),Object(P.jsx)("div",{children:Object(P.jsx)(k.a,{control:Object(P.jsx)(B.a,{}),disabled:!(null!==i&&void 0!==i&&i.id),checked:!h,onChange:K,label:"Inactive"})})]}),Object(P.jsx)("div",{className:"d-flex justify-content-end",children:Object(P.jsx)(F.a,{type:"submit",color:"primary",variant:"contained",sx:{my:2,top:"100",marginRight:"10px",marginTop:"45vh"},children:"Submit"})})]})}})]})})})},N=i(14),V=i(5),z=i(796),R=i(886),T=i(474),U=i(859),W=i(330),q=i.n(W),Y=Object(V.a)(z.a)((function(){return{marginTop:"20px",whiteSpace:"pre",thead:{backgroundColor:"rgb(34, 42, 69)"},"thead > tr":{backgroundColor:"rgb(34, 42, 69)"},"& small":{height:15,width:50,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"1px solid rgba(224, 224, 224, 1)"},"& td:first-of-type":{paddingLeft:"16px !important"},"& th:nth-of-type(3)":{width:"90px !important"},"& th:first-of-type":{paddingLeft:"16px !important"},"& tfoot tr td div:nth-child(1)":{justifyContent:"center",alignItems:"center",flex:"initial",margin:"0.5rem 0"}}})),H=function(e){var t=e.onEditClick,i=e.onCreateClick,n=(e.setCurrentView,Object(v.useState)([])),o=Object(s.a)(n,2),r=o[0],a=o[1],c=Object(v.useState)(0),d=Object(s.a)(c,2),l=d[0],j=d[1],b=Object(v.useState)(0),f=Object(s.a)(b,2),x=f[0],h=f[1],p=Object(v.useState)(10),O=Object(s.a)(p,2),m=O[0],C=(O[1],function(e,t){j(t)});Object(v.useEffect)((function(){w()}),[l]);var w=function(){var e;null===(e=Object(u.j)(l,m))||void 0===e||e.then((function(e){var t,i,n,o;null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.pagingData)||void 0===i||i.map((function(e,t){null===Object||void 0===Object||Object.assign(e,{sno:m*l+t+1})})),a(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.pagingData),h(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.totalItems)}))};return Object(P.jsxs)(R.a,{width:"100%",overflow:"auto",children:[Object(P.jsx)(T.a,{size:"small",color:"secondary","aria-label":"Add",className:"button addBtn",onClick:function(e,t){i&&i(t)},children:Object(P.jsx)(g.a,{children:"add"})}),Object(P.jsx)(Y,{children:Object(P.jsx)(q.a,{title:"FixVersion",columns:[{title:"Fix version",field:"fix_version"},{title:"Project",field:"projects"},{title:"Active",field:"is_active"}],data:null===r||void 0===r?void 0:r.map((function(e){var t;return{fix_version:e.fix_version,projects:null===(t=e.project)||void 0===t?void 0:t.name,is_active:e.is_active,projectId:e.id}})),actions:[{icon:"edit",tooltip:"Edit fix version",onClick:function(e,i){t&&t(null===i||void 0===i?void 0:i.projectId)}}],options:{actionsColumnIndex:-1,emptyRowsWhenPaging:!1,showTitle:!1,search:!1,toolbar:!1,pageSizeOptions:[],pageSize:m,tableLayout:"auto",maxBodyHeight:"400px",headerStyle:{fontSize:"14px",backgroundColor:"#222A45",color:"white",fontWeight:"700"}},components:{Pagination:function(e){return Object(P.jsx)(U.a,Object(N.a)(Object(N.a)({},e),{},{count:x,rowsPerPage:m,page:l,onPageChange:C,labelDisplayedRows:function(){return""}}))}}})})]})},J=Object(l.a)("div")((function(e){var t=e.theme;return Object(d.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})}));t.default=function(){var e=Object(v.useState)("fixedversion"),t=Object(s.a)(e,2),i=t[0],n=t[1],o=Object(b.l)(),r=Object(f.d)(),d=Object(s.a)(r,1)[0],l=Object(v.useState)(),j=Object(s.a)(l,2),x=j[0],h=j[1];Object(v.useEffect)((function(){var e,t;return"create-fixedversion"===(null===d||void 0===d?void 0:d.get("type"))?n("Create"):"edit-fixedversion"===(null===d||void 0===d||null===(e=d.get("type"))||void 0===e?void 0:e.split("/")[0])?p(null===d||void 0===d||null===(t=d.get("type"))||void 0===t?void 0:t.split("/")[1]):(n("fixedversion"),h())}),[d]);var p=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.q)({id:t}).then((function(e){h(null===e||void 0===e?void 0:e.data)}));case 2:n("Edit"),o({search:"?type=edit-fixedversion/".concat(t)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(v.Fragment,{children:Object(P.jsxs)(J,{children:["fixedversion"===i&&Object(P.jsx)(H,{onEditClick:p,onCreateClick:function(){n("Create"),o({search:"?type=create-fixedversion"})},setEditDetails:h,setCurrentView:n}),"Create"===i&&Object(P.jsx)(A,{onClose:function(){n("List"),o({search:""}),h()},editDetails:x}),"Edit"===i&&x&&Object(P.jsx)(A,{onClose:function(){n("List"),o({search:""}),h()},editDetails:x})]})})}}}]);
//# sourceMappingURL=12.b6e64baa.chunk.js.map