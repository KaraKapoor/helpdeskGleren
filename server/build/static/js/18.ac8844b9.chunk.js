(this.webpackJsonpUI=this.webpackJsonpUI||[]).push([[18],{1472:function(e,t,a){},1599:function(e,t,a){"use strict";a.r(t);var i,n,l,r=a(9),o=a(4),s=a(252),d=a(593),c=a(1),u=a.n(c),m=a(24),j=a(97),b=a(51),h=a(49),f=a.n(h),v=a(125),x=a.n(v),p=a(256),O=(a(1472),a(570)),g=a(456),C=a(716),S=a(839),y=a(717),w=a(566),E=a(567),N=a(584),_=a(746),L=a(755),z=a(835),B=a(163),D=a(747),U=a(175),k=a(27),I=a(198),T=a(2),W=function(e){var t=e.onClose,a=e.editDetails,o=u.a.useState(!1),s=Object(r.a)(o,2),j=(s[0],s[1]),h=u.a.useState(null===a||void 0===a||!a.is_active||a.is_active),v=Object(r.a)(h,2),x=v[0],W=v[1],A=u.a.useState(k.a.user),q=Object(r.a)(A,2),R=q[0],F=q[1],P=u.a.useState(),V=Object(r.a)(P,2),H=(V[0],V[1]),J=u.a.useState(),M=Object(r.a)(J,2),Y=M[0],G=M[1],K=u.a.useState(),Q=Object(r.a)(K,2),X=Q[0],Z=Q[1],$=Object(m.l)(),ee=B.a.div(i||(i=Object(b.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\npadding: 1rem;\nfont-size: 1.5rem;\n"]))),te=B.a.div(n||(n=Object(b.a)(["\ndisplay: grid;\ngrid-template-columns: ",";\npadding: 1rem 1rem 0 1rem;\ngap: 1rem;\n"])),(function(e){return e.divide?"50% 48.4%":"100%"}));B.a.div(l||(l=Object(b.a)(["\ncolor: red;\nfont-size: 13px;\n"])));u.a.useEffect((function(){a&&(W(null===a||void 0===a?void 0:a.is_active),"admin"===(null===a||void 0===a?void 0:a.role)?F(k.a.admin):"teamLead"===(null===a||void 0===a?void 0:a.role)?F(k.a.teamLead):"agent"===(null===a||void 0===a?void 0:a.role)?F(k.a.agent):"user"===(null===a||void 0===a?void 0:a.role)&&F(k.a.user))}),[]);var ae={firstName:null!==a&&void 0!==a&&a.first_name?a.first_name:"",lastName:null!==a&&void 0!==a&&a.last_name?a.last_name:"",email:null!==a&&void 0!==a&&a.email?a.email:"",designation:null!==a&&void 0!==a&&a.designation?a.designation:"",mobile:null!==a&&void 0!==a&&a.mobile?a.mobile:"",role:null!==a&&void 0!==a&&a.role?a.role:"",departmentId:null!==a&&void 0!==a&&a.department_id?a.department_id:""},ie=function(e){F(e.target.value)},ne=function(e){null!==e&&void 0!==e&&e.target.checked?W(!1):W(!0)};Object(c.useEffect)((function(){Object(I.l)().then((function(e){if(!1===(null===e||void 0===e?void 0:e.status))return f.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400});var t;G(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.departments),H(e.data),Z(null===a||void 0===a?void 0:a.department_id)}))}),[]);var le=function(e){Z(e.target.value)};return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{children:Object(T.jsxs)(O.a,{elevation:3,sx:{pt:0,mb:0,minHeight:"50vh"},children:[Object(T.jsxs)(ee,{children:[Object(T.jsx)("div",{children:null!==a&&void 0!==a&&a.id?"Edit User":"Add User"}),Object(T.jsx)("div",{onClick:function(e){return!!t&&t(e)&&j(!1)},children:Object(T.jsx)(g.a,{sx:{color:"#59B691",fontSize:"35px !important",cursor:"pointer"},children:"cancelsharp"})})]}),Object(T.jsx)(C.a,{}),Object(T.jsx)(p.a,{onSubmit:function(e){var t={email:e.email,active:x,firstName:e.firstName,lastName:e.lastName,role:R.toString(),designation:e.designation,mobile:e.mobile,departmentId:X};null!==a&&void 0!==a&&a.id&&(t.id=a.id),Object(d.b)(t).then((function(e){return!1===(null===e||void 0===e?void 0:e.status)?f.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400}):(f.a.fire({icon:"success",title:"Success",text:null!==a&&void 0!==a&&a.id?U.a.UPDATED_SUCCESSFULLY:U.a.CREATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400}),$("/users"))}))},initialValues:ae,children:function(e){var t=e.values,i=(e.errors,e.touched,e.handleChange),n=e.handleBlur,l=e.handleSubmit;return Object(T.jsxs)("form",{onSubmit:l,children:[Object(T.jsx)(te,{children:Object(T.jsxs)(S.a,{container:!0,spacing:2,children:[Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsx)(y.a,{fullWidth:!0,size:"large",required:!0,name:"firstName",type:"text",label:"First Name",variant:"outlined",onBlur:n,value:t.firstName,onChange:i,sx:{mb:1.5}})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsx)(y.a,{fullWidth:!0,size:"large",name:"lastName",required:!0,type:"text",label:"Last Name",variant:"outlined",onBlur:n,value:t.lastName,onChange:i,sx:{mb:1.5}})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsx)(y.a,{fullWidth:!0,size:"large",name:"email",required:!0,type:"email",label:"Email",disabled:!(null===a||void 0===a||!a.id),variant:"outlined",onBlur:n,value:t.email,onChange:i,sx:{mb:1.5}})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsx)(y.a,{fullWidth:!0,size:"large",name:"mobile",required:!0,type:"text",label:"Mobile",variant:"outlined",onBlur:n,value:t.mobile,onChange:i,sx:{mb:1.5}})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsx)(y.a,{fullWidth:!0,size:"large",name:"designation",required:!0,type:"text",label:"Designation",variant:"outlined",onBlur:n,value:t.designation,onChange:i,sx:{mb:1.5}})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsxs)(w.a,{fullWidth:!0,children:[Object(T.jsx)(E.a,{required:!0,id:"role",children:"Role"}),Object(T.jsxs)(N.a,{labelId:"role",id:"role",value:R,label:"Role",required:!0,onChange:ie,defaultValue:t.role,children:[Object(T.jsx)(_.a,{value:k.a.admin,children:"Admin"}),Object(T.jsx)(_.a,{value:k.a.teamLead,children:"Team Lead"}),Object(T.jsx)(_.a,{value:k.a.agent,children:"Agent"}),Object(T.jsx)(_.a,{value:k.a.user,children:"User"})]})]})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsxs)(w.a,{fullWidth:!0,children:[Object(T.jsx)(E.a,{required:!0,id:"role",children:"Department"}),Object(T.jsx)(N.a,{labelId:"department",id:"department",required:!0,value:X,label:"Department",onChange:le,defaultValue:X,children:null===Y||void 0===Y?void 0:Y.map((function(e,t){return Object(T.jsx)(_.a,{value:e.id,children:e.name},t)}))})]})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsx)(L.a,{control:Object(T.jsx)(z.a,{}),disabled:!(null!==a&&void 0!==a&&a.id),checked:!x,onChange:ne,label:"Inactive"})})]})}),Object(T.jsx)("div",{className:"d-flex justify-content-end",children:Object(T.jsx)(D.a,{type:"submit",color:"primary",variant:"contained",sx:{my:2,top:"60",marginRight:"10px",marginTop:"25vh"},children:"Update"})})]})}})]})})})},A=a(17),q=a(5),R=a(790),F=a(866),P=a(471),V=a(840),H=a(326),J=a.n(H),M=(Object(q.a)(R.a)((function(){return{whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}})),Object(q.a)(R.a)((function(){return{marginTop:"20px",whiteSpace:"pre","& small":{height:15,width:50,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"},"& th:first-of-type":{paddingLeft:"16px !important"},"& tfoot tr td div:nth-child(1)":{justifyContent:"center",alignItems:"center",flex:"initial",margin:"0.5rem 0"}}}))),Y=function(e){var t=e.onEditClick,a=e.onCreateClick,i=(e.setCurrentView,Object(c.useState)([])),n=Object(r.a)(i,2),l=n[0],o=n[1],s=Object(c.useState)(0),u=Object(r.a)(s,2),m=u[0],j=u[1],b=Object(c.useState)(0),h=Object(r.a)(b,2),f=h[0],v=h[1],p=Object(c.useState)(10),O=Object(r.a)(p,2),C=O[0],S=(O[1],function(e,t){j(t)});Object(c.useEffect)((function(){y()}),[m]);var y=function(){Object(d.d)(m,C).then((function(e){var t,a;null===e||void 0===e||null===(t=e.data)||void 0===t||t.pagingData.map((function(e,t){Object.assign(e,{sno:C*m+t+1})})),o(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.pagingData),v(e.data.totalItems)}))};return Object(T.jsxs)(F.a,{width:"100%",overflow:"auto",children:[Object(T.jsx)(P.a,{size:"small",color:"secondary","aria-label":"Add",className:"button addBtn",onClick:function(e,t){a&&a(t)},children:Object(T.jsx)(g.a,{children:"add"})}),Object(T.jsx)(M,{children:Object(T.jsx)(J.a,{title:"Users",columns:[{title:"User Email",field:"email"},{title:"First Name",field:"firstName"},{title:"Last Name",field:"lastName"},{title:"Active",field:"status"},{title:"Last Login Date",field:"loginDate"}],data:l.map((function(e){return{userId:e.id,email:e.email,firstName:e.first_name,lastName:e.last_name,status:e.is_active,projectId:e.id,loginDate:null!==e.last_login_dt?x()(e.last_login_dt).format(U.a.DATE_FORMAT):"-"}})),actions:[{icon:"edit",tooltip:"Edit User",onClick:function(e,a){t&&t(a.userId)}}],options:{actionsColumnIndex:-1,emptyRowsWhenPaging:!1,showTitle:!1,search:!1,toolbar:!1,pageSizeOptions:[],pageSize:C,tableLayout:"auto",maxBodyHeight:"400px",headerStyle:{fontSize:"14px",backgroundColor:"#222A45",color:"white",fontWeight:"700"}},components:{Pagination:function(e){return Object(T.jsx)(V.a,Object(A.a)(Object(A.a)({},e),{},{count:f,rowsPerPage:C,page:m,onPageChange:S,labelDisplayedRows:function(){return""}}))}}})})]})},G=Object(s.a)("div")((function(e){var t=e.theme;return Object(o.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})}));Object(s.a)("span")((function(){return{fontSize:"1rem",fontWeight:"500",textTransform:"capitalize"}})),Object(s.a)("span")((function(e){return{fontSize:"0.875rem",color:e.theme.palette.text.secondary}})),Object(s.a)("h4")((function(e){return{fontSize:"1rem",fontWeight:"500",marginBottom:"16px",textTransform:"capitalize",color:e.theme.palette.text.secondary}})),t.default=function(){var e=Object(c.useState)("Users"),t=Object(r.a)(e,2),a=t[0],i=t[1],n=Object(m.l)(),l=Object(j.d)(),o=Object(r.a)(l,1)[0],s=Object(c.useState)(),u=Object(r.a)(s,2),b=u[0],h=u[1];Object(c.useEffect)((function(){var e;"create-user"===o.get("type")?i("Create"):"edit-user"===(null===o||void 0===o||null===(e=o.get("type"))||void 0===e?void 0:e.split("/")[0])?f(o.get("type").split("/")[1]):(i("Users"),h())}),[o]);var f=function(e){Object(d.g)({id:e}).then((function(e){h(e.data)})),i("Edit"),n({search:"?type=edit-user/".concat(e)})};return Object(T.jsx)(c.Fragment,{children:Object(T.jsxs)(G,{children:["Users"===a&&Object(T.jsx)(Y,{onEditClick:f,onCreateClick:function(){i("Create"),n({search:"?type=create-user"})},setEditDetails:h,setCurrentView:i}),"Create"===a&&Object(T.jsx)(W,{onClose:function(){i("List"),n({search:""}),h()},editDetails:b}),"Edit"===a&&b&&Object(T.jsx)(W,{onClose:function(){i("List"),n({search:""}),h()},editDetails:b})]})})}}}]);
//# sourceMappingURL=18.ac8844b9.chunk.js.map