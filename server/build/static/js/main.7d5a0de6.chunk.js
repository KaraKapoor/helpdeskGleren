(this["webpackJsonpnarayanagroup-portal"]=this["webpackJsonpnarayanagroup-portal"]||[]).push([[0],{54:function(e,t,a){},547:function(e,t,a){},549:function(e,t,a){},550:function(e,t,a){},760:function(e,t){},783:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),i=a.n(n),l=a(31),r=a.n(l),o=(a(547),a(3)),c=a.n(o),d=a(10),h=a(26),u=a(27),b=a(30),p=a(29),m=(a(549),a(57)),g=a(62),j=(a(550),"Original Message"),f="Last Message",O="Full Message",v="Closing email",x=["school","schools","nspira-s","rnet-schools"],y=["college","colleges","nspira-c","rnet-colleges","nspira-cc","narius-cc","nspira-civils","jr colleges","coaching centre","cc"],S=["nspira-co","nspira-cc-co","nspira-zo","zonal office","nguide-ro","nguide","cbd","central office","co","nspira-press","nspira-wh","nguide-co","nspira-campaigning","campaigning","civil services","rnet","printing press"],T="1 Day",k="2 Day",D="3 Day",w="4 Day",C="5 Day",A="6 Day",I="7 Day",F="8 Day",N="9 Day",P="10 Day",L="11 Day",R="12 Day",E="13 Day",B="14 Day",M="15 Day",U="16 Day",V="17 Day",_="18 Day",H="19 Day",G="20 Day",W="21 Day",Y="22 Day",z="23 Day",J="24 Day",q="25 Day",K="26 Day",Q="27 Day",Z="28 Day",X="29 Day",$="30 Day",ee="MY_TICKETS_FILTERS",te="ESCALATED_TICKETS_FILTERS",ae="TRANSFER_TICKETS_FILTERS",se="ALL_TICKETS_FILTERS",ne="MY_TEAMS_TICKETS_FILTERS",ie="ANALYTICS_FILTERS",le="TICKET_STATUS",re="TICKET_CREATED_DATE_RANGE",oe="TICKET_DEPARTMENT_NAME",ce="TICKET_HELPTOPIC_NAME",de="TICKET_ASSIGNEE_NAME",he="TICKET_OVERDUE",ue="TICKET_CLOSED_DATE_START_RANGE",be="TEAM_NAME",pe="TEAM_LEAD_NAME",me="DEPARTMENT_ASSOCIATED_TEAM_NAME",ge="TEAM_ASSOCIATED_AGENT_NAME",je="helpdesk@narayanagroup.com",fe="Filters cleared succesfully",Oe="Please select data range within 6 months",ve=a(517),xe="https://helpdesk.gleren.com",ye=a.n(ve).a.create();ye.defaults.baseURL="https://helpdesk.gleren.com",ye.interceptors.request.use(function(){var e=Object(d.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("jwtToken"),t.headers={Authorization:"Bearer ".concat(a),"Content-type":"application/json"},e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Promise.reject(e)})),ye.interceptors.response.use((function(e){return e}),function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.config,401===t.response.status&&(window.location.href=xe+"/login"),e.abrupt("return",Promise.reject(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Se=ye,Te=new(function(){function e(){Object(h.a)(this,e)}return Object(u.a)(e,[{key:"transferBackTicket",value:function(e){return Se.post("/api/transferTicket/transferBack",e)}},{key:"getTicketsCountForDisplay",value:function(e){return Se.post("/api/ticket/getTicketsCountForDisplay",e)}},{key:"findByUserName",value:function(e){var t=new URLSearchParams;t.append("fullName",e);var a={params:t};return Se.get("/api/user/findByUserName",a)}},{key:"getFeedbackRecord",value:function(e){return Se.post("/api/ticket/getFeedbackRecord",e)}},{key:"submitFeedbackForm",value:function(e){return Se.post("/api/ticket/submitFeedbackForm",e)}},{key:"filterCannedResponses",value:function(e){return Se.post("/api/cannedResponse",e)}},{key:"interDepartmentUpdateTicket",value:function(e){return Se.post("/api/transferTicket/interDepartmentUpdateTicket",e)}},{key:"dataExport",value:function(e,t,a,s,n,i){var l=new URLSearchParams;l.append("departmentId",e),l.append("ticketStatus",t),l.append("startDate",a),l.append("endDate",s),l.append("helpTopicId",n),l.append("assigneeId",i);var r={params:l};return Se.get("/api/dataExport/download",r)}},{key:"getAllTicketsForCentralPool",value:function(e,t,a,s,n,i,l,r,o,c,d,h,u,b){var p=new URLSearchParams;p.append("size",e),p.append("page",t),p.append("searchParam",a),p.append("departmentId",s),p.append("ticketStatus",n),p.append("startDate",i),p.append("endDate",l),p.append("helpTopicId",r),p.append("assigneeId",o),p.append("isTicketOverdue",c),p.append("closedStartDate",d),p.append("closedEndDate",h),p.append("orderDirection",u),p.append("orderBy",b);var m={params:p};return Se.get("/api/ticket/getAllTicketsForCentralPool",m)}},{key:"getTransferTickets",value:function(e,t,a,s,n,i,l,r){var o=new URLSearchParams;o.append("size",e),o.append("page",t),o.append("searchParam",a),o.append("ticketStatus",s),o.append("startDate",n),o.append("endDate",i),o.append("orderDirection",l),o.append("orderBy",r);var c={params:o};return Se.get("/api/transferTicket/getAll",c)}},{key:"transferTicket",value:function(e){return Se.post("/api/transferTicket/save",e)}},{key:"createFileKeyEntry",value:function(e){return Se.post("/api/file/createFileKeyEntry",e)}},{key:"downloadTicketFile",value:function(e){return Se.post("/api/file/downloadTicketFile",e)}},{key:"deleteTicketFile",value:function(e){return Se.post("/api/file/deleteTicketFile",e)}},{key:"uploadTempTicketFile",value:function(e){return Se.post("/api/file/uploadTempTicketFile",e)}},{key:"getEscalatedTickets",value:function(e,t,a,s,n,i,l,r,o){var c=new URLSearchParams;c.append("size",e),c.append("page",t),c.append("searchParam",a),c.append("userEmail",s),c.append("ticketStatus",n),c.append("startDate",i),c.append("endDate",l),c.append("orderDirection",r),c.append("orderBy",o);var d={params:c};return Se.get("/api/escalatedTickets/getByLoggedInUserId",d)}},{key:"getUsersByBranch",value:function(e){return Se.post("/api/user/getUsersByBranch",e)}},{key:"findUserByEmail",value:function(e){var t=new URLSearchParams;t.append("email",e);var a={params:t};return Se.get("/api/user/getUserByEmail",a)}},{key:"getSchoolEscalationAssignee",value:function(e){return Se.post("/api/schoolEscalation/getSchoolEscalationAssignee",e)}},{key:"getAdministrativeEscalationAssignee",value:function(e){return Se.post("/api/administrativeEscalation/getAdministrativeEscalationAssignee",e)}},{key:"getCollegeEscalationAssignee",value:function(e){return Se.post("/api/collegeEscalation/getCollegeEscalationAssignee",e)}},{key:"getUsersByDepartment",value:function(e){return Se.post("/api/larkIntegration/getUsersByDepartment",e)}},{key:"getUserDetails",value:function(e){return Se.post("/api/user/getUserDetails",e)}},{key:"getTicketRepliesByTicketId",value:function(e){return Se.post("/api/ticketReplies/getByTicketId",e)}},{key:"postTicketReply",value:function(e){return Se.post("/api/ticketReplies/save",e)}},{key:"getTicketDetailsByTicketId",value:function(e){return Se.post("/api/ticket/getTicketByTicketId",e)}},{key:"getTicketsWithPagination",value:function(e,t,a,s,n,i,l,r,o,c,d,h,u){var b=new URLSearchParams;b.append("size",e),b.append("page",t),b.append("searchParam",a),b.append("userId",s),b.append("ticketStatus",n),b.append("startDate",i),b.append("endDate",l),b.append("departmentId",r),b.append("isTicketOverdue",o),b.append("closedStartDate",c),b.append("closedEndDate",d),b.append("orderDirection",h),b.append("orderBy",u);var p={params:b};return Se.get("/api/ticket/getTicketsWithPageNumber",p)}},{key:"bulkUpdateTicketStatusAndAssignee",value:function(e){return Se.post("/api/ticket/bulkUpdateStatus",e)}},{key:"getAllHelpTopicById",value:function(e){return Se.post("/api/helpTopic/findById",e)}},{key:"getAllHelpTopics",value:function(){return Se.get("/api/helpTopic")}},{key:"getAllHelpTopicByDepartmentId",value:function(e){return Se.post("/api/helpTopic/findByDepartmentId",e)}},{key:"getAllDepartments",value:function(){return Se.get("/api/departments")}},{key:"getAllTickets",value:function(){return Se.get("/api/ticket")}},{key:"getAllUser",value:function(){return Se.get("/api/user")}},{key:"createTicket",value:function(e){return Se.post("/api/ticket/save",e)}},{key:"getEmailOfUser",value:function(e){return Se.get("/api/user/findByParam/email?=".concat(e))}},{key:"getAllTicketSource",value:function(){return Se.get("/api/ticketSource")}},{key:"updateSLATimings",value:function(e){return Se.post("/api/ticket/updateSLATime",e)}},{key:"saveFilterSettings",value:function(e){return Se.post("/api/nspiraUserSettings/save",e)}},{key:"clearUserSettings",value:function(e){return Se.post("/api/nspiraUserSettings/delete",e)}},{key:"getUserSettingsByType",value:function(e){return Se.post("/api/nspiraUserSettings/get",e)}},{key:"getPieChartDetailsForLoggedInUser",value:function(e){return Se.post("/api/dashboard/getPieChartDetails",e)}},{key:"getDepartmentAssociatedAgents",value:function(e,t,a,s,n,i){var l=new URLSearchParams;l.append("size",e),l.append("page",t),l.append("searchParam",a),l.append("orderDirection",s),l.append("orderBy",n),l.append("departmentId",i);var r={params:l};return Se.get("/api/deptMapping/getAssociatedAgents",r)}},{key:"getAllDepartmentsWithPagination",value:function(e,t,a,s){var n=new URLSearchParams;n.append("size",e),n.append("page",t),n.append("orderDirection",a),n.append("orderBy",s);var i={params:n};return Se.get("/api/departments/getAllWithPagination",i)}},{key:"saveUpdateDepartmentMapping",value:function(e){return Se.post("/api/deptMapping/save",e)}},{key:"getAllUnassociatedAgentsList",value:function(e,t,a,s,n){var i=new URLSearchParams;i.append("size",e),i.append("page",t),i.append("searchParam",a),i.append("orderDirection",s),i.append("orderBy",n);var l={params:i};return Se.get("/api/deptMapping/getUnassociatedAgents",l)}},{key:"getAllTeams",value:function(e,t,a,s,n){var i=new URLSearchParams;i.append("size",e),i.append("page",t),i.append("searchParam",a),i.append("orderDirection",s),i.append("orderBy",n);var l={params:i};return Se.get("/api/team/allTeams",l)}},{key:"saveUpdateTeam",value:function(e){return Se.post("/api/team/saveUpdate",e)}},{key:"getTeamById",value:function(e){return Se.post("/api/team/getById",e)}},{key:"deleteTeamById",value:function(e){return Se.post("/api/team/deleteById",e)}},{key:"getAllTeamsOfLead",value:function(e){return Se.post("/api/team/getTeamsByLeadId",e)}},{key:"getAllTicketsByTeamId",value:function(e,t,a,s,n,i,l,r,o,c,d,h,u,b,p,m,g){var j=new URLSearchParams;j.append("size",e),j.append("page",t),j.append("searchParam",a),j.append("orderDirection",s),j.append("orderBy",n),j.append("teamId",i),j.append("showNestedTickets",l),j.append("departmentId",r),j.append("ticketStatus",o),j.append("startDate",c),j.append("endDate",d),j.append("helpTopicId",h),j.append("assigneeId",u),j.append("isTicketOverdue",b),j.append("closedStartDate",p),j.append("closedEndDate",m),j.append("userId",g);var f={params:j};return Se.get("/api/team/getTicketsOfTeam",f)}},{key:"getAllDepartmentsAgents",value:function(){return Se.get("/api/deptMapping/getAllDepartmentsAgents")}},{key:"getAssigneeListByTeam",value:function(e){return Se.post("/api/team/getAllAgentsInTeam",e)}},{key:"findAnalyticsForUser",value:function(e,t,a,s,n){var i=new URLSearchParams;i.append("userId",e),i.append("orderDirection",t),i.append("orderBy",a),i.append("startDate",s),i.append("endDate",n);var l={params:i};return Se.get("/api/analytics/getAnalyticsForUser",l)}},{key:"findAnalyticsForAgents",value:function(e,t,a,s,n){var i=new URLSearchParams;i.append("userId",e),i.append("orderDirection",t),i.append("orderBy",a),i.append("startDate",s),i.append("endDate",n);var l={params:i};return Se.get("/api/analytics/getAnalyticsForAgent",l)}},{key:"getAnalyticsForAgentWithHelptopic",value:function(e,t,a,s,n,i,l){var r=new URLSearchParams;r.append("userId",e),r.append("orderDirection",t),r.append("orderBy",a),r.append("startDate",s),r.append("endDate",n),r.append("departmentIds",i),r.append("helptopicIds",l);var o={params:r};return Se.get("/api/analytics/getAnalyticsForAgentWithHelptopic",o)}},{key:"getAnalyticsForLeadWithDepartment",value:function(e,t,a,s,n,i,l){var r=new URLSearchParams;r.append("userId",e),r.append("startDate",t),r.append("endDate",a),r.append("departmentIds",s),r.append("teams",n),r.append("orderDirection",i),r.append("orderBy",l);var o={params:r};return Se.get("/api/analytics/getAnalyticsForLeadWithDepartment",o)}},{key:"getAnalyticsForLeadWithHelptopic",value:function(e,t,a,s,n,i,l,r){var o=new URLSearchParams;o.append("userId",e),o.append("orderDirection",t),o.append("orderBy",a),o.append("startDate",s),o.append("endDate",n),o.append("departmentIds",i),o.append("helptopicIds",l),o.append("teams",r);var c={params:o};return Se.get("/api/analytics/getAnalyticsForLeadWithHelptopic",c)}},{key:"getAnalyticsForLeadWithAgents",value:function(e,t,a,s,n,i,l){var r=new URLSearchParams;r.append("userId",e),r.append("orderDirection",t),r.append("orderBy",a),r.append("startDate",s),r.append("endDate",n),r.append("departmentIds",i),r.append("teams",l);var o={params:r};return Se.get("/api/analytics/getAnalyticsForLeadWithAgents",o)}},{key:"getAnalyticsForLeadWithAgentsSLA",value:function(e,t,a,s,n,i,l){var r=new URLSearchParams;r.append("userId",e),r.append("orderDirection",t),r.append("orderBy",a),r.append("startDate",s),r.append("endDate",n),r.append("departmentIds",i),r.append("teams",l);var o={params:r};return Se.get("/api/analytics/getAnalyticsForLeadWithAgentsSLA",o)}},{key:"getTeamsByDepartment",value:function(e){return Se.post("/api/team/getTeamsByDepartment",e)}},{key:"getAnalyticsForCentralAgentWithDepartment",value:function(e,t,a,s,n,i){var l=new URLSearchParams;l.append("startDate",e),l.append("endDate",t),l.append("departmentIds",a),l.append("teams",s),l.append("orderDirection",n),l.append("orderBy",i);var r={params:l};return Se.get("/api/analytics/getAnalyticsForCentralAgentWithDepartment",r)}},{key:"getAllTeamLeadUsers",value:function(){return Se.get("/api/team/getAllTeamsLeadUsers")}},{key:"getAnalyticsForCentralAgentWithHelptopic",value:function(e,t,a,s,n,i,l,r){var o=new URLSearchParams;o.append("userId",e),o.append("orderDirection",t),o.append("orderBy",a),o.append("startDate",s),o.append("endDate",n),o.append("departmentIds",i),o.append("helptopicIds",l),o.append("teams",r);var c={params:o};return Se.get("/api/analytics/getAnalyticsForCentralAgentWithHelptopic",c)}},{key:"getAnalyticsForCentralAgentWithAgents",value:function(e,t,a,s,n,i,l,r){var o=new URLSearchParams;o.append("userId",e),o.append("orderDirection",t),o.append("orderBy",a),o.append("startDate",s),o.append("endDate",n),o.append("departmentIds",i),o.append("teams",l),o.append("agentsInTeam",r);var c={params:o};return Se.get("/api/analytics/getAnalyticsForCentralAgentsWithAgents",c)}},{key:"getAnalyticsForCentralAgentWithAgentsSLA",value:function(e,t,a,s,n,i,l,r){var o=new URLSearchParams;o.append("userId",e),o.append("orderDirection",t),o.append("orderBy",a),o.append("startDate",s),o.append("endDate",n),o.append("departmentIds",i),o.append("teams",l),o.append("agentsInTeam",r);var c={params:o};return Se.get("/api/analytics/getAnalyticsForCentralAgentWithAgentsSLA",c)}},{key:"login",value:function(e){return Se.post("/api/user/login",e)}},{key:"createUpdateSmtpConfigTenantSettings",value:function(e){return Se.post("/api/tenantSettings/saveUpdate",e)}},{key:"findByTenantName",value:function(e){return Se.post("/api/tenantSettings/findByTenantName",e)}},{key:"getUserById",value:function(e){return Se.post("/api/user/getUserDetails",e)}},{key:"getAllUsersList",value:function(e,t,a,s,n){var i=new URLSearchParams;i.append("size",e),i.append("page",t),i.append("searchParam",a),i.append("orderDirection",s),i.append("orderBy",n);var l={params:i};return Se.get("/api/user/getAllUsersWithPagination",l)}},{key:"create",value:function(e){return Se.post("/api/user/save",e)}},{key:"getById",value:function(e){return!0}},{key:"getSchoolEscalationById",value:function(e){return Se.post("/api/schoolEscalation/findOneBySchoolId",e)}},{key:"getAllSchoolEscalationList",value:function(e,t,a,s,n){var i=new URLSearchParams;i.append("size",e),i.append("page",t),i.append("searchParam",a),i.append("orderDirection",s),i.append("orderBy",n);var l={params:i};return Se.get("/api/schoolEscalation/getAllSchoolEscalationWithPagination",l)}},{key:"createUpdateSchool",value:function(e){return Se.post("/api/schoolEscalation/createUpdateSchool",e)}},{key:"getAllCollegeEscalationList",value:function(e,t,a,s,n){var i=new URLSearchParams;i.append("size",e),i.append("page",t),i.append("searchParam",a),i.append("orderDirection",s),i.append("orderBy",n);var l={params:i};return Se.get("/api/collegeEscalation/getAllCollegeEscalationWithPagination",l)}},{key:"getCollegeEscalationById",value:function(e){return Se.post("/api/collegeEscalation/findOneByCollegeId",e)}},{key:"createUpdateCollege",value:function(e){return Se.post("/api/collegeEscalation/createUpdateCollege",e)}},{key:"getAdministrativeEscalationById",value:function(e){return Se.post("/api/administrativeEscalation/findOneByAdministrativeId",e)}},{key:"createUpdateAdministrative",value:function(e){return Se.post("/api/administrativeEscalation/createUpdateAdministrative",e)}},{key:"getAllAdministrativeEscalationList",value:function(e,t,a,s,n){var i=new URLSearchParams;i.append("size",e),i.append("page",t),i.append("searchParam",a),i.append("orderDirection",s),i.append("orderBy",n);var l={params:i};return Se.get("/api/administrativeEscalation/getAllAdministrativeEscalationWithPagination",l)}},{key:"getAnalyticsForTeamLead",value:function(e,t,a,s,n,i,l,r){var o=new URLSearchParams;o.append("userId",e),o.append("orderDirection",t),o.append("orderBy",a),o.append("startDate",s),o.append("endDate",n),o.append("leadIds",i),o.append("teams",l),o.append("departmentIds",r);var c={params:o};return Se.get("/api/analytics/getAnalyticsForTeamLead",c)}},{key:"getAnalyticsForCentralAgentTeamLead",value:function(e,t,a,s,n,i,l,r){var o=new URLSearchParams;o.append("userId",e),o.append("orderDirection",t),o.append("orderBy",a),o.append("startDate",s),o.append("endDate",n),o.append("leadIds",i),o.append("teams",l),o.append("departmentIds",r);var c={params:o};return Se.get("/api/analytics/getAnalyticsForCentralAgentTeamLeadView",c)}},{key:"findAllTeamLeadsByTeam",value:function(e){return Se.post("/api/team/getTeamLeadByTeams",e)}}]),e}()),ke=a(823),De=a(825),we=a(820),Ce=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).state={is_users_enabled:"NA",is_smtp_enabled:"NA",is_school_esc_enabled:"NA",is_college_esc_enabled:"NA",is_administrative_esc_enabled:"NA",isAgent:"NA",userId:"",activeUrlRoute:""},s.state.userId=sessionStorage.getItem("userId"),s.getUserDetails(),s.getTenantSettings(),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getUserDetails();var e=window.location.pathname;e.includes("/ticket")||e.includes("/viewTicket")?this.setState({activeUrlRoute:"/ticket"}):e.includes("/addTicket")?this.setState({activeUrlRoute:"/addTicket"}):e.includes("/escalatedTicket")?this.setState({activeUrlRoute:"/escalatedTicket"}):e.includes("/transferRequest")||e.includes("/viewTransferTicket")?this.setState({activeUrlRoute:"/transferRequest"}):e.includes("/allTickets")?this.setState({activeUrlRoute:"/allTickets"}):e.includes("/myTeams")?this.setState({activeUrlRoute:"/myTeams"}):e.includes("/dashboard")?this.setState({activeUrlRoute:"/dashboard"}):e.includes("/analytics")?this.setState({activeUrlRoute:"/analytics"}):this.setState({activeUrlRoute:"/ticket"})}},{key:"getUserDetails",value:function(){var e=this,t={id:this.state.userId};Te.getUserDetails(t).then((function(t){e.setState({isAgent:t.data.isAgent}),e.setState({isCentralPoolAgent:sessionStorage.getItem("isCentralPoolAgent")}),e.setState({isTeamLead:sessionStorage.getItem("isTeamLead")}),e.setState({isCentralAdmin:sessionStorage.getItem("isCentralAdmin")})}))}},{key:"getTenantSettings",value:function(){var e=this;Te.findByTenantName({}).then((function(t){e.setState({is_smtp_enabled:t.data.data.is_smtp_enabled}),e.setState({is_school_esc_enabled:t.data.data.is_school_esc_enabled}),e.setState({is_college_esc_enabled:t.data.data.is_college_esc_enabled}),e.setState({is_administrative_esc_enabled:t.data.data.is_administrative_esc_enabled}),e.setState({is_users_enabled:t.data.data.is_users_enabled})}))}},{key:"refreshPage",value:function(){window.location.reload(!0)}},{key:"logout",value:function(){sessionStorage.clear(),window.location.reload()}},{key:"render",value:function(){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"column",position:"fixed",width:"100%",top:"0",zIndex:"1"},children:[Object(s.jsx)("div",{children:Object(s.jsxs)(ke.a,{className:"backgroundColor",expand:"lg",children:[Object(s.jsx)(ke.a.Brand,{href:"",children:Object(s.jsx)("img",{src:"../NARAYANA EDU LOGO.jpg",width:"100%",height:"auto",className:"d-inline-block align-top",alt:"HelpDesk Mini App"})}),Object(s.jsxs)(ke.a.Text,{className:"ml-auto version",children:[Object(s.jsx)("span",{style:{fontWeight:"bold"},children:"Version:"})," ","1.0.0.9",Object(s.jsx)("br",{}),Object(s.jsx)("span",{style:{fontWeight:"bold"},children:"Helpdesk number:"})," 040-47257777"]})]})}),Object(s.jsx)("div",{children:Object(s.jsxs)(ke.a,{className:"backgroundColor",expand:"lg",children:[Object(s.jsx)(ke.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsx)(ke.a.Collapse,{id:"basic-navbar-nav",children:Object(s.jsxs)(De.a,{className:"mr-auto",activeKey:this.state.activeUrlRoute,children:[Object(s.jsxs)(De.a.Link,{href:"/ticket",children:["My Tickets (",sessionStorage.getItem("myTicketsCount"),")"]}),Object(s.jsx)(De.a.Link,{href:"/addTicket",children:"New Ticket"}),("true"===this.state.isAgent||"true"===this.state.isCentralPoolAgent||"true"===this.state.isTeamLead||"true"===this.state.isCentralAdmin)&&Object(s.jsxs)(De.a.Link,{href:"/escalatedTicket",children:["Escalated Tickets (",sessionStorage.getItem("allEscalatedTicketsCount"),")"]}),("true"===this.state.isCentralPoolAgent||"true"===this.state.isTeamLead||"true"===this.state.isCentralAdmin)&&Object(s.jsxs)(De.a.Link,{href:"/transferRequest",children:["Transfer Request (",sessionStorage.getItem("allTransferTickets"),")"]}),("true"===this.state.isTeamLead||"true"===this.state.isCentralAdmin)&&Object(s.jsx)(De.a.Link,{href:"/myTeams",children:"My Teams"}),Object(s.jsx)(De.a.Link,{href:"/analytics",children:"Analytics"}),("true"===this.state.isCentralPoolAgent||"true"===this.state.isTeamLead||"true"===this.state.isCentralAdmin)&&Object(s.jsxs)(De.a.Link,{href:"/allTickets",children:["All Tickets (",sessionStorage.getItem("allTicketsCount"),")"]}),"true"===this.state.isCentralAdmin&&Object(s.jsx)(we.a,{title:"Admin",id:"basic-nav-dropdown",children:Object(s.jsxs)("div",{className:"header",children:[Object(s.jsx)(we.a.Item,{href:"/agentMapping",children:"Agent Mapping"}),Object(s.jsx)(we.a.Item,{href:"/teamList",children:"Teams"}),!0===this.state.is_smtp_enabled&&"true"===this.state.isCentralAdmin&&Object(s.jsx)(we.a.Item,{href:"/smtp_config",children:"Configure SMTP"}),!0===this.state.is_users_enabled&&"true"===this.state.isCentralAdmin&&Object(s.jsx)(we.a.Item,{href:"/usersList",children:"Users"}),!0===this.state.is_school_esc_enabled&&"true"===this.state.isCentralAdmin&&Object(s.jsx)(we.a.Item,{href:"/schoolList",children:"School Escalation"}),!0===this.state.is_college_esc_enabled&&"true"===this.state.isCentralAdmin&&Object(s.jsx)(we.a.Item,{href:"/collegeList",children:"College Escalation"}),!0===this.state.is_administrative_esc_enabled&&"true"===this.state.isCentralAdmin&&Object(s.jsx)(we.a.Item,{href:"/administrativeList",children:"Administrative Escalation"})]})}),Object(s.jsx)(De.a.Link,{onClick:this.refreshPage,children:Object(s.jsx)("i",{class:"fa fa-refresh","aria-hidden":"true"})}),sessionStorage.getItem("jwtToken")&&Object(s.jsx)(De.a.Link,{visi:!0,onClick:this.logout,children:"Logout"})]})})]})})]})}}]),a}(n.Component),Ae=a(12),Ie=a(4),Fe=a(822),Ne=a(129),Pe=new(function(){function e(){Object(h.a)(this,e)}return Object(u.a)(e,[{key:"splitStringFromCharacter",value:function(e,t,a){var s=e.split(t);return a?s:s[0]}},{key:"do_Null_Undefined_EmptyArray_Check",value:function(e){return null===e||"null"===e||void 0===e||"undefined"===e||0===e.length||""===e?null:e}}]),e}()),Le=a(34),Re=a(142),Ee=a(143),Be=a.n(Ee),Me=(a(54),a(11)),Ue=(a(590),a(203)),Ve=a.n(Ue),_e=(a(591),function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;Object(h.a)(this,a),(s=t.call(this,e)).showErrorToast=function(){Me.b.error("Some error occurred while saving!",{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(){Me.b.success("Ticket saved successfully",{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.fetchData=function(e,t){e?setTimeout((function(){fetch(xe+"/api/user/findByParam/?email=".concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){s.setState({menuIsOpen:!0});var a=[];e.forEach((function(e){a.push({label:"".concat(e.email),name:"".concat(e.fullName),value:e.id,employeeId:e.employeeId})})),t(a)})).catch((function(e){console.log(e,"catch the hoop")}))})):t([])},s.onSearchChange=function(e){var t=!1;e&&(t=!1,s.setState({menuIsOpen:t}),s.setState({selectedOption:e}),console.log(e),s.state.fullName=e.name,s.state.employeeNo=e.employeeId),s.setState({userId:e.value}),sessionStorage.getItem("userId")!==e.value&&s.setState({isTicketCreatedOnBehalfOFAnotherPerson:!0})},s.onChangeFullName=s.onChangeFullName.bind(Object(Ie.a)(s)),s.onChangeSendNotice=s.onChangeSendNotice.bind(Object(Ie.a)(s)),s.onChangeTicketSource=s.onChangeTicketSource.bind(Object(Ie.a)(s)),s.onChangeDepartment=s.onChangeDepartment.bind(Object(Ie.a)(s)),s.onChangeHelpTopic=s.onChangeHelpTopic.bind(Object(Ie.a)(s)),s.onChangeUser=s.onChangeUser.bind(Object(Ie.a)(s)),s.onChangeIssueSummary=s.onChangeIssueSummary.bind(Object(Ie.a)(s)),s.onChangeDynamicText=s.onChangeDynamicText.bind(Object(Ie.a)(s)),s.onChangeDynamicDropdownValues=s.onChangeDynamicDropdownValues.bind(Object(Ie.a)(s)),s.onChangeTicketStatus=s.onChangeTicketStatus.bind(Object(Ie.a)(s)),s.onChangeBooleanValue=s.onChangeBooleanValue.bind(Object(Ie.a)(s)),s.onChangeDynamicMobileNo=s.onChangeDynamicMobileNo.bind(Object(Ie.a)(s)),s.onChangeDynamicPhoneNo=s.onChangeDynamicPhoneNo.bind(Object(Ie.a)(s)),s.onChangeDynamicDate=s.onChangeDynamicDate.bind(Object(Ie.a)(s)),s.onChangeTicketCategory=s.onChangeTicketCategory.bind(Object(Ie.a)(s)),s.onChangeUserEmail=s.onChangeUserEmail.bind(Object(Ie.a)(s)),s.saveTicket=s.saveTicket.bind(Object(Ie.a)(s)),s.removeSelectedFile=s.removeSelectedFile.bind(Object(Ie.a)(s)),s.selectFiles=s.selectFiles.bind(Object(Ie.a)(s)),s.handleOnFocus=s.handleOnFocus.bind(Object(Ie.a)(s)),s.handleFocusOut=s.handleFocusOut.bind(Object(Ie.a)(s)),s.onChangeEmployeeNo=s.onChangeEmployeeNo.bind(Object(Ie.a)(s)),s.mandatoryDynamicFields=[],s.state={selectedOption:{},fullName:"",sendNotice:!0,ticketSourceOptions:[],departmentOptions:[],helpTopicOptions:[],userOptions:[],issueSummaryContent:"",issueSummaryHeader:"",userId:"",dynamicText:"",assigneeId:0,assigneeFullName:"",statusOptions:[],files:[],s3FilesToUpload:[],ticketId:0,isAgent:"NA",officeType:"",branch:"",isTicketCreatedOnBehalfOFAnotherPerson:!1,originalTicketCreator:void 0,customFieldsFormNameArray:[],customFieldsFormFieldsArray:[],dynamicFormFieldsData:[],customFieldsTextFields:{},customFieldsSelectAllValues:{},customFieldsTextCount:0,optionsArrayTicketCategoryForm:[],optionsArrayTicketDetailsForm:[],formName:"",fields:[],selectedFiles:[],displayFileName:!1,menuIsOpen:!1,employeeNo:null,slaPlan:void 0,nspiraCode:null,state:null,district:null,payrollCode:null};var n=window.location.href.split("/id:");return s.state.ticketId=n[1],s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.state.userId=sessionStorage.getItem("userId"),this.state.selectedOption.label=sessionStorage.getItem("email"),this.state.employeeNo=sessionStorage.getItem("employeeId"),this.getUserDetails(),this.getTicketSourceOptions(),this.getDepartmentOptions(),this.getUserOptions(),this.getTicketStatus(),this.getTicketCategoryOptions(),this.state.ticketId>0&&this.getTicketDetailsByTicketId()}},{key:"saveTicket",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o,h=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Pe.splitStringFromCharacter(this.state.assigneeFullName,"<",!1),a={email:this.state.selectedOption.label,fullName:this.state.fullName,ticketNotice:this.state.sendNotice,ticketSourceId:this.state.id,ticketStatus:this.state.ticketStatus,departmentId:this.state.depId,helpTopicId:this.state.topicId,slaPlan:this.state.slaPlan,assigneeId:this.state.assigneeId||null,assigneeFullName:t||null,userId:this.state.userId,branch:this.state.branch,schCol:this.state.officeType,dynamicFormJson:this.state.customFieldsTextFields,filesUpload:this.state.s3FilesToUpload,ticketCategory:this.state.categoryName,employeeNo:this.state.employeeNo,openDepartmentIdOfUser:sessionStorage.getItem("userDepartment"),isTicketCreatedOnBehalfOFAnotherPerson:this.state.isTicketCreatedOnBehalfOFAnotherPerson,originalTicketCreator:this.state.originalTicketCreator,createdBy:parseInt(sessionStorage.getItem("userId")),nspiraCode:this.state.nspiraCode,state:this.state.state,district:this.state.district,payrollCode:this.state.payrollCode},s=Object(Ae.a)(this.mandatoryDynamicFields),e.prev=3,s.s();case 5:if((n=s.n()).done){e.next=22;break}if(i=n.value,this.state.customFieldsTextFields!=={}){e.next=9;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 9:if(!1!==this.state.customFieldsTextFields.hasOwnProperty(i)){e.next=11;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 11:l=0,r=Object.entries(this.state.customFieldsTextFields);case 12:if(!(l<r.length)){e.next=20;break}if((o=r[l])[0]!==i||""!==o[1]&&null!==o[1]){e.next=17;break}return console.log(o),e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 17:l++,e.next=12;break;case 20:e.next=5;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),s.e(e.t0);case 27:return e.prev=27,s.f(),e.finish(27);case 30:if(void 0!==a.email&&""!==a.email){e.next=32;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 32:if(void 0!==a.fullName&&""!==a.fullName){e.next=34;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 34:if(void 0!==a.ticketNotice&&""!==a.ticketNotice){e.next=36;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 36:if(void 0!==a.ticketSourceId&&""!==a.ticketSourceId||"true"!==this.state.isAgent){e.next=38;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 38:if(void 0!==a.ticketStatus&&""!==a.ticketStatus||"true"!==this.state.isAgent){e.next=40;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 40:if(void 0!==a.departmentId&&""!==a.departmentId){e.next=42;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 42:if(void 0!==a.helpTopicId&&""!==a.helpTopicId){e.next=44;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 44:if(void 0!==a.slaPlan&&""!==a.slaPlan){e.next=46;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 46:if("true"!==this.state.isAgent||void 0!==a.assigneeFullName&&""!==a.assigneeFullName){e.next=48;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 48:if(void 0!==a.userId&&""!==a.userId){e.next=50;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 50:if(void 0!==a.ticketCategory&&""!==a.ticketCategory){e.next=52;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 52:if(null!==a.employeeNo&&""!==a.employeeNo||"true"===this.state.isAgent){e.next=54;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 54:return console.log("Email"+a.email),console.log("FullName"+a.fullName),console.log("ticketNotice"+a.ticketNotice),console.log("ticketSourceId"+a.ticketSourceId),console.log("ticketStatus"+a.ticketStatus),console.log("departmentId"+a.departmentId),console.log("helpTopicId"+a.helpTopicId),console.log("slaPlan"+a.slaPlan),console.log("assigneeId"+a.assigneeId),console.log("assigneeFullName"+a.assigneeFullName),console.log("userId"+a.userId),console.log("branch"+a.branch),console.log("schCol"+a.schCol),console.log("DynamicFormJson: "+a.dynamicFormJson),console.log("File"+a.filesUpload),e.next=71,Te.createTicket(a).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data),a=[],s={ticketId:t.data.id,fileKeysArray:a},n=0,i=Object.entries(h.state.customFieldsTextFields);case 4:if(!(n<i.length)){e.next=12;break}if(!0!==(l=i[n])[1]&&!1!==l[1]){e.next=8;break}return e.abrupt("continue",9);case 8:l[1].toString().includes("ticket/")&&a.push(l[1]);case 9:n++,e.next=4;break;case 12:return e.next=14,Te.createFileKeyEntry(s).then(function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:h.showSuccessToast(),h.props.history.push("/ticket"),window.location.reload();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){h.showErrorToast(),console.log(e)}));case 71:case"end":return e.stop()}}),e,this,[[3,24,27,30]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTicketDetailsByTicketId",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:this.state.ticketId},e.next=3,Te.getTicketDetailsByTicketId(t).then((function(e){a.setState({id:e.data.ticketSource.id,sourceName:e.data.ticketSource.sourceName}),console.log("TicketId response"+e.data)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTicketStatus",value:function(){this.setState({statusOptions:[{value:1,label:"Open"}]})}},{key:"getTicketSourceOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllTicketSource();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.sourceName}})),this.setState({ticketSourceOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllUser();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({userOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDepartmentOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllDepartments();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.departmentName}})),this.setState({departmentOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHelpTopicOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllHelpTopics();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTicketCategoryOptions",value:function(){this.setState({ticketCategoryOptions:[{value:1,label:"Issue"},{value:2,label:"Change Request"},{value:3,label:"New Feature Request / Enhancement"},{value:4,label:"New Project"}]})}},{key:"getUserDetails",value:function(){var e=this,t={id:this.state.userId};Te.getUserDetails(t).then((function(t){e.setState({isAgent:t.data.isAgent}),e.setState({officeType:t.data.officeType}),e.setState({fullName:t.data.fullName}),e.setState({originalTicketCreator:t.data.fullName}),"true"!==t.data.isAgent&&(e.setState({statusId:1,ticketStatus:"Open"}),e.setState({id:4,sourceName:"NA"}),e.setState({sendNotice:!0}))}))}},{key:"onChangeTicketStatus",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.setState({statusId:t.value,ticketStatus:t.label},(function(){}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeUserEmail",value:function(e){console.log(e);var t={value:e.target.value,label:e.target.value};this.setState({selectedOption:t})}},{key:"onChangeDynamicDropdownValues",value:function(e,t){console.log("Event:"+JSON.stringify(t)),console.log("id"+JSON.stringify(e)),this.state.customFieldsTextFields[e]=t.value;var a=Object.assign({},this.state.customFieldsTextFields);a[e]=t.value,console.log(this.state.customFieldsTextFields),console.log(a)}},{key:"onChangeDynamicText",value:function(e){console.log("value"+e.target.value),console.log("name"+e.target.name),console.log("id"+e.target.id),this.state.customFieldsTextFields[e.target.id]=e.target.value;var t=Object.assign({},this.state.customFieldsTextFields);t[e.target.id]=e.target.value,console.log(this.state.customFieldsTextFields),console.log(t),this.setState({customFieldsTextFields:t})}},{key:"onChangeBooleanValue",value:function(e){this.state.customFieldsTextFields[e.target.id]=e.target.checked;var t=Object.assign({},this.state.customFieldsTextFields);t[e.target.id]=e.target.checked,console.log(this.state.customFieldsTextFields),console.log(t),this.setState({customFieldsTextFields:t})}},{key:"onChangeDynamicMobileNo",value:function(e){this.state.customFieldsTextFields[e.target.id]=e.target.value;var t=Object.assign({},this.state.customFieldsTextFields);t[e.target.id]=e.target.value,console.log(this.state.customFieldsTextFields),console.log(t),this.setState({customFieldsTextFields:t})}},{key:"onChangeDynamicPhoneNo",value:function(e){this.state.customFieldsTextFields[e.target.id]=e.target.value;var t=Object.assign({},this.state.customFieldsTextFields);t[e.target.id]=e.target.value,console.log(this.state.customFieldsTextFields),console.log(t),this.setState({customFieldsTextFields:t})}},{key:"onChangeDynamicDate",value:function(e,t){this.state.customFieldsTextFields[e]=t;var a=Object.assign({},this.state.customFieldsTextFields);a[e]=t,this.setState({customFieldsTextFields:a})}},{key:"onChangeFullName",value:function(e){this.setState({fullName:e.target.value})}},{key:"onChangeEmployeeNo",value:function(e){this.setState({employeeNo:e.target.value})}},{key:"onChangeIssueSummary",value:function(e){this.setState({issueSummaryHeader:e.target.value})}},{key:"onChangeSendNotice",value:function(e){!1===this.state.sendNotice?this.setState({sendNotice:!0}):this.setState({sendNotice:!1})}},{key:"onChangeTicketSource",value:function(e){this.setState({id:e.value,sourceName:e.label})}},{key:"onChangeDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({topicId:void 0,topicName:void 0}),this.setState({assigneeFullName:"",assigneeId:""}),this.state.dynamicFormFieldsData=[],this.state.customFieldsTextFields={},this.setState({slaPlan:""}),this.setState({nspiraCode:null}),this.setState({district:null}),this.setState({state:null}),this.setState({payrollCode:null}),a={departmentId:t.value},e.next=12,Te.getAllHelpTopicByDepartmentId(a);case 12:s=e.sent,n=s.data,i=n.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:i}),this.setState({depId:t.value,deptName:t.label});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeHelpTopic",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,d,h,u,b,p,m,g,j,f,O,v,ee,te;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({dynamicFormFieldsData:[]}),this.setState({customFieldsTextFields:{}}),this.setState({slaPlan:null}),this.setState({nspiraCode:null}),this.setState({district:null}),this.setState({state:null}),this.setState({payrollCode:null}),this.setState({assigneeFullName:"",assigneeId:""}),a={id:t.value},e.next=11,Te.getAllHelpTopicById(a);case 11:if(s=e.sent,n=s.data,this.state.dynamicFormFieldsData=n.dynamicFormDetails,"1"===n.sla?this.setState({slaId:1,slaPlan:T}):"2"===n.sla?this.setState({slaId:2,slaPlan:k}):"3"===n.sla?this.setState({slaId:3,slaPlan:D}):"4"===n.sla?this.setState({slaId:4,slaPlan:w}):"5"===n.sla?this.setState({slaId:5,slaPlan:C}):"6"===n.sla?this.setState({slaId:6,slaPlan:A}):"7"===n.sla?this.setState({slaId:7,slaPlan:I}):"8"===n.sla?this.setState({slaId:8,slaPlan:F}):"9"===n.sla?this.setState({slaId:9,slaPlan:N}):"10"===n.sla?this.setState({slaId:10,slaPlan:P}):"11"===n.sla?this.setState({slaId:11,slaPlan:L}):"12"===n.sla?this.setState({slaId:12,slaPlan:R}):"13"===n.sla?this.setState({slaId:13,slaPlan:E}):"14"===n.sla?this.setState({slaId:14,slaPlan:B}):"15"===n.sla?this.setState({slaId:15,slaPlan:M}):"16"===n.sla?this.setState({slaId:16,slaPlan:U}):"17"===n.sla?this.setState({slaId:17,slaPlan:V}):"18"===n.sla?this.setState({slaId:18,slaPlan:_}):"19"===n.sla?this.setState({slaId:19,slaPlan:H}):"20"===n.sla?this.setState({slaId:20,slaPlan:G}):"21"===n.sla?this.setState({slaId:21,slaPlan:W}):"22"===n.sla?this.setState({slaId:22,slaPlan:Y}):"23"===n.sla?this.setState({slaId:23,slaPlan:z}):"24"===n.sla?this.setState({slaId:24,slaPlan:J}):"25"===n.sla?this.setState({slaId:25,slaPlan:q}):"26"===n.sla?this.setState({slaId:26,slaPlan:K}):"27"===n.sla?this.setState({slaId:27,slaPlan:Q}):"28"===n.sla?this.setState({slaId:28,slaPlan:Z}):"29"===n.sla?this.setState({slaId:29,slaPlan:X}):"30"===n.sla&&this.setState({slaId:30,slaPlan:$}),!n.module){e.next=150;break}if(i={department:this.state.deptName,module:n.module,openDepartmentId:sessionStorage.getItem("userDepartment")},!x.includes(this.state.officeType.toLowerCase())){e.next=61;break}return e.next=20,Te.getSchoolEscalationAssignee(i);case 20:if(!(l=e.sent).data.message){e.next=23;break}return e.abrupt("return",this.showWarningToast(l.data.message));case 23:if(!(l.data.length>=1)){e.next=51;break}r=Object(Ae.a)(l.data),e.prev=25,r.s();case 27:if((o=r.n()).done){e.next=41;break}return d=o.value,this.setState({branch:d.branch}),this.setState({nspiraCode:d.nspiraCode}),this.setState({district:d.district}),this.setState({state:d.state}),this.setState({payrollCode:d.payrollCode}),e.next=36,Te.findUserByEmail(d.l1email);case 36:"No Data Found"===(h=e.sent).data&&this.showWarningToast("Assignee details have not found. Please report the error at ".concat(je,".")),"No Data Found"!==h.data&&(this.setState({assigneeFullName:d.l1name+"<".concat(d.l1email,">"),assigneeId:h.data.id}),console.log("assignee"+this.state.assigneeFullName,"assigneeId"+this.state.assigneeId));case 39:e.next=27;break;case 41:e.next=46;break;case 43:e.prev=43,e.t0=e.catch(25),r.e(e.t0);case 46:return e.prev=46,r.f(),e.finish(46);case 49:e.next=61;break;case 51:return this.setState({branch:l.data.branch}),this.setState({nspiraCode:l.data.nspiraCode}),this.setState({district:l.data.district}),this.setState({state:l.data.state}),this.setState({payrollCode:l.data.payrollCode}),e.next=58,Te.findUserByEmail(l.data.l1email);case 58:"No Data Found"===(u=e.sent).data&&this.showWarningToast("Assignee details have not found. Please report the error at ".concat(je,".")),"No Data Found"!==u.data&&(this.setState({assigneeFullName:l.data.l1name+"<".concat(l.data.l1email,">"),assigneeId:u.data.id}),console.log("assignee"+this.state.assigneeFullName,"assigneeId"+this.state.assigneeId));case 61:if(!y.includes(this.state.officeType.toLowerCase())){e.next=106;break}return console.log(this.state.officeType.toLowerCase()),e.next=65,Te.getCollegeEscalationAssignee(i);case 65:if(!(b=e.sent).data.message){e.next=68;break}return e.abrupt("return",this.showWarningToast(b.data.message));case 68:if(!(b.data.length>=1)){e.next=96;break}p=Object(Ae.a)(b.data),e.prev=70,p.s();case 72:if((m=p.n()).done){e.next=86;break}return d=m.value,this.setState({branch:d.branch}),this.setState({nspiraCode:d.nspiraCode}),this.setState({district:d.district}),this.setState({state:d.state}),this.setState({payrollCode:d.payrollCode}),e.next=81,Te.findUserByEmail(d.l1email);case 81:"No Data Found"===(g=e.sent).data&&this.showWarningToast("Assignee details have not found. Please report the error at ".concat(je,".")),"No Data Found"!==g.data&&(this.setState({assigneeFullName:d.l1name+"<".concat(d.l1email,">"),assigneeId:g.data.id}),console.log("assignee"+this.state.assigneeFullName,"assigneeId"+this.state.assigneeId));case 84:e.next=72;break;case 86:e.next=91;break;case 88:e.prev=88,e.t1=e.catch(70),p.e(e.t1);case 91:return e.prev=91,p.f(),e.finish(91);case 94:e.next=106;break;case 96:return this.setState({branch:b.data.branch}),this.setState({nspiraCode:b.data.nspiraCode}),this.setState({district:b.data.district}),this.setState({state:b.data.state}),this.setState({payrollCode:b.data.payrollCode}),e.next=103,Te.findUserByEmail(b.data.l1email);case 103:"No Data Found"===(j=e.sent).data&&this.showWarningToast("Assignee details have not found. Please report the error at ".concat(je,".")),"No Data Found"!==j.data&&(this.setState({assigneeFullName:b.data.l1name+"<".concat(b.data.l1email,">"),assigneeId:j.data.id}),console.log("assignee"+this.state.assigneeFullName,"assigneeId"+this.state.assigneeId));case 106:if(!S.includes(this.state.officeType.toLowerCase())){e.next=150;break}return e.next=109,Te.getAdministrativeEscalationAssignee(i);case 109:if(!(f=e.sent).data.message){e.next=112;break}return e.abrupt("return",this.showWarningToast(f.data.message));case 112:if(!(f.data.length>=1)){e.next=140;break}O=Object(Ae.a)(f.data),e.prev=114,O.s();case 116:if((v=O.n()).done){e.next=130;break}return d=v.value,this.setState({branch:d.branch}),this.setState({nspiraCode:d.nspiraCode}),this.setState({district:d.district}),this.setState({state:d.state}),this.setState({payrollCode:d.payrollCode}),e.next=125,Te.findUserByEmail(d.l1email);case 125:"No Data Found"===(ee=e.sent).data&&this.showWarningToast("Assignee details have not found. Please report the error at ".concat(je,".")),"No Data Found"!==ee.data&&(this.setState({assigneeFullName:d.l1name+"<".concat(d.l1email,">"),assigneeId:ee.data.id}),console.log("assignee"+this.state.assigneeFullName,"assigneeId"+this.state.assigneeId));case 128:e.next=116;break;case 130:e.next=135;break;case 132:e.prev=132,e.t2=e.catch(114),O.e(e.t2);case 135:return e.prev=135,O.f(),e.finish(135);case 138:e.next=150;break;case 140:return this.setState({branch:f.data.branch}),this.setState({nspiraCode:f.data.nspiraCode}),this.setState({district:f.data.district}),this.setState({state:f.data.state}),this.setState({payrollCode:f.data.payrollCode}),e.next=147,Te.findUserByEmail(f.data.l1email);case 147:"No Data Found"===(te=e.sent).data&&this.showWarningToast("Assignee details have not found. Please report the error at ".concat(je,".")),"No Data Found"!==te.data&&(this.setState({assigneeFullName:f.data.l1name+"<".concat(f.data.l1email,">"),assigneeId:te.data.id}),console.log("assignee"+this.state.assigneeFullName,"assigneeId"+this.state.assigneeId));case 150:this.setState({topicId:t.value,topicName:t.label});case 151:case"end":return e.stop()}}),e,this,[[25,43,46,49],[70,88,91,94],[114,132,135,138]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeUser",value:function(e){this.state.userId=sessionStorage.getItem("userId");var t=Pe.splitStringFromCharacter(e.label,"<",!1);this.setState({assigneeId:e.value,assigneeFullName:t})}},{key:"selectFiles",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=new FormData).append("file",a.target.files[0]),Te.uploadTempTicketFile(s).then((function(e){console.log(e.data),n.state.selectedFiles.push({id:t,key:e.data.key,fileName:a.target.files[0].name}),n.setState({displayFileName:!0});var s=Object.assign({},n.state.customFieldsTextFields);if(Object.keys(n.state.customFieldsTextFields).length<=0)s[t]=e.data.key,console.log(n.state.customFieldsTextFields),console.log(s),n.setState({customFieldsTextFields:s},(function(){return console.log(n.state.customFieldsTextFields)}));else for(var i=0,l=Object.entries(n.state.customFieldsTextFields);i<l.length;i++){var r=l[i];if(r[0]===t){var o;o=r[1]+","+e.data.key,s[t]=o,n.setState({customFieldsTextFields:s},(function(){return console.log(n.state.customFieldsTextFields)}))}else s[t]=e.data.key,n.setState({customFieldsTextFields:s},(function(){return console.log(n.state.customFieldsTextFields)}))}}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeSelectedFile",value:function(e,t,a){for(var s=0,n=Object.entries(this.state.customFieldsTextFields);s<n.length;s++){var i=n[s];if(i[0]===e){var l=i[1].split(",");if(1===l.length){delete this.state.customFieldsTextFields[e];break}var r,o=Object(Ae.a)(l);try{for(o.s();!(r=o.n()).done;){var c=r.value;if(c===t){var d=i[1].replace(c+",","");if(d===i[1]){d=i[1].replace(","+c,""),console.log(d),this.state.customFieldsTextFields[e]=d;break}console.log(d),this.state.customFieldsTextFields[e]=d;break}}}catch(j){o.e(j)}finally{o.f()}}}console.log(e),console.log(t);var h,u=[],b=Object(Ae.a)(this.state.selectedFiles);try{for(b.s();!(h=b.n()).done;){var p=h.value;if(p.id===e&&p.key===t){var m=this.state.selectedFiles.indexOf(p);if(m>-1){(u=this.state.selectedFiles).splice(m,1),this.setState({selectedFiles:u}),console.log(u);var g={keyName:t};Te.deleteTicketFile(g).then((function(e){console.log("File Deleted From S3"+e.data)}))}}}}catch(j){b.e(j)}finally{b.f()}}},{key:"onChangeTicketCategory",value:function(e){this.setState({categoryId:e.value,categoryName:e.label})}},{key:"handleOnFocus",value:function(){this.setState({menuIsOpen:!1}),this.setState({selectedOption:{}}),this.setState({fullName:""}),this.setState({employeeNo:""})}},{key:"handleFocusOut",value:function(){this.setState({menuIsOpen:!1})}},{key:"render",value:function(){var e=this;return this.mandatoryDynamicFields=[],"NA"===this.state.isAgent?null:Object(s.jsx)("div",{children:Object(s.jsx)("div",{children:Object(s.jsxs)(Fe.a,{children:["true"===this.state.isAgent&&Object(s.jsxs)(n.Fragment,{children:[Object(s.jsx)("h5",{className:"formHeading",style:{marginTop:"20px"},children:"Open a New Ticket"}),Object(s.jsxs)(Fe.a.Group,{controlId:"formEmployeeNo",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Employee Id"}),Object(s.jsx)(Fe.a.Control,{type:"text",value:this.state.employeeNo,onChange:this.onChangeEmployeeNo,placeholder:"Enter Employee Id"})]})]}),"true"!==this.state.isAgent&&Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)(Fe.a.Group,{controlId:"formEmployeeNo",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Employee Id"}),Object(s.jsx)(Fe.a.Control,{type:"text",value:this.state.employeeNo,onChange:this.onChangeEmployeeNo,placeholder:"Enter Employee Id"})]})}),"true"===this.state.isAgent&&Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicEmail",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Email address"}),Object(s.jsx)(Ne.a,{value:this.state.selectedOption,loadOptions:this.fetchData,placeholder:"Search email",onChange:function(t){e.onSearchChange(t)},defaultOptions:!1,menuIsOpen:this.state.menuIsOpen,onFocus:this.handleOnFocus,onBlur:this.handleFocusOut})]}),("false"===this.state.isAgent||null===this.state.isAgent||"null"===this.state.isAgent)&&Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicEmail1",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Email address"}),Object(s.jsx)(Fe.a.Control,{type:"text",value:this.state.selectedOption.label,placeholder:"Enter email",onChange:this.onChangeUserEmail})]}),Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicFullName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Full Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",value:this.state.fullName,onChange:this.onChangeFullName,placeholder:"Enter name"})]}),Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicTicketSource",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Ticket Category"}),Object(s.jsx)(Le.a,{options:this.state.ticketCategoryOptions,onChange:this.onChangeTicketCategory.bind(this)})]}),Object(s.jsx)("h5",{className:"formHeading required",children:"Ticket Information and Options"}),"true"===this.state.isAgent&&Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicTicketSource",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Ticket Source"}),Object(s.jsx)(Le.a,{options:this.state.ticketSourceOptions,onChange:this.onChangeTicketSource.bind(this)})]}),"true"===this.state.isAgent&&Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicTicketStatus",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Ticket Status"}),Object(s.jsx)(Le.a,{options:this.state.statusOptions,onChange:this.onChangeTicketStatus.bind(this),placeholder:"Select status"})]}),Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicDepartment",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Department"}),Object(s.jsx)(Le.a,{options:this.state.departmentOptions,onChange:this.onChangeDepartment.bind(this),placeholder:"Select a Department"})]}),Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicHelpTopic",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Help Topic"}),Object(s.jsx)(Le.a,{value:{value:this.state.topicId,label:this.state.topicName},options:this.state.helpTopicOptions,onChange:this.onChangeHelpTopic.bind(this),placeholder:"Select a help topic"})]}),Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicSLAPlan",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"SLA Plan"}),Object(s.jsx)(Fe.a.Control,{readOnly:!0,type:"text",value:this.state.slaPlan,placeholder:"Select a SLA Plan"})]}),Object(s.jsxs)(Fe.a.Group,{controlId:"assignee",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Assignee Name"}),Object(s.jsx)(Fe.a.Control,{readOnly:!0,type:"text",value:this.state.assigneeFullName,placeholder:"Enter name"})]}),this.state.dynamicFormFieldsData.map((function(t,a){return console.log("BB Form Index : "+a),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{className:"formHeading",children:t.formName}),t.fields.map((function(t,i){console.log("BB Index of form field : "+i);var l=t.label.split(" ").join("_"),r=a+"_"+i+"_"+l;return console.log("ID"+r),!0===t.required&&e.mandatoryDynamicFields.push(r),console.log(e.mandatoryDynamicFields),"text"===t.type?Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)(Fe.a.Group,{controlId:r,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel ".concat(t.required?"required":""),children:t.label}),Object(s.jsx)(Fe.a.Control,{type:"text",value:e.state.customFieldsTextFields[r],onChange:e.onChangeDynamicText},r)]})}):"textarea"===t.type?Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)(Fe.a.Group,{children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel ".concat(t.required?"required":""),children:t.label}),Object(s.jsx)(Re.CKEditor,{id:r,onReady:function(e){},data:e.state.data,editor:Be.a,onChange:function(t,a){var s=a.getData();e.state.customFieldsTextFields[r]=s,console.log({event:t,editor:a,data:s})}},r),!0===t.attachments&&Object(s.jsxs)(n.Fragment,{children:[Object(s.jsx)(Fe.a.File,{className:"customFile",multiple:!1,onChange:e.selectFiles.bind(e,"Attachments"),id:"Attachments",style:{visibility:"hidden",display:"none"}},"Attachments"),Object(s.jsx)("label",{className:"labelFileUpload",for:"Attachments",children:"Choose file"}),!0===e.state.displayFileName&&e.state.selectedFiles.map((function(t){return Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)("p",{children:[t.fileName," \xa0\xa0",Object(s.jsx)("i",{className:"fa fa-trash-o",onClick:e.removeSelectedFile.bind(e,"Attachments",t.key)})]})})}))]})]})}):"dropdown"===t.type?(e.state.customFieldsSelectAllValues[r]=[],Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)(Fe.a.Group,{children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel ".concat(t.required?"required":""),children:t.label}),t.values.map((function(t){e.state.customFieldsSelectAllValues[r].push({label:t,value:t})})),Object(s.jsx)(Le.a,{id:r,options:e.state.customFieldsSelectAllValues[r],onChange:e.onChangeDynamicDropdownValues.bind(e,r)},r)]})})):"file"===t.type?Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)(Fe.a.Group,{children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel ".concat(t.required?"required":""),children:t.label}),Object(s.jsx)("br",{}),Object(s.jsx)(Fe.a.File,{className:"customFile",multiple:!1,onChange:e.selectFiles.bind(e,r),id:r,style:{visibility:"hidden",display:"none"}},r),Object(s.jsx)("label",{className:"labelFileUpload",for:r,children:"Choose file"}),!0===e.state.displayFileName&&e.state.selectedFiles.map((function(t){if(r.match(t.id))return Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)("p",{children:[t.fileName," \xa0\xa0",Object(s.jsx)("i",{className:"fa fa-trash-o",onClick:e.removeSelectedFile.bind(e,r,t.key)})]})})}))]})}):"boolean"===t.type?Object(s.jsx)(n.Fragment,{children:Object(s.jsx)(Fe.a.Group,{controlId:r,children:Object(s.jsx)(Fe.a.Check,{type:"checkbox",value:e.state.customFieldsTextFields[r],onChange:e.onChangeBooleanValue,label:t.label},r)})}):"mobile"===t.type?Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)(Fe.a.Group,{controlId:r,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel ".concat(t.required?"required":""),children:t.label}),Object(s.jsx)(Fe.a.Control,{type:"text",maxLength:"10",value:e.state.customFieldsTextFields[r],onChange:e.onChangeDynamicMobileNo},r)]})}):"phone"===t.type?Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)(Fe.a.Group,{controlId:r,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel ".concat(t.required?"required":""),children:t.label}),Object(s.jsx)(Fe.a.Control,{type:"text",maxLength:"12",value:e.state.customFieldsTextFields[r],onChange:e.onChangeDynamicPhoneNo},r)]})}):"info"===t.type?Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)("div",{className:"infoDiv",id:r,children:[Object(s.jsx)("label",{className:"infoTypeLbl",children:t.label}),Object(s.jsx)("p",{className:"infoTypeContent",children:t.content})]})}):"datePicker"===t.type?Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)(Fe.a.Group,{controlId:r,children:[Object(s.jsxs)(Fe.a.Label,{className:"formlabel ".concat(t.required?"required":""),children:[t.label,"\xa0"]}),Object(s.jsxs)("div",{class:"input-group-prepend",children:[Object(s.jsx)(Ve.a,{selected:e.state.customFieldsTextFields[r],onChange:e.onChangeDynamicDate.bind(e,r),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,placeholderText:"Select Date",className:"form-control"},r),Object(s.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:Object(s.jsx)("i",{class:"fa fa-calendar","aria-hidden":"true"})})]})]})}):void 0}),e.state.customFieldsTextCount++)]},a)})),Object(s.jsx)("button",{type:"button",onClick:this.saveTicket,className:"btn btn-success",children:"Submit"})]})})})}}]),a}(n.Component)),He=a(18),Ge=a(25),We=a.n(Ge),Ye=a(817),ze=a(519),Je=a(518),qe=a(8),Ke=a.n(qe),Qe=a(84),Ze=a(68),Xe=a.n(Ze),$e=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).tableRef=i.a.createRef(),n.showErrorToast=function(){Me.b.error("Some error occurred while saving!",{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showSuccessToast=function(){Me.b.success("Ticket saved successfully",{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.onTicketSelectionChange=n.onTicketSelectionChange.bind(Object(Ie.a)(n)),n.onChangeUser=n.onChangeUser.bind(Object(Ie.a)(n)),n.onChangeTicketStatus=n.onChangeTicketStatus.bind(Object(Ie.a)(n)),n.bulkUpdate=n.bulkUpdate.bind(Object(Ie.a)(n)),n.onChangeFilteringTicketStatus=n.onChangeFilteringTicketStatus.bind(Object(Ie.a)(n)),n.remoteData=n.remoteData.bind(Object(Ie.a)(n)),n.filterTickets=n.filterTickets.bind(Object(Ie.a)(n)),n.handleDateRangeChange=n.handleDateRangeChange.bind(Object(Ie.a)(n)),n.onApplyDateRange=n.onApplyDateRange.bind(Object(Ie.a)(n)),n.onChangeDepartment=n.onChangeDepartment.bind(Object(Ie.a)(n)),n.exportData=n.exportData.bind(Object(Ie.a)(n)),n.onChangeOverDue=n.onChangeOverDue.bind(Object(Ie.a)(n)),n.handleClosedDateRangeChange=n.handleClosedDateRangeChange.bind(Object(Ie.a)(n)),n.saveFilterSetting=n.saveFilterSetting.bind(Object(Ie.a)(n)),n.clearFilterSetting=n.clearFilterSetting.bind(Object(Ie.a)(n)),n.savePageLocation=n.savePageLocation.bind(Object(Ie.a)(n)),n.showClosedDataRange=!1,n.state={userOptions:[],statusOptions:[],statusOptionsForUser:[],filteringTicketStatusOptions:[],overDueOptions:[],statusId:0,isAgent:null,userId:"",ticketStatus:"",arrayOfSelectedId:[],tableTitle:"All",start:Ke()().subtract(29,"days"),end:Ke()(),closedStart:Ke()().subtract(29,"days"),closedEnd:Ke()(),locale:{format:"DD/MM/YYYY"},departmentOptions:[],depId:void 0,currentPageTickets:[],userFilterSettings:[],defaultTicketStatus:[],defaultDepartmentFilter:{},renderData:!1,defaultOverdueFilter:{},hideButtons:!1},n.columns=[{title:"Ticket Number",field:"id",render:function(e){return Object(s.jsx)(m.b,{to:"/viewTicket/id:".concat(e.id),onClick:n.savePageLocation,children:e.id})}},{title:"Created Date",field:"initialCreatedDate"},{title:"Branch",field:"branch"},{title:"Subject",field:"subject"},{title:"Department",field:"departmentName"},{title:"Assignee",field:"assigneeFullName"},{title:"Ticket Status",field:"ticketStatus"},{title:"Initial Due Date",field:"level1DueDate"},{title:"Sch/Col",field:"schCol"},{title:"From",field:"fullName"},{title:"Mobile",field:"userMobile"},{title:"Closed Date",field:"closedDate"},{title:"Closed By",field:"closedBy"}],n.state.userId=sessionStorage.getItem("userId"),n.filterTicketStatus=[],n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getUserOptions(),this.getTicketStatus(),this.getUserDetails(),this.getFilteringTicketStatus(),this.getTicketStatusForUser(),this.getDepartmentOptions(),this.getOverDueOptions(),this.getUserFilterSettings()}},{key:"savePageLocation",value:function(){sessionStorage.setItem("previousPageLocation","/ticket")}},{key:"getTicketStatus",value:function(){this.setState({statusOptions:[{value:1,label:"Open"},{value:2,label:"Awaiting for user response"},{value:3,label:"Assigned to an engineer"},{value:4,label:"Indent at Branch approval"},{value:5,label:"Indent at DM approval"},{value:6,label:"Indent at CO approval"},{value:7,label:"Branch dependent"},{value:8,label:"Warehouse dependent"},{value:9,label:"Vendor dependent"},{value:10,label:"Work in progress"},{value:11,label:"Escalated to Next level"},{value:12,label:"Resolved"},{value:13,label:"Closed"}]})}},{key:"getOverDueOptions",value:function(){this.setState({overDueOptions:[{value:1,label:"Yes"},{value:2,label:"No"}]})}},{key:"getTicketStatusForUser",value:function(){this.setState({statusOptionsForUser:[{value:1,label:"Closed"},{value:2,label:"Re-Open"}]})}},{key:"getFilteringTicketStatus",value:function(){this.setState({filteringTicketStatusOptions:[{value:1,label:"All"},{value:2,label:"Open"},{value:3,label:"Awaiting for user response"},{value:4,label:"Assigned to an engineer"},{value:5,label:"Indent at Branch approval"},{value:6,label:"Indent at DM approval"},{value:7,label:"Indent at CO approval"},{value:8,label:"Branch dependent"},{value:9,label:"Warehouse dependent"},{value:10,label:"Vendor dependent"},{value:11,label:"Work in progress"},{value:12,label:"Escalated to Next level"},{value:13,label:"Resolved"},{value:14,label:"Closed"},{value:15,label:"Re-Open"}]})}},{key:"getDepartmentOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllDepartments();case 2:t=e.sent,a=t.data,(s=a.map((function(e){return{value:e.id,label:e.departmentName}}))).push({value:"All",label:"All"}),this.setState({departmentOptions:s});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeTicketStatus",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.setState({statusId:t.value,ticketStatus:t.label},(function(){console.log(a.state.statusId),console.log(a.state.ticketStatus)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeFilteringTicketStatus",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,d,h,u,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.filterTicketStatus=[],null===t||0===t.length)this.filterTicketStatus=[],this.createUserSettingsArray(le,null);else{a=Object(Ae.a)(t);try{for(a.s();!(s=a.n()).done;)n=s.value,this.filterTicketStatus.push(n.label)}catch(c){a.e(c)}finally{a.f()}i=[],l=Object(Ae.a)(this.state.defaultTicketStatus);try{for(l.s();!(r=l.n()).done;)o=r.value,i.push(o.label)}catch(c){l.e(c)}finally{l.f()}if(this.filterTicketStatus.includes("All")&&!i.includes("All"))this.setState({defaultTicketStatus:this.state.filteringTicketStatusOptions}),this.createUserSettingsArray(le,this.state.filteringTicketStatusOptions);else if(!this.filterTicketStatus.includes("All")&&i.includes("All"))this.setState({defaultTicketStatus:[]}),this.createUserSettingsArray(le,[]);else if(this.filterTicketStatus.includes("All")&&this.filterTicketStatus.length<=14&&i.includes("All")&&i.length<=15){d=[],h=Object(Ae.a)(t);try{for(h.s();!(u=h.n()).done;)"All"==(b=u.value).label||d.push(b)}catch(c){h.e(c)}finally{h.f()}this.setState({defaultTicketStatus:d}),this.createUserSettingsArray(le,d)}else this.filterTicketStatus.includes("All")||13!=i.length||14!=this.filterTicketStatus.length?!this.filterTicketStatus.includes("Open")||this.filterTicketStatus.includes("Resolved","Closed")||i.includes("Open")?(this.setState({defaultTicketStatus:t}),this.createUserSettingsArray(le,t)):((p=[]).push({value:2,label:"Open"},{value:3,label:"Awaiting for user response"},{value:4,label:"Assigned to an engineer"},{value:5,label:"Indent at Branch approval"},{value:6,label:"Indent at DM approval"},{value:7,label:"Indent at CO approval"},{value:8,label:"Branch dependent"},{value:9,label:"Warehouse dependent"},{value:10,label:"Vendor dependent"},{value:11,label:"Work in progress"},{value:12,label:"Escalated to Next level"},{value:15,label:"Re-Open"}),this.setState({defaultTicketStatus:p}),this.createUserSettingsArray(le,p)):(this.setState({defaultTicketStatus:this.state.filteringTicketStatusOptions}),this.createUserSettingsArray(le,this.state.filteringTicketStatusOptions))}this.filterTicketStatus.includes("Closed")?this.showClosedDataRange=!0:this.showClosedDataRange=!1;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClosedDateRangeChange",value:function(e,t){this.createUserSettingsArray(ue,t),this.setState({closedStart:t.startDate}),this.setState({closedEnd:t.endDate})}},{key:"onChangeOverDue",value:function(e){this.createUserSettingsArray(he,e),console.log(e),this.setState({overdue:e.label})}},{key:"getUserOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllUser();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({userOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserDetails",value:function(){var e=this,t={id:this.state.userId};Te.getUserDetails(t).then((function(t){e.setState({isAgent:t.data.isAgent})}))}},{key:"onChangeUser",value:function(e){this.state.userId=e.value,this.setState({assigneeId:e.value,assigneeFullName:e.label})}},{key:"onChangeDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.createUserSettingsArray(oe,t),this.setState({depId:t.value,deptName:t.label});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTicketSelectionChange",value:function(e){var t,a=[],s=Object(Ae.a)(e);try{for(s.s();!(t=s.n()).done;){var n=t.value;a.push(n.id)}}catch(i){s.e(i)}finally{s.f()}this.setState({arrayOfSelectedId:a})}},{key:"bulkUpdate",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.arrayOfSelectedId<=0)){e.next=2;break}return e.abrupt("return",this.showWarningToast("Please select atleast one ticket."));case 2:if(this.state.ticketStatus||this.state.assigneeFullName){e.next=4;break}return e.abrupt("return",this.showWarningToast("Please select Ticket Status and/or Assignee"));case 4:t=Object(Ae.a)(this.state.currentPageTickets),e.prev=5,t.s();case 7:if((a=t.n()).done){e.next=28;break}s=a.value,n=Object(Ae.a)(this.state.arrayOfSelectedId),e.prev=10,n.s();case 12:if((i=n.n()).done){e.next=18;break}if(l=i.value,s.id!==l||s.ticketStatus!==this.state.ticketStatus){e.next=16;break}return e.abrupt("return",this.showWarningToast("Ticket "+s.id+" already present in same status"));case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:e.next=7;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(5),t.e(e.t1);case 33:return e.prev=33,t.f(),e.finish(33);case 36:return r={ticketStatus:this.state.ticketStatus,id:this.state.arrayOfSelectedId,assigneeFullName:this.state.assigneeFullName,assigneeId:this.state.assigneeId,userId:sessionStorage.getItem("userId"),userMobile:sessionStorage.getItem("mobile")},e.next=39,Te.bulkUpdateTicketStatusAndAssignee(r).then((function(e){console.log(e.data),o.showSuccessToast()})).catch((function(e){o.showErrorToast(),console.log(e)}));case 39:window.location.reload(!1),console.log("status"+r.ticketStatus),console.log("arrayOFId"+r.id);case 42:case"end":return e.stop()}}),e,this,[[5,30,33,36],[10,20,23,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.depId,a=this.filterTicketStatus,void 0,void 0,(s=new Date(this.state.start)).setHours(0,0,0,0),s=s.toISOString(),(n=new Date(this.state.end)).setHours(23,59,59,999),n=n.toISOString(),i=void 0,l=void 0,this.showClosedDataRange?((i=new Date(this.state.closedStart)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.closedEnd)).setHours(23,59,59,999),l=l.toISOString()):(i=void 0,l=void 0),this.state.exportDataDownloadLink=xe+"/api/dataExport/downloadMyTickets/?departmentId=".concat(t,"&ticketStatus=").concat(a,"&startDate=").concat(s,"&endDate=").concat(n,"&loggedInUserId=").concat(this.state.userId,"&isTicketOverdue=").concat(this.state.overdue,"&closedStartDate=").concat(i,"&closedEndDate=").concat(l),window.location.href=this.state.exportDataDownloadLink;case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterTickets",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({tableTitle:"Tickets"}),console.log(this.tableRef.current.state.query),this.tableRef.current.state.query.page=0,this.tableRef.current.state.query.pageSize=20,this.tableRef.current&&this.tableRef.current.onQueryChange();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n,i,l,r,o,h,u,b,p,m,g,j=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=this.filterTicketStatus,r=this.state.depId,o=this.state.overdue,h=t.orderDirection,u=void 0,t.orderBy&&(u=t.orderBy.field),(b=new Date(this.state.start)).setHours(0,0,0,0),b=b.toISOString(),(p=new Date(this.state.end)).setHours(23,59,59,999),p=p.toISOString(),m=void 0,g=void 0,this.showClosedDataRange?((m=new Date(this.state.closedStart)).setHours(0,0,0,0),m=m.toISOString(),(g=new Date(this.state.closedEnd)).setHours(23,59,59,999),g=g.toISOString()):(m=void 0,g=void 0),e.next=17,Te.getTicketsWithPagination(t.pageSize,t.page,t.search,sessionStorage.getItem("userId"),l,b,p,r,o,m,g,h,u).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,l,r,o,d,h,u,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,l=Object(Ae.a)(a.tickets);try{for(l.s();!(r=l.n()).done;)(o=r.value).createdAt=Ke()(o.createdAt).format("DD/MM/YYYY hh:mm A"),o.initialCreatedDate=Ke()(o.initialCreatedDate).format("DD/MM/YYYY hh:mm A"),o.userMobile=o.user.mobile,o.departmentName=o.department.departmentName,o.closedBy=o.closedBy,null!==o.level1DueDate&&(o.level1DueDate=Ke()(o.level1SlaDue).format("DD/MM/YYYY hh:mm A")),null!==o.closedDate&&(o.closedDate=Ke()(o.closedDate).format("DD/MM/YYYY hh:mm A"))}catch(c){l.e(c)}finally{l.f()}d=Object(Ae.a)(a.tickets);try{for(d.s();!(h=d.n()).done;)for(o=h.value,u=0,b=Object.entries(o.dynamicFormJson);u<b.length;u++)p=b[u],"_","",p[0].toString().toLowerCase().split("_").join("").includes("issuesummary")&&(o.subject=p[1])}catch(c){d.e(c)}finally{d.f()}s=a.tickets,n=a.currentPage,i=a.totalItems,j.setState({currentPageTickets:a.tickets});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:return e.abrupt("return",Promise.resolve({data:s,page:n,totalCount:i}));case 18:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleDateRangeChange",value:function(e,t){console.log(t.startDate),this.createUserSettingsArray(re,t),this.setState({start:t.startDate}),this.setState({end:t.endDate})}},{key:"onApplyDateRange",value:function(e,t){var a=Math.abs(t.endDate-t.startDate);Math.ceil(a/864e5)>180?(this.setState({hideButtons:!0}),this.showWarningToast(Oe)):this.setState({hideButtons:!1})}},{key:"saveFilterSetting",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.saveFilterSettings(this.state.userFilterSettings).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearFilterSetting",value:function(){var e=this,t={settingType:ee,userId:this.state.userId};Te.clearUserSettings(t).then((function(t){e.showSuccessToast(fe),window.location.reload()}))}},{key:"createUserSettingsArray",value:function(e,t){switch(e){case le:if(null===t){var a={userId:this.state.userId,settingType:ee,settingValue:null,settingName:e};this.state.userFilterSettings.push(a),this.saveFilterSetting()}else{var s,n=[],i=Object(Ae.a)(t);try{for(i.s();!(s=i.n()).done;){var l=s.value,r={value:l.value,label:l.label};n.push(r)}}catch(b){i.e(b)}finally{i.f()}var o={userId:this.state.userId,settingType:ee,settingValue:n,settingName:e};this.state.userFilterSettings.push(o),this.saveFilterSetting()}break;case oe:var c={userId:this.state.userId,settingType:ee,settingValue:t,settingName:e};this.state.userFilterSettings.push(c),this.saveFilterSetting();break;case he:var d={userId:this.state.userId,settingType:ee,settingValue:t,settingName:e};this.state.userFilterSettings.push(d),this.saveFilterSetting();break;case re:var h={userId:this.state.userId,settingType:ee,settingValue:{startDate:t.startDate,endDate:t.endDate},settingName:e};this.state.userFilterSettings.push(h),this.saveFilterSetting();break;case ue:var u={userId:this.state.userId,settingType:ee,settingValue:{closedStart:t.startDate,closedEnd:t.endDate},settingName:e};this.state.userFilterSettings.push(u),this.saveFilterSetting()}}},{key:"getUserFilterSettings",value:function(){var e=this,t={settingType:ee,userId:this.state.userId};Te.getUserSettingsByType(t).then((function(t){if(t.data.data){e.setState({userFilterSettings:t.data.data});var a,s=Object(Ae.a)(t.data.data);try{for(s.s();!(a=s.n()).done;){var n=a.value;switch(n.settingName){case le:e.setState({defaultTicketStatus:n.settingValue});var i,l=Object(Ae.a)(n.settingValue);try{for(l.s();!(i=l.n()).done;){var r=i.value;e.filterTicketStatus.push(r.label),"Closed"===r.label?e.showClosedDataRange=!0:e.showClosedDataRange=!1}}catch(o){l.e(o)}finally{l.f()}break;case oe:e.setState({defaultDepartmentFilter:n.settingValue}),e.setState({depId:n.settingValue.value,deptName:n.settingValue.label});break;case he:e.setState({defaultOverdueFilter:n.settingValue}),e.setState({overdue:n.settingValue.label});break;case re:e.setState({start:Ke()(n.settingValue.startDate)}),e.setState({end:Ke()(n.settingValue.endDate)});break;case ue:e.setState({closedStart:Ke()(n.settingValue.closedStart)}),e.setState({closedEnd:Ke()(n.settingValue.closedEnd)})}}}catch(o){s.e(o)}finally{s.f()}}e.setState({renderData:!0}),e.filterTickets()}))}},{key:"render",value:function(){var e=this;return this.state.renderData?Object(s.jsxs)("div",{id:"test",children:[Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"Tickets List"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select Status"}),Object(s.jsx)(Xe.a,{onChange:function(t){e.onChangeFilteringTicketStatus(t)},placeholderButtonLabel:"Select Status",width:"400px",options:this.state.filteringTicketStatusOptions,value:this.state.defaultTicketStatus})]}),Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Created Date Range"}),Object(s.jsx)("br",{}),Object(s.jsx)(Qe.a,{onEvent:this.handleDateRangeChange.bind(),onApply:this.onApplyDateRange.bind(),initialSettings:{locale:this.state.locale,startDate:this.state.start.toDate(),endDate:this.state.end.toDate(),ranges:{Today:[Ke()().toDate(),Ke()().toDate()],Yesterday:[Ke()().subtract(1,"days").toDate(),Ke()().subtract(1,"days").toDate()],"Last 7 Days":[Ke()().subtract(6,"days").toDate(),Ke()().toDate()],"Last 30 Days":[Ke()().subtract(29,"days").toDate(),Ke()().toDate()],"This Month":[Ke()().startOf("month").toDate(),Ke()().endOf("month").toDate()],"Last Month":[Ke()().subtract(1,"month").startOf("month").toDate(),Ke()().subtract(1,"month").endOf("month").toDate()],"Last 3 Months":[Ke()().subtract(3,"month").startOf("month").toDate(),Ke()().toDate()]}},children:Object(s.jsx)("input",{type:"text",className:"form-control"})})]}),Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Department"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},defaultValue:this.state.defaultDepartmentFilter,options:this.state.departmentOptions,onChange:this.onChangeDepartment.bind(this),placeholder:"Select department"})]}),Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"OverDue"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},defaultValue:this.state.defaultOverdueFilter,options:this.state.overDueOptions,onChange:this.onChangeOverDue.bind(this),placeholder:"Select overdue"})]}),!0===this.showClosedDataRange&&Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Closed Date Range"}),Object(s.jsx)("br",{}),Object(s.jsx)(Qe.a,{onEvent:this.handleClosedDateRangeChange.bind(),initialSettings:{locale:this.state.locale,startDate:this.state.closedStart.toDate(),endDate:this.state.closedEnd.toDate(),ranges:{Today:[Ke()().toDate(),Ke()().toDate()],Yesterday:[Ke()().subtract(1,"days").toDate(),Ke()().subtract(1,"days").toDate()],"Last 7 Days":[Ke()().subtract(6,"days").toDate(),Ke()().toDate()],"Last 30 Days":[Ke()().subtract(29,"days").toDate(),Ke()().toDate()],"This Month":[Ke()().startOf("month").toDate(),Ke()().endOf("month").toDate()],"Last Month":[Ke()().subtract(1,"month").startOf("month").toDate(),Ke()().subtract(1,"month").endOf("month").toDate()],"Last 3 Months":[Ke()().subtract(3,"month").startOf("month").toDate(),Ke()().toDate()],"Last 1 Year":[Ke()().subtract(12,"month").startOf("month").toDate(),Ke()().toDate()]}},children:Object(s.jsx)("input",{type:"text",className:"form-control"})})]}),Object(s.jsxs)(ze.a,{xs:12,md:1,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Change"}),Object(s.jsx)(Je.a,{disabled:this.state.hideButtons,style:{color:"#fff",backgroundColor:"#1f3143",float:"left"},variant:"primary",type:"submit",onClick:this.filterTickets,children:"Filter Tickets"})]}),Object(s.jsxs)(ze.a,{xs:12,md:1,lg:1,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Export"}),Object(s.jsx)(Je.a,{disabled:this.state.hideButtons,style:{color:"#fff",backgroundColor:"#1f3143",float:"left"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export"})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Clear Filter"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.clearFilterSetting,children:"Clear Filter"})]})]})}),Object(s.jsxs)(Ye.a,{style:{marginTop:"10px"},children:[Object(s.jsxs)(ze.a,{xs:12,md:6,lg:6,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Change Status"}),"true"===this.state.isAgent&&Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.statusOptions,onChange:this.onChangeTicketStatus.bind(this),placeholder:"Select status"}),"true"!==this.state.isAgent&&Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.statusOptionsForUser,onChange:this.onChangeTicketStatus.bind(this),placeholder:"Select status"})]}),Object(s.jsxs)(ze.a,{xs:12,md:6,lg:6,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Change Status"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.bulkUpdate,children:"Update"})]})]})]}),Object(s.jsx)(We.a,{title:"Tickets",columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{exportButton:!1,showSelectAllCheckbox:!0,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!0,maxBodyHeight:"450px",padding:"dense",pageSize:20,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},onSelectionChange:function(t){e.onTicketSelectionChange(t)}})]}):Object(s.jsx)("div",{})}}]),a}(n.Component),et=a(818),tt=function(e){return Object(s.jsx)(et.a,{style:{marginTop:"150px"},children:e.children})},at=(a(735),a(296)),st=a(35),nt=a(827),it=a(821),lt=a(60),rt=a.n(lt),ot=a(366),ct=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s,n;Object(h.a)(this,a),(n=t.call(this,e)).fetchData=function(e,t){e?setTimeout((function(){fetch(xe+"/api/user/findByParam/?email=".concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=[];e.forEach((function(e){a.push({label:"".concat(e.email),name:"".concat(e.fullName),value:e.id})})),t(a)})).catch((function(e){console.log(e,"catch the hoop")}))})):t([])},n.onSearchChange=function(e){n.setState({selectedOption:e})},n.showErrorToast=function(){Me.b.error("Some error occurred while saving!",{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.onAssigneeNameChange=function(e){var t=!1;e&&(t=!1,n.setState({menuIsOpen:t}),n.setState({selectedAssigneeOption:e}),n.setState({assigneeId:e.value,assigneeFullName:e.label}))},n.fetchAssigneeName=function(e,t){e?setTimeout((function(){fetch(xe+"/api/user/findByUserName/?fullName=".concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=[];n.setState({menuIsOpen:!0}),e.forEach((function(e){a.push({label:"".concat(e.fullName),value:e.id})})),t(a)})).catch((function(e){console.log(e,"catch the hoop")}))})):t([])},n.postReply=n.postReply.bind(Object(Ie.a)(n)),n.onChangeTicketStatus=n.onChangeTicketStatus.bind(Object(Ie.a)(n)),n.removeSelectedFile=n.removeSelectedFile.bind(Object(Ie.a)(n)),n.selectFiles=n.selectFiles.bind(Object(Ie.a)(n)),n.onChangeAssignee=n.onChangeAssignee.bind(Object(Ie.a)(n)),n.bulkUpdate=n.bulkUpdate.bind(Object(Ie.a)(n)),n.downloadFile=n.downloadFile.bind(Object(Ie.a)(n)),n.onclickShowDepartmentPopup=n.onclickShowDepartmentPopup.bind(Object(Ie.a)(n)),n.onCloseDepartmentPopup=n.onCloseDepartmentPopup.bind(Object(Ie.a)(n)),n.onChangeDepartment=n.onChangeDepartment.bind(Object(Ie.a)(n)),n.transferTicket=n.transferTicket.bind(Object(Ie.a)(n)),n.onChangeCannedResponse=n.onChangeCannedResponse.bind(Object(Ie.a)(n)),n.onChangepostInternalNote=n.onChangepostInternalNote.bind(Object(Ie.a)(n)),n.onChangeSubCategory=n.onChangeSubCategory.bind(Object(Ie.a)(n)),n.onAssigneeNameChange=n.onAssigneeNameChange.bind(Object(Ie.a)(n)),n.transferBack=n.transferBack.bind(Object(Ie.a)(n)),n.handleOnFocus=n.handleOnFocus.bind(Object(Ie.a)(n)),n.handleFocusOut=n.handleFocusOut.bind(Object(Ie.a)(n)),n.onChangeSLAPLAN=n.onChangeSLAPLAN.bind(Object(Ie.a)(n)),n.toggleClass=n.toggleClass.bind(Object(Ie.a)(n)),n.updateSLA=n.updateSLA.bind(Object(Ie.a)(n)),n.onChangeTransferAssignee=n.onChangeTransferAssignee.bind(Object(Ie.a)(n)),n.onChangeHelpTopic=n.onChangeHelpTopic.bind(Object(Ie.a)(n)),n.viewTicketDetailsJson={},n.state=(s={ticketId:0,ticketSubject:"",ticketPriorityLevel:"",selectedOption:null,responseMessage:"",ticketData:{ticketsource:{},department:{},helptopic:{},dynamicFormJson:{},user:{}},isAgent:null,userId:"",ticketReplies:[],dynamicFields:[],assigneeOptions:[],subCategoryOptions:[],cannedOptions:[],branch:"",subCategory:void 0,arrayOfSelectedId:[],ticketStatus:"",selectedFiles:[],displayFileName:!1,showDepartmentSelectionPopup:!1,departmentOptions:[],isTicketWronglyAssignedFlow:1,transferMessage:"",postInternalNotes:!1,disablePostReplyButtonOnClick:!1,isCentralPoolAgent:!1,selectedAssigneeOption:{},assigneeId:void 0,menuIsOpen:!1,assigneeBranchName:void 0,currentTicketStatus:"",active:!1,dataPath:void 0,transferAssignee:[],showTransferAssignee:!1,assigneeLabel:"Change Assignee"},Object(st.a)(s,"currentTicketStatus",""),Object(st.a)(s,"active",!1),Object(st.a)(s,"showImage",!1),Object(st.a)(s,"dataPath",void 0),Object(st.a)(s,"loggedInUserEmail",void 0),Object(st.a)(s,"lbl_Post_Reply","Post Reply"),Object(st.a)(s,"showHelptopicDropdown",!1),Object(st.a)(s,"nspiraCode",null),Object(st.a)(s,"state",null),Object(st.a)(s,"district",null),Object(st.a)(s,"payrollCode",null),s),n.slaPlan=void 0;var i=window.location.href.split("/id:");return n.state.ticketId=i[1],n.state.userId=sessionStorage.getItem("userId"),n.selectedTranferDepartment=void 0,n.selectedTransferAssignee=void 0,n.showOnlyLeadTeamMembers=!1,n.state.loggedInUserEmail=sessionStorage.getItem("email"),n}return Object(u.a)(a,[{key:"getTicketDetailsByTicketId",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={id:this.state.ticketId},Te.getTicketDetailsByTicketId(t).then((function(e){var t,s=e.data.helptopic.dynamicFormDetails,n=Object(Ae.a)(s);try{for(n.s();!(t=n.n()).done;){var i=t.value;console.log(i.fields);var l,r=Object(Ae.a)(i.fields);try{for(r.s();!(l=r.n()).done;){var o=l.value;if(console.log(o),"Sub Category"===o.label){var c,d=[],h=Object(Ae.a)(o.values);try{for(h.s();!(c=h.n()).done;){var u=c.value;d.push({value:u.index,label:u})}}catch(It){h.e(It)}finally{h.f()}a.setState({subCategoryOptions:d})}}}catch(It){r.e(It)}finally{r.f()}}}catch(It){n.e(It)}finally{n.f()}if(a.setState({ticketData:e.data}),a.setState({branch:e.data.branch}),a.setState({assigneeBranchName:e.data.assigneeBranchCode}),a.setState({currentTicketStatus:e.data.ticketStatus}),a.setState({nspiraCode:e.data.nspiraCode}),a.setState({state:e.data.state}),a.setState({district:e.data.district}),a.setState({payrollCode:e.data.payrollCode}),"true"===sessionStorage.getItem("isCentralPoolAgent")&&!1===a.showOnlyLeadTeamMembers?a.getAssigneeOptionsForCentralPool():a.getAssigneeOptions(),console.log("Response"+JSON.stringify(e.data)),null!==e.data.dynamicFormField1){var b=e.data.dynamicFormField1,p=b.substring(0,b.indexOf(",")),m=b.substring(b.indexOf(",")+1,b.length);a.viewTicketDetailsJson[p]=m}if(null!==e.data.dynamicFormField2){var g=e.data.dynamicFormField2,j=g.substring(0,g.indexOf(",")),f=g.substring(g.indexOf(",")+1,g.length);a.viewTicketDetailsJson[j]=f}if(null!==e.data.dynamicFormField3){var O=e.data.dynamicFormField3,v=O.substring(0,O.indexOf(",")),x=O.substring(O.indexOf(",")+1,O.length);a.viewTicketDetailsJson[v]=x}if(null!==e.data.dynamicFormField4){var y=e.data.dynamicFormField4,S=y.substring(0,y.indexOf(",")),T=y.substring(y.indexOf(",")+1,y.length);a.viewTicketDetailsJson[S]=T}if(null!==e.data.dynamicFormField5){var k=e.data.dynamicFormField5,D=k.substring(0,k.indexOf(",")),w=k.substring(k.indexOf(",")+1,k.length);a.viewTicketDetailsJson[D]=w}if(null!==e.data.dynamicFormField6){var C=e.data.dynamicFormField6,A=C.substring(0,C.indexOf(",")),I=C.substring(C.indexOf(",")+1,C.length);a.viewTicketDetailsJson[A]=I}if(null!==e.data.dynamicFormField7){var F=e.data.dynamicFormField7,N=F.substring(0,F.indexOf(",")),P=F.substring(F.indexOf(",")+1,F.length);a.viewTicketDetailsJson[N]=P}if(null!==e.data.dynamicFormField8){var L=e.data.dynamicFormField8,R=L.substring(0,L.indexOf(",")),E=L.substring(L.indexOf(",")+1,L.length);a.viewTicketDetailsJson[R]=E}if(null!==e.data.dynamicFormField9){var B=e.data.dynamicFormField9,M=B.substring(0,B.indexOf(",")),U=B.substring(B.indexOf(",")+1,B.length);a.viewTicketDetailsJson[M]=U}if(null!==e.data.dynamicFormField10){var V=e.data.dynamicFormField10,_=V.substring(0,V.indexOf(",")),H=V.substring(V.indexOf(",")+1,V.length);a.viewTicketDetailsJson[_]=H}if(null!==e.data.dynamicFormField11){var G=e.data.dynamicFormField11,W=G.substring(0,G.indexOf(",")),Y=G.substring(G.indexOf(",")+1,G.length);a.viewTicketDetailsJson[W]=Y}if(null!==e.data.dynamicFormField12){var z=e.data.dynamicFormField12,J=z.substring(0,z.indexOf(",")),q=z.substring(z.indexOf(",")+1,z.length);a.viewTicketDetailsJson[J]=q}if(null!==e.data.dynamicFormField13){var K=e.data.dynamicFormField13,Q=K.substring(0,K.indexOf(",")),Z=K.substring(K.indexOf(",")+1,K.length);a.viewTicketDetailsJson[Q]=Z}if(null!==e.data.dynamicFormField14){var X=e.data.dynamicFormField14,$=X.substring(0,X.indexOf(",")),ee=X.substring(X.indexOf(",")+1,X.length);a.viewTicketDetailsJson[$]=ee}if(null!==e.data.dynamicFormField15){var te=e.data.dynamicFormField15,ae=te.substring(0,te.indexOf(",")),se=te.substring(te.indexOf(",")+1,te.length);a.viewTicketDetailsJson[ae]=se}if(null!==e.data.dynamicFormField16){var ne=e.data.dynamicFormField16,ie=ne.substring(0,ne.indexOf(",")),le=ne.substring(ne.indexOf(",")+1,ne.length);a.viewTicketDetailsJson[ie]=le}if(null!==e.data.dynamicFormField17){var re=e.data.dynamicFormField17,oe=re.substring(0,re.indexOf(",")),ce=re.substring(re.indexOf(",")+1,re.length);a.viewTicketDetailsJson[oe]=ce}if(null!==e.data.dynamicFormField18){var de=e.data.dynamicFormField18,he=de.substring(0,de.indexOf(",")),ue=de.substring(de.indexOf(",")+1,de.length);a.viewTicketDetailsJson[he]=ue}if(null!==e.data.dynamicFormField19){var be=e.data.dynamicFormField19,pe=be.substring(0,be.indexOf(",")),me=be.substring(be.indexOf(",")+1,be.length);a.viewTicketDetailsJson[pe]=me}if(null!==e.data.dynamicFormField20){var ge=e.data.dynamicFormField20,je=ge.substring(0,ge.indexOf(",")),fe=ge.substring(ge.indexOf(",")+1,ge.length);a.viewTicketDetailsJson[je]=fe}if(null!==e.data.dynamicFormField21){var Oe=e.data.dynamicFormField21,ve=Oe.substring(0,Oe.indexOf(",")),xe=Oe.substring(Oe.indexOf(",")+1,Oe.length);a.viewTicketDetailsJson[ve]=xe}if(null!==e.data.dynamicFormField22){var ye=e.data.dynamicFormField22,Se=ye.substring(0,ye.indexOf(",")),Te=ye.substring(ye.indexOf(",")+1,ye.length);a.viewTicketDetailsJson[Se]=Te}if(null!==e.data.dynamicFormField23){var ke=e.data.dynamicFormField23,De=ke.substring(0,ke.indexOf(",")),we=ke.substring(ke.indexOf(",")+1,ke.length);a.viewTicketDetailsJson[De]=we}if(null!==e.data.dynamicFormField24){var Ce=e.data.dynamicFormField24,Ie=Ce.substring(0,Ce.indexOf(",")),Fe=Ce.substring(Ce.indexOf(",")+1,Ce.length);a.viewTicketDetailsJson[Ie]=Fe}if(null!==e.data.dynamicFormField25){var Ne=e.data.dynamicFormField25,Pe=Ne.substring(0,Ne.indexOf(",")),Le=Ne.substring(Ne.indexOf(",")+1,Ne.length);a.viewTicketDetailsJson[Pe]=Le}if(null!==e.data.dynamicFormField26){var Re=e.data.dynamicFormField26,Ee=Re.substring(0,Re.indexOf(",")),Be=Re.substring(Re.indexOf(",")+1,Re.length);a.viewTicketDetailsJson[Ee]=Be}if(null!==e.data.dynamicFormField27){var Me=e.data.dynamicFormField27,Ue=Me.substring(0,Me.indexOf(",")),Ve=Me.substring(Me.indexOf(",")+1,Me.length);a.viewTicketDetailsJson[Ue]=Ve}if(null!==e.data.dynamicFormField28){var _e=e.data.dynamicFormField28,He=_e.substring(0,_e.indexOf(",")),Ge=_e.substring(_e.indexOf(",")+1,_e.length);a.viewTicketDetailsJson[He]=Ge}if(null!==e.data.dynamicFormField29){var We=e.data.dynamicFormField29,Ye=We.substring(0,We.indexOf(",")),ze=We.substring(We.indexOf(",")+1,We.length);a.viewTicketDetailsJson[Ye]=ze}if(null!==e.data.dynamicFormField30){var Je=e.data.dynamicFormField30,qe=Je.substring(0,Je.indexOf(",")),Ke=Je.substring(Je.indexOf(",")+1,Je.length);a.viewTicketDetailsJson[qe]=Ke}if(null!==e.data.dynamicFormField31){var Qe=e.data.dynamicFormField31,Ze=Qe.substring(0,Qe.indexOf(",")),Xe=Qe.substring(Qe.indexOf(",")+1,Qe.length);a.viewTicketDetailsJson[Ze]=Xe}if(null!==e.data.dynamicFormField32){var $e=e.data.dynamicFormField32,et=$e.substring(0,$e.indexOf(",")),tt=$e.substring($e.indexOf(",")+1,$e.length);a.viewTicketDetailsJson[et]=tt}if(null!==e.data.dynamicFormField33){var at=e.data.dynamicFormField33,st=at.substring(0,at.indexOf(",")),nt=at.substring(at.indexOf(",")+1,at.length);a.viewTicketDetailsJson[st]=nt}if(null!==e.data.dynamicFormField34){var it=e.data.dynamicFormField34,lt=it.substring(0,it.indexOf(",")),rt=it.substring(it.indexOf(",")+1,it.length);a.viewTicketDetailsJson[lt]=rt}if(null!==e.data.dynamicFormField35){var ot=e.data.dynamicFormField35,ct=ot.substring(0,ot.indexOf(",")),dt=ot.substring(ot.indexOf(",")+1,ot.length);a.viewTicketDetailsJson[ct]=dt}if(null!==e.data.dynamicFormField36){var ht=e.data.dynamicFormField36,ut=ht.substring(0,ht.indexOf(",")),bt=ht.substring(ht.indexOf(",")+1,ht.length);a.viewTicketDetailsJson[ut]=bt}if(null!==e.data.dynamicFormField37){var pt=e.data.dynamicFormField37,mt=pt.substring(0,pt.indexOf(",")),gt=pt.substring(pt.indexOf(",")+1,pt.length);a.viewTicketDetailsJson[mt]=gt}if(null!==e.data.dynamicFormField38){var jt=e.data.dynamicFormField38,ft=jt.substring(0,jt.indexOf(",")),Ot=jt.substring(jt.indexOf(",")+1,jt.length);a.viewTicketDetailsJson[ft]=Ot}if(null!==e.data.dynamicFormField39){var vt=e.data.dynamicFormField39,xt=vt.substring(0,vt.indexOf(",")),yt=vt.substring(vt.indexOf(",")+1,vt.length);a.viewTicketDetailsJson[xt]=yt}if(null!==e.data.dynamicFormField40){var St=e.data.dynamicFormField40,Tt=St.substring(0,St.indexOf(",")),kt=St.substring(St.indexOf(",")+1,St.length);a.viewTicketDetailsJson[Tt]=kt}for(var Dt=0,wt=Object.entries(a.state.ticketData.dynamicFormJson);Dt<wt.length;Dt++){var Ct=wt[Dt],At=Ct[0].toString().toLowerCase().split("_").join("");At.includes("issuesummary")&&a.setState({ticketSubject:Ct[1]}),At.includes("prioritylevel")&&a.setState({ticketPriorityLevel:Ct[1]})}}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTicketRepliesByTicketId",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={ticketId:this.state.ticketId},Te.getTicketRepliesByTicketId(t).then((function(e){a.setState({ticketReplies:e.data}),console.log("Response"+JSON.stringify(e.data))}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeSLAPLAN",value:function(e){this.setState({newSLAPlan:e});var t=new Date(this.state.ticketData.initialCreatedDate),a=new Date(e),s=Math.abs(a-t),n=Math.ceil(s/864e5);console.log("Days"+n.toString()),"1"===n.toString()?this.slaPlan=T:"2"===n.toString()?this.slaPlan=k:"3"===n.toString()?this.slaPlan=D:"4"===n.toString()?this.slaPlan=w:"5"===n.toString()?this.slaPlan=C:"6"===n.toString()?this.slaPlan=A:"7"===n.toString()?this.slaPlan=I:"8"===n.toString()?this.slaPlan=F:"9"===n.toString()?this.slaPlan=N:"10"===n.toString()?this.slaPlan=P:"11"===n.toString()?this.slaPlan=L:"12"===n.toString()?this.slaPlan=R:"13"===n.toString()?this.slaPlan=E:"14"===n.toString()?this.slaPlan=B:"15"===n.toString()?this.slaPlan=M:"16"===n.toString()?this.slaPlan=U:"17"===n.toString()?this.slaPlan=V:"18"===n.toString()?this.slaPlan=_:"19"===n.toString()?this.slaPlan=H:"20"===n.toString()?this.slaPlan=G:"21"===n.toString()?this.slaPlan=W:"22"===n.toString()?this.slaPlan=Y:"23"===n.toString()?this.slaPlan=z:"24"===n.toString()?this.slaPlan=J:"25"===n.toString()?this.slaPlan=q:"26"===n.toString()?this.slaPlan=K:"27"===n.toString()?this.slaPlan=Q:"28"===n.toString()?this.slaPlan=Z:"29"===n.toString()?this.slaPlan=X:"30"===n.toString()?this.slaPlan=$:this.slaPlan=n.toString()+" Day",console.log(this.slaPlan)}},{key:"getAssigneeOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==this.showOnlyLeadTeamMembers){e.next=11;break}return t={teamId:sessionStorage.getItem("previousSelectedTeamId")},e.next=4,Te.getAssigneeListByTeam(t);case 4:a=e.sent,s=a.data,n=s.map((function(e){return{value:e.id,label:"".concat(e.fullName,"<").concat(e.email,"> ")}})),this.setState({assigneeOptions:n}),this.setState({assigneeLabel:"Select your Team Agent"}),e.next=18;break;case 11:return i={assigneeBranchName:this.state.assigneeBranchName},e.next=14,Te.getUsersByBranch(i);case 14:l=e.sent,r=l.data,o=r.map((function(e){return{value:e.id,label:"".concat(e.fullName,"<").concat(e.email,"> ")}})),this.setState({assigneeOptions:o});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssigneeOptionsForCentralPool",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllUser();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:"".concat(e.fullName,"<").concat(e.email,"> ")}})),this.setState({assigneeOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTicketStatus",value:function(){this.setState({statusOptions:[{value:1,label:"Open"},{value:2,label:"Awaiting for user response"},{value:3,label:"Assigned to an engineer"},{value:4,label:"Indent at Branch approval"},{value:5,label:"Indent at DM approval"},{value:6,label:"Indent at CO approval"},{value:7,label:"Branch dependent"},{value:8,label:"Warehouse dependent"},{value:9,label:"Vendor dependent"},{value:10,label:"Work in progress"},{value:11,label:"Escalated to Next level"},{value:12,label:"Resolved"},{value:13,label:"Closed"}]})}},{key:"bulkUpdate",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.ticketStatus||this.state.assigneeFullName||this.state.subCategory){e.next=2;break}return e.abrupt("return",null);case 2:return t={ticketStatus:this.state.ticketStatus,id:this.state.arrayOfSelectedId,assigneeFullName:this.state.assigneeFullName,assigneeId:this.state.assigneeId,userId:sessionStorage.getItem("userId"),userMobile:sessionStorage.getItem("mobile"),ticketSubCategory:this.state.subCategory},e.next=5,Te.bulkUpdateTicketStatusAndAssignee(t).then((function(e){console.log(e.data),!1===e.data.success&&e.data.message&&a.showErrorToast(e.data.message)})).catch((function(e){a.showErrorToast(),console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserDetails",value:function(){var e=this,t={id:this.state.userId};Te.getUserDetails(t).then((function(t){e.setState({isAgent:t.data.isAgent})}))}},{key:"downloadFile",value:function(e){var t={keyName:e};Te.downloadTicketFile(t).then((function(e){console.log(e.data),window.location.href=e.data.downloadUrl})),console.log(e)}},{key:"onChangeAssignee",value:function(e){this.state.userId=e.value,this.setState({assigneeId:e.value,assigneeFullName:e.label}),e.label&&""===this.state.responseMessage&&this.setState({lbl_Post_Reply:"Update Assignee"})}},{key:"onChangeSubCategory",value:function(e){this.setState({subCategory:e.label})}},{key:"onChangeTicketStatus",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({statusId:t.value,ticketStatus:t.label},(function(){console.log(a.state.statusId),console.log(a.state.ticketStatus)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeTransferAssignee",value:function(e){this.selectedTransferAssignee={value:e.value,label:e.label,departmentId:e.departmentId,assigneeName:e.assigneeName},console.log(this.selectedTransferAssignee)}},{key:"postReply",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.assigneeFullName||""!==this.state.responseMessage&&void 0!==this.state.responseMessage){e.next=4;break}return e.abrupt("return",this.showWarningToast("Message is mandatory"));case 4:if(this.state.currentTicketStatus!==this.state.ticketStatus){e.next=8;break}return e.abrupt("return",this.showWarningToast("Ticket already present in same status"));case 8:return this.setState({disablePostReplyButtonOnClick:!0}),e.next=11,this.bulkUpdate();case 11:if(t=[],null!==this.state.selectedOption&&""!==this.state.selectedOption){s=Object(Ae.a)(this.state.selectedOption);try{for(s.s();!(n=s.n()).done;)i=n.value,t.push(i.label)}catch(o){s.e(o)}finally{s.f()}a=t.join()}l={to:this.state.ticketData.email,from:sessionStorage.getItem("userId"),recepients:a,message:this.state.responseMessage,ticketId:this.state.ticketId,s3FilesUrl:this.state.selectedFiles,isInternalNotes:this.state.postInternalNotes,usedInCannedFilters:!0},""!==this.state.responseMessage&&Te.postTicketReply(l).then((function(e){var t,a=[],s={ticketId:r.state.ticketId,fileKeysArray:a},n=Object(Ae.a)(r.state.selectedFiles);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,l=0,c=Object.entries(i);l<c.length;l++){var d=c[l];d[1].includes("ticket/")&&a.push(d[1])}}catch(o){n.e(o)}finally{n.f()}a.length>1&&Te.createFileKeyEntry(s).then((function(e){console.log(e.data),r.showSuccessToast("Reply Posted"),r.props.history.push("/ticket")}))})).catch((function(e){r.showErrorToast("Some Error Occurred"),console.log(e)})),this.showSuccessToast("Reply Posted"),this.props.history.push("/ticket");case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectFiles",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=new FormData).append("file",a.target.files[0]),Te.uploadTempTicketFile(s).then((function(e){console.log(e.data),n.state.selectedFiles.push({id:t,key:e.data.key,fileName:a.target.files[0].name}),n.setState({displayFileName:!0})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeSelectedFile",value:function(e,t,a){console.log(e),console.log(t);var s,n=[],i=Object(Ae.a)(this.state.selectedFiles);try{for(i.s();!(s=i.n()).done;){var l=s.value;if(l.id===e&&l.key===t){var r=this.state.selectedFiles.indexOf(l);if(r>-1){(n=this.state.selectedFiles).splice(r,1),this.setState({selectedFiles:n}),console.log(n);var o={keyName:t};Te.deleteTicketFile(o).then((function(e){console.log("File Deleted From S3"+e.data)}))}}}}catch(c){i.e(c)}finally{i.f()}}},{key:"updateSLA",value:function(){var e=this;if(""===this.slaPlan||void 0===this.slaPlan)return this.showWarningToast("Please select new SLA plan");if(this.slaPlan===this.state.ticketData.slaPlan)return this.showWarningToast("SLA plan already present");var t={ticketId:this.state.ticketId,slaPlan:this.slaPlan,userId:this.state.userId};Te.updateSLATimings(t).then((function(t){(t.success=!0)?(e.showSuccessToast("SLA Updated"),e.componentDidMount(),e.slaPlan=void 0,e.setState({newSLAPlan:void 0})):e.showErrorToast("Some Error Occurred")}))}},{key:"onclickShowDepartmentPopup",value:function(){this.setState({showDepartmentSelectionPopup:!0}),this.setState({isTicketWronglyAssignedFlow:1}),this.getDepartmentOptions()}},{key:"onCloseDepartmentPopup",value:function(){this.setState({showDepartmentSelectionPopup:!1})}},{key:"getDepartmentOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllDepartments();case 2:t=e.sent,a=t.data,(s=[]).push({value:"All",label:"All"}),s.push({value:"CentralPoolAgent",label:"Central Pool Agent"}),n=Object(Ae.a)(a);try{for(n.s();!(i=n.n()).done;)l=i.value,s.push({value:l.id,label:l.departmentName})}catch(r){n.e(r)}finally{n.f()}this.setState({departmentOptions:s});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllTrasnferAssignees",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o,d,h,u,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("All"!==this.selectedTranferDepartment.deptName){e.next=11;break}return e.next=3,Te.getAllDepartmentsAgents();case 3:t=e.sent,a=t.data.agentDeptMap,s=[],n=Object(Ae.a)(a);try{for(n.s();!(i=n.n()).done;)l=i.value,s.push({value:l.value,label:l.label+"<".concat(l.user.email,">"),departmentId:l.departmentId,assigneeName:l.label})}catch(c){n.e(c)}finally{n.f()}this.setState({transferAssignee:s}),e.next=24;break;case 11:if("Central Pool Agent"!==this.selectedTranferDepartment.deptName){e.next=16;break}this.setState({transferAssignee:[]}),this.setState({showTransferAssignee:!1}),e.next=24;break;case 16:return e.next=18,Te.getDepartmentAssociatedAgents(500,0,void 0,"desc","createdAt",this.selectedTranferDepartment.depId);case 18:r=e.sent,o=r.data.users,d=[],h=Object(Ae.a)(o);try{for(h.s();!(u=h.n()).done;)b=u.value,d.push({value:b.userId,label:"".concat(null!==b.user.fullName?b.user.fullName:""," <").concat(b.user.email,">"),departmentId:b.departmentId,assigneeName:b.user.fullName})}catch(c){h.e(c)}finally{h.f()}this.setState({transferAssignee:d});case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({helpTopicOptions:[]}),this.setState({topicId:void 0,topicName:void 0}),this.setState({showTransferAssignee:!0}),this.setState({depId:t.value,deptName:t.label}),this.selectedTranferDepartment={depId:t.value,deptName:t.label},this.getAllTrasnferAssignees(),"CentralPoolAgent"!==t.value){e.next=11;break}this.selectedTransferAssignee={value:"CentralPoolAgent",label:"Central Pool Agent"},this.setState({showHelptopicDropdown:!1}),e.next=19;break;case 11:return a={departmentId:t.value},e.next=14,Te.getAllHelpTopicByDepartmentId(a);case 14:s=e.sent,n=s.data,i=n.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:i}),this.setState({showHelptopicDropdown:!0});case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transferTicket",value:function(){var e=this;if(void 0===this.selectedTranferDepartment||void 0===this.selectedTransferAssignee)return this.showWarningToast("Please fill mandatory information");var t={isTicketWronglyAssigned:this.state.isTicketWronglyAssignedFlow,transferReason:this.state.transferMessage,departmentName:this.state.deptName||"",ticketId:this.state.ticketId,selectedDepartment:this.selectedTranferDepartment,selectedAssignee:this.selectedTransferAssignee,transferreId:window.sessionStorage.getItem("userId"),helpTopicId:this.state.topicId};Te.transferTicket(t).then((function(t){if("false"==t.data.success)return e.showErrorToast(t.data.message);e.showSuccessToast("Ticket Transferred Successfully"),e.setState({showDepartmentSelectionPopup:!1}),e.getTicketDetailsByTicketId(),e.getTicketRepliesByTicketId(),e.getTicketStatus(),e.getUserDetails(),void 0!==sessionStorage.getItem("previousSelectedTeamId")&&void 0!==sessionStorage.getItem("previousPageLocation")&&"/myTeams"==sessionStorage.getItem("previousPageLocation")?e.props.history.push("/myTeams"):(e.props.history.push("/ticket"),window.location.reload())}))}},{key:"getCannedOptions",value:function(){var e=[{value:1,label:j},{value:2,label:f},{value:3,label:O},{value:4,label:v}];this.setState({cannedOptions:e})}},{key:"onChangeCannedResponse",value:function(e){var t=this;this.setState({cannedId:e.value,cannedFilterName:e.label});var a={ticketId:this.state.ticketId,cannedFilterName:e.label,isAgent:this.state.isAgent};Te.filterCannedResponses(a).then((function(e){if(e.data.message&&t.setState({responseMessage:t.state.responseMessage+e.data.message}),e.data.length>=1){var a,s=Object(Ae.a)(e.data);try{for(s.s();!(a=s.n()).done;){var n=a.value;t.setState({responseMessage:t.state.responseMessage+n.message})}}catch(i){s.e(i)}finally{s.f()}}e.data.recepients&&t.setState({selectedOption:e.data.recepients})}))}},{key:"onChangepostInternalNote",value:function(e){!1===this.state.postInternalNotes?this.setState({postInternalNotes:!0}):this.setState({postInternalNotes:!1})}},{key:"handleOnFocus",value:function(){this.setState({menuIsOpen:!1}),this.setState({selectedAssigneeOption:{}}),this.setState({assigneeFullName:""})}},{key:"handleFocusOut",value:function(){this.setState({menuIsOpen:!1})}},{key:"createDynamicFieldsComment",value:function(e,t){var a=document.createElement("div"),s=document.createElement("h6"),n=document.createElement("u");s.innerHTML="Previous Department("+t+") Ticket  Details",n.appendChild(s),a.appendChild(n);for(var i=e,l=0,r=Object.entries(i);l<r.length;l++){var o=r[l],c=o[0].toString().split(/[_ 0-9]/g).join(""),d=o[1];d=!0===o[1]||!1===o[1]?o[1].toString():o[1].split(","),/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(o[1])&&(o[1]=Ke()(o[1]).format("DD/MM/YYYY hh:mm A"));var h=document.createElement("br"),u=document.createElement("strong"),b=document.createElement("label");if(b.innerHTML=c+"&nbsp",u.appendChild(b),a.appendChild(u),d.toString().includes("ticket/")){var p,m=Object(Ae.a)(d);try{for(m.s();!(p=m.n()).done;){var g=p.value,j=document.createElement("a");j.innerHTML=g.substring(g.lastIndexOf("/")+1,g.length)+"&nbsp",j.target="_blank",j.href=xe+"/api/file/downloadTicketFile/?keyName="+g,a.appendChild(j)}}catch(v){m.e(v)}finally{m.f()}}else{var f=document.createElement("a");f.innerHTML=d+"&nbsp",a.appendChild(f)}a.appendChild(h)}var O={to:null,from:sessionStorage.getItem("userId"),recepients:null,message:a.innerHTML,ticketId:this.state.ticketId,s3FilesUrl:null,isInternalNotes:!1,isTicketActivityThread:!0};Te.postTicketReply(O).then((function(e){console.log(e)}))}},{key:"transferBack",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createDynamicFieldsComment(this.viewTicketDetailsJson,this.state.ticketData.department.departmentName);case 2:t={ticketId:this.state.ticketData.id,ticketSourceHistoryId:this.state.ticketData.ticketSourceHistoryId,loggedInUserId:sessionStorage.getItem("userId")},Te.transferBackTicket(t).then((function(e){a.showSuccessToast("Transferred Successfully"),window.location.reload(!1)})).catch((function(e){a.showErrorToast(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("isCentralPoolAgent");"/myTeams"===sessionStorage.getItem("previousPageLocation")&&(this.showOnlyLeadTeamMembers=!0),this.setState({isCentralPoolAgent:e}),this.getTicketDetailsByTicketId(),this.getTicketRepliesByTicketId(),this.getTicketStatus();var t=[];t.push(this.state.ticketId),this.setState({arrayOfSelectedId:t}),this.getUserDetails(),this.getCannedOptions()}},{key:"toggleClass",value:function(e,t){if(1==this.state.active)return this.setState({active:!1});if(1==this.state.showImage)return this.setState({showImage:!1});var a=e.split(/[\s.]+/),s=a[a.length-1];if("jpg"==s.toLowerCase()||"jpeg"==s.toLowerCase()||"png"==s.toLowerCase()){var n=this.state.showImage;this.setState({showImage:!n})}else{var i=this.state.active;this.setState({active:!i})}this.setState({dataPath:e}),console.log(this.state.active)}},{key:"onChangeHelpTopic",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({topicId:t.value,topicName:t.label});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.ticketData?Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"shadow p-3 mb-5 bg-white rounded",style:{marginTop:"20px"},children:[Object(s.jsxs)(nt.a,{children:["/ticket"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/ticket",children:"My Tickets"}),"/escalatedTicket"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/escalatedTicket",children:"Escalated Tickets"}),"/allTickets"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/allTickets",children:"All Tickets"}),"/myTeams"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/myTeams",children:"My Teams"}),Object(s.jsxs)(nt.a.Item,{active:!0,children:["Ticket #",this.state.ticketId]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:12,md:2,lg:2,children:Object(s.jsxs)("h5",{className:"formHeading",style:{backgroundColor:"#ffffff"},children:["Ticket #",this.state.ticketId]})}),(this.state.ticketData.userId===parseInt(this.state.userId)||this.state.ticketData.createdBy===parseInt(this.state.userId))&&Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Change SLA Plan"}),Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsx)(Ve.a,{dateFormat:"dd/MM/yyyy",showYearDropdown:!1,placeholderText:"Select new SLA",className:"form-control",minDate:new Date(this.state.ticketData.initialCreatedDate),onChange:this.onChangeSLAPLAN.bind(this),selected:this.state.newSLAPlan}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143"},variant:"primary",type:"submit",onClick:this.updateSLA,children:"Update"})]})]}),"true"===this.state.isAgent&&Object(s.jsxs)(ze.a,{xs:4,md:6,lg:6,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},className:"formlabel",children:"Change Assignee"}),Object(s.jsx)(Je.a,{style:{float:"right"},variant:"secondary",onClick:this.onclickShowDepartmentPopup.bind(),children:"Transfer"})]}),"true"===this.state.isAgent&&!0===this.state.ticketData.isTicketSource&&sessionStorage.getItem("userId").match(this.state.ticketData.assigneeId)&&Object(s.jsxs)(ze.a,{xs:2,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},className:"formlabel",children:"Change Assignee"}),Object(s.jsx)(Je.a,{variant:"secondary",type:"submit",onClick:this.transferBack,children:"Transfer Back"})]})]}),!0===this.state.showDepartmentSelectionPopup&&1===this.state.isTicketWronglyAssignedFlow&&Object(s.jsxs)(it.a,{show:this.state.showDepartmentSelectionPopup,onHide:this.onCloseDepartmentPopup,keyboard:!0,backdrop:"static",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0,children:Object(s.jsx)(it.a.Title,{style:{color:"#26568e"},children:"Transfer Ticket"})}),Object(s.jsx)(it.a.Body,{children:Object(s.jsxs)(Fe.a,{children:[Object(s.jsxs)(Fe.a.Group,{controlId:"departmentName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Department"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.departmentOptions,placeholder:"Select a Department",onChange:this.onChangeDepartment.bind(this)})]}),this.state.showHelptopicDropdown&&Object(s.jsxs)(Fe.a.Group,{controlId:"helptopicName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Helptopic Name"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.helpTopicOptions,placeholder:"Select a Helptopic",onChange:this.onChangeHelpTopic.bind(this)})]}),this.state.showTransferAssignee&&Object(s.jsxs)(Fe.a.Group,{controlId:"departmentName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Change Assignee"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.transferAssignee,placeholder:"Select a Assignee",onChange:this.onChangeTransferAssignee.bind(this)})]}),Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Transfer Reason"}),Object(s.jsx)(Re.CKEditor,{onReady:function(e){},data:this.state.transferMessage||"",editor:Be.a,onChange:function(t,a){var s=a.getData();e.state.transferMessage=s,console.log({event:t,editor:a,data:s})}})]})}),Object(s.jsx)(it.a.Footer,{children:Object(s.jsx)(Je.a,{variant:"success",onClick:this.transferTicket.bind(),children:"TRANSFER"})})]}),Object(s.jsx)("h4",{className:"subject",children:this.state.ticketSubject}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Status:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.ticketStatus})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"User:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.fullName})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Priority:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketPriorityLevel})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Email:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.email})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Designation:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.user.designation})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Department:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.department.departmentName})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Source:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.ticketsource.sourceName})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Created Date:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:Ke()(this.state.ticketData.initialCreatedDate).format("DD/MM/YYYY hh:mm A")})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Mobile:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.user.mobile})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Assigned To:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.assigneeFullName})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Help Topic:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.helptopic.helpTopicName})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"SLA:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.slaPlan})]})]}),Object(s.jsxs)(Ye.a,{children:[null!==this.state.ticketData.level1SlaDue&&Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Due Date:\xa0"}),Object(s.jsxs)("label",{className:"lblFieldValue",children:[Ke()(this.state.ticketData.level1SlaDue).format("DD/MM/YYYY hh:mm A"),"\xa0\xa0",Object(s.jsx)("span",{className:"lblFields",children:"(Level-1)"})]})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Ticket Category:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.ticketCategory})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Ticket SubCategory:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.ticketSubCategory})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Employee Id:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.employeeNo})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Ticket Closed Date:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:null!==this.state.ticketData.closedDate&&Ke()(this.state.ticketData.closedDate).format("DD/MM/YYYY hh:mm A")})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Ticket Closed By:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.closedBy})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Branch:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.branch})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Modified SLA:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.modifiedSlaPlan})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Modified Created Date:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:Ke()(this.state.ticketData.createdAt).format("DD/MM/YYYY hh:mm A")})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Nspira Code:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.nspiraCode})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"State:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.state})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"District:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.district})]})]}),Object(s.jsx)(Ye.a,{children:Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Payroll Code:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.payrollCode})]})}),Object(s.jsx)(Ye.a,{children:Object(s.jsxs)(ze.a,{children:[Object(s.jsxs)(it.a,{show:this.state.active,keyboard:!0,onHide:this.toggleClass,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0}),Object(s.jsx)(it.a.Body,{children:Object(s.jsx)("object",{data:this.state.dataPath,onClick:this.toggleClass.bind(this,this.state.dataPath),className:this.state.active?"viewFile":null})})]}),Object(s.jsxs)(it.a,{show:this.state.showImage,keyboard:!0,onHide:this.toggleClass,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0}),Object(s.jsx)(it.a.Body,{children:Object(s.jsx)(ot.b,{children:Object(s.jsx)(ot.a,{children:Object(s.jsx)("img",{style:{width:"100%",height:"auto"},src:this.state.dataPath})})})})]})]})})]}),Object(s.jsxs)("div",{className:"shadow p-3 mb-5 bg-white rounded",style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"Ticket Details"}),Object.entries(this.viewTicketDetailsJson).map((function(t){var a=Object(at.a)(t,2),n=a[0],i=a[1],l=n.toString().split(/[_ 0-9]/g).join(" "),r=i;return r=!0===i||!1===i?i.toString():i.split(","),/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(i)?i=Ke()(i).format("DD/MM/YYYY hh:mm A"):console.log("value"+i+"  Not a date"),Object(s.jsxs)("div",{children:[!i.toString().includes("ticket/")&&Object(s.jsxs)("label",{children:[Object(s.jsx)("span",{style:{fontWeight:"bold",color:"black"},children:l}),":\xa0",rt()(i)]}),i.toString().includes("ticket/")&&Object(s.jsxs)("label",{children:[Object(s.jsx)("span",{style:{fontWeight:"bold",color:"black"},children:l}),":\xa0 ",Object(s.jsx)("span",{children:r.map((function(t){return Object(s.jsxs)("span",{children:["\xa0",t.substring(t.lastIndexOf("/")+1,t.length),"\xa0",Object(s.jsx)("i",{class:"fa fa-cloud-download",style:{cursor:"pointer"},onClick:e.downloadFile.bind(e,t),"aria-hidden":"true"})," \xa0\xa0",Object(s.jsx)("i",{class:"fa fa-eye",onClick:e.toggleClass.bind(e,xe+"/api/file/downloadTicketFile/?isView=true&keyName="+t),"aria-hidden":"true"})]})}))})]})]})}))]}),Object(s.jsxs)("div",{className:"shadow p-3 mb-5 rounded",style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"Ticket Thread"}),"true"===this.state.isAgent&&this.state.ticketReplies.map((function(t){return null===t.message||null!==t.isTicketActivityThread&&!1!==t.isTicketActivityThread||null!==t.textMessage?null!==t.message&&!0===t.isTicketActivityThread&&null===t.messageDateTime?Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-hand-o-right","aria-hidden":"true"}),"\xa0",Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)}),"\xa0",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A")]})})]})}):null!==t.message&&!0===t.isTicketActivityThread&&null!==t.messageDateTime?Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-hand-o-right","aria-hidden":"true"}),"\xa0",Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)}),"\xa0",Ke()(t.messageDateTime).format("DD/MM/YYYY hh:mm A")]})})]})}):null===t.message||null===t.textMessage||null!==t.isTicketActivityThread&&!1!==t.isTicketActivityThread?void 0:Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1,children:Object(s.jsx)("img",{className:"userIcon",src:"../userIcon.PNG"})}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("div",{className:"triangleMain",children:[Object(s.jsx)("div",{className:"triangle",children:Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)})," on ",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A"),Object(s.jsx)("hr",{})]})}),Object(s.jsx)("div",{className:"triangleInnerContent",children:Object(s.jsx)("p",{children:rt()(t.textMessage)})})]})})]})}):Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1,children:Object(s.jsx)("img",{className:"userIcon",src:"../userIcon.PNG"})}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("div",{className:"triangleMain",children:[Object(s.jsxs)("div",{className:"triangle",children:[!0===t.isInternalNotes&&Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{fontWeight:"bold"},children:t.repliedby})," posted ",Object(s.jsx)("span",{style:{fontWeight:"bold"},children:"Internal Note"})," on ",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A"),Object(s.jsx)("hr",{})]}),(null===t.isInternalNotes||!1===t.isInternalNotes)&&Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{fontWeight:"bold"},children:t.repliedby})," posted on ",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A"),Object(s.jsx)("hr",{})]})]}),Object(s.jsxs)("div",{className:"triangleInnerContent",children:[Object(s.jsx)("p",{children:rt()(t.message)}),"{}"!==JSON.stringify(t.s3FilesUrl)&&null!==t.s3FilesUrl&&t.s3FilesUrl.map((function(t){return Object(s.jsxs)("label",{children:[t.fileName," ",Object(s.jsx)("span",{type:"button",class:"fa fa-cloud-download",onClick:e.downloadFile.bind(e,t.key)}),"\xa0\xa0",Object(s.jsx)("i",{class:"fa fa-eye",onClick:e.toggleClass.bind(e,xe+"/api/file/downloadTicketFile/?isView=true&keyName="+t.key),"aria-hidden":"true"})]})}))]})]})})]})})})),"true"!==this.state.isAgent&&this.state.ticketReplies.map((function(t){return null===t.message||null!==t.isTicketActivityThread&&!1!==t.isTicketActivityThread||null!==t.textMessage||!1!==t.isInternalNotes&&null!==t.isInternalNotes?null!==t.message&&!0===t.isTicketActivityThread&&null===t.messageDateTime?Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-hand-o-right","aria-hidden":"true"}),"\xa0",Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)}),"\xa0",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A")]})})]})}):null!==t.message&&!0===t.isTicketActivityThread&&null!==t.messageDateTime?Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-hand-o-right","aria-hidden":"true"}),"\xa0",Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)}),"\xa0",Ke()(t.messageDateTime).format("DD/MM/YYYY hh:mm A")]})})]})}):null===t.message||null===t.textMessage||null!==t.isTicketActivityThread&&!1!==t.isTicketActivityThread?void 0:Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1,children:Object(s.jsx)("img",{className:"userIcon",src:"../userIcon.PNG"})}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("div",{className:"triangleMain",children:[Object(s.jsx)("div",{className:"triangle",children:Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)})," on ",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A"),Object(s.jsx)("hr",{})]})}),Object(s.jsx)("div",{className:"triangleInnerContent",children:Object(s.jsx)("p",{children:rt()(t.textMessage)})})]})})]})}):Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1,children:Object(s.jsx)("img",{className:"userIcon",src:"../userIcon.PNG"})}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsx)("div",{className:"triangleMain",children:Object(s.jsxs)("div",{className:"triangle",children:[Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{fontWeight:"bold"},children:t.repliedby})," posted on ",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A"),Object(s.jsx)("hr",{})]}),Object(s.jsx)("p",{children:rt()(t.message)}),"{}"!==JSON.stringify(t.s3FilesUrl)&&null!==t.s3FilesUrl&&t.s3FilesUrl.map((function(t){return Object(s.jsxs)("label",{children:[t.fileName," ",Object(s.jsx)("span",{type:"button",class:"fa fa-cloud-download",onClick:e.downloadFile.bind(e,t.key)}),"\xa0\xa0",Object(s.jsx)("i",{class:"fa fa-eye",onClick:e.toggleClass.bind(e,xe+"/api/file/downloadTicketFile/?isView=true&keyName="+t.key),"aria-hidden":"true"})]})}))]})})})]})})}))]}),Object(s.jsxs)("div",{className:"shadow p-3 mb-5 bg-white rounded",style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"Post Reply"}),"true"===this.state.isAgent&&Object(s.jsxs)(Fe.a,{children:[Object(s.jsxs)(Fe.a.Group,{as:Ye.a,controlId:"to",children:[Object(s.jsx)(Fe.a.Label,{column:!0,sm:"2",className:"formlabel",children:"To:"}),Object(s.jsx)(ze.a,{sm:"10",children:Object(s.jsx)(Fe.a.Control,{type:"text",value:this.state.ticketData.email})})]}),Object(s.jsxs)(Fe.a.Group,{as:Ye.a,controlId:"rece",children:[Object(s.jsx)(Fe.a.Label,{column:!0,sm:"2",className:"formlabel",children:"Add Recipients:"}),Object(s.jsx)(ze.a,{sm:"10",children:Object(s.jsx)(Ne.a,{value:this.state.selectedOption,loadOptions:this.fetchData,styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},placeholder:"Search email",onChange:function(t){e.onSearchChange(t)},defaultOptions:!1,isMulti:!0,isClearable:!0})})]}),Object(s.jsxs)(Fe.a.Group,{as:Ye.a,children:[Object(s.jsx)(Fe.a.Label,{column:!0,sm:"2",className:"formlabel",children:"Internal Note"}),Object(s.jsx)(ze.a,{sm:"10",children:Object(s.jsx)(Fe.a.Check,{type:"checkbox",value:this.state.postInternalNotes,onChange:this.onChangepostInternalNote,label:"Tick checkbox to post Internal Notes within agents"})})]}),Object(s.jsxs)(Fe.a.Group,{as:Ye.a,children:[Object(s.jsx)(Fe.a.Label,{column:!0,sm:"2",className:"formlabel",children:"Response:"}),Object(s.jsx)(ze.a,{sm:"10",children:Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},placeholder:"Select a canned response",options:this.state.cannedOptions,onChange:this.onChangeCannedResponse.bind(this)})})]}),Object(s.jsx)(Ye.a,{children:Object(s.jsx)(ze.a,{children:Object(s.jsx)(Re.CKEditor,{onReady:function(e){},data:this.state.responseMessage||"",editor:Be.a,onChange:function(t,a){var s=a.getData();e.state.responseMessage=s,console.log({event:t,editor:a,data:s}),e.state.assigneeFullName&&s&&e.setState({lbl_Post_Reply:"Post Reply"})}})})}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)(Fe.a.File,{className:"customFile",multiple:!1,onChange:this.selectFiles.bind(this,"files"),id:"files",style:{visibility:"hidden",display:"none"}},"files"),Object(s.jsx)("label",{className:"labelFileUpload",for:"files",children:"Choose file"}),!0===this.state.displayFileName&&this.state.selectedFiles.map((function(t){return Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)("p",{children:[t.fileName," \xa0\xa0",Object(s.jsx)("i",{className:"fa fa-trash-o",onClick:e.removeSelectedFile.bind(e,"files",t.key)})]})})}))]}),Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,style:{paddingTop:"10px"},children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Change Status"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.statusOptions,onChange:this.onChangeTicketStatus.bind(this),placeholder:"Select status"})]}),("true"===this.state.isAgent||"true"===this.state.isCentralPoolAgent)&&Object(s.jsxs)(n.Fragment,{children:[Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,style:{paddingTop:"10px"},children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:this.state.assigneeLabel}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.assigneeOptions,onChange:this.onChangeAssignee.bind(this),placeholder:"Select a assignee"})]}),this.state.subCategoryOptions.length>1&&Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,style:{paddingTop:"10px"},children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Change SubCategory"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.subCategoryOptions,onChange:this.onChangeSubCategory.bind(this),placeholder:"Select a SubCategory"})]})]})]}),Object(s.jsx)("button",{type:"button",disabled:!0===this.state.disablePostReplyButtonOnClick,onClick:this.postReply,className:"btn btn-success",children:this.state.lbl_Post_Reply})]}),"true"!==this.state.isAgent&&Object(s.jsxs)(Fe.a,{children:[Object(s.jsx)(Fe.a.Group,{as:Ye.a,children:Object(s.jsx)(Fe.a.Label,{column:!0,sm:"2",className:"formlabel",children:"Response:"})}),Object(s.jsx)(Ye.a,{children:Object(s.jsx)(ze.a,{children:Object(s.jsx)(Re.CKEditor,{onReady:function(e){},data:this.state.responseMessage||"",editor:Be.a,onChange:function(t,a){var s=a.getData();e.state.responseMessage=s,console.log({event:t,editor:a,data:s})}})})}),Object(s.jsx)(Ye.a,{children:Object(s.jsxs)(ze.a,{children:[Object(s.jsx)(Fe.a.File,{className:"customFile",multiple:!1,onChange:this.selectFiles.bind(this,"files"),id:"files",style:{visibility:"hidden",display:"none"}},"files"),Object(s.jsx)("label",{className:"labelFileUpload",for:"files",children:"Choose file"}),!0===this.state.displayFileName&&this.state.selectedFiles.map((function(t){return Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)("p",{children:[t.fileName," \xa0\xa0",Object(s.jsx)("i",{className:"fa fa-trash-o",onClick:e.removeSelectedFile.bind(e,"files",t.key)})]})})}))]})}),Object(s.jsx)("button",{type:"button",disabled:!0===this.state.disablePostReplyButtonOnClick,onClick:this.postReply,className:"btn btn-success",children:this.state.lbl_Post_Reply})]})]})]}):Object(s.jsx)("div",{})}}]),a}(n.Component),dt=a(530),ht=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).refreshChartData=s.refreshChartData.bind(Object(Ie.a)(s)),s.state={userId:void 0,openTicketCount:0,closedTicketCount:0,overdueTicketCount:0},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.state.userId=sessionStorage.getItem("userId"),this.getPieChartDetails()}},{key:"getPieChartDetails",value:function(){var e=this,t={userId:this.state.userId};Te.getPieChartDetailsForLoggedInUser(t).then((function(t){e.setState({openTicketCount:t.data.openTicketCount}),e.setState({closedTicketCount:t.data.closedTicketCount}),e.setState({overdueTicketCount:t.data.overdueTicketCount})}))}},{key:"refreshChartData",value:function(){this.getPieChartDetails()}},{key:"render",value:function(){return Object(s.jsxs)(n.Fragment,{children:[Object(s.jsxs)("label",{style:{cursor:"pointer"},children:["Refresh Data ",Object(s.jsx)("i",{class:"fa fa-refresh","aria-hidden":"true",onClick:this.refreshChartData.bind()})]}),Object(s.jsx)("div",{style:{maxWidth:"50%",height:"auto",margin:"auto"},children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:12,md:8,lg:8,children:Object(s.jsx)(dt.PieChart,{labelStyle:{fontSize:"5px",fontFamily:"sans-serif"},label:function(e){var t=e.dataEntry;return"".concat(Math.round(t.percentage)," %")},animate:"true",data:[{title:"Opened",value:this.state.openTicketCount,color:"#0b5fa3"},{title:"Closed",value:this.state.closedTicketCount,color:"#f48120"},{title:"Overdue",value:this.state.overdueTicketCount,color:"#78c66c"}]})}),Object(s.jsx)(ze.a,{xs:12,md:4,lg:4,children:Object(s.jsxs)("div",{className:"shadow p-3 mb-5 bg-white rounded",style:{marginLeft:"400px",minWidth:"200px",alignItems:"self-end"},children:[Object(s.jsx)("h5",{children:"LEGEND"}),Object(s.jsx)("hr",{}),Object(s.jsxs)("label",{style:{display:"flex"},children:[Object(s.jsx)("span",{style:{backgroundColor:"#0b5fa3",height:"30px",width:"30px",display:"flex",borderRadius:"7px"}}),"\xa0\xa0Opened (",this.state.openTicketCount,")"]}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{style:{display:"flex"},children:[Object(s.jsx)("span",{style:{backgroundColor:"#f48120",height:"30px",width:"30px",display:"flex",borderRadius:"7px"}}),"\xa0\xa0Closed (",this.state.closedTicketCount,")"]}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{style:{display:"flex"},children:[Object(s.jsx)("span",{style:{backgroundColor:"#78c66c",height:"30px",width:"30px",display:"flex",borderRadius:"7px"}}),"\xa0\xa0Overdue (",this.state.overdueTicketCount,")"]}),Object(s.jsx)("br",{})]})})]})})]})}}]),a}(n.Component),ut=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).tableRef=i.a.createRef(),n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.onChangeFilteringTicketStatus=n.onChangeFilteringTicketStatus.bind(Object(Ie.a)(n)),n.remoteData=n.remoteData.bind(Object(Ie.a)(n)),n.filterTickets=n.filterTickets.bind(Object(Ie.a)(n)),n.handleDateRangeChange=n.handleDateRangeChange.bind(Object(Ie.a)(n)),n.onApplyDateRange=n.onApplyDateRange.bind(Object(Ie.a)(n)),n.exportData=n.exportData.bind(Object(Ie.a)(n)),n.saveFilterSetting=n.saveFilterSetting.bind(Object(Ie.a)(n)),n.clearFilterSetting=n.clearFilterSetting.bind(Object(Ie.a)(n)),n.savePageLocation=n.savePageLocation.bind(Object(Ie.a)(n)),n.state={filteringTicketStatusOptions:[],tableTitle:"All",start:Ke()().subtract(29,"days"),end:Ke()(),locale:{format:"DD/MM/YYYY"},renderData:!1,userFilterSettings:[],defaultTicketStatus:[],userId:"",hideButtons:!1},n.columns=[{title:"Ticket Number",field:"ticketId",render:function(e){return Object(s.jsx)(m.b,{to:"/viewTicket/id:".concat(e.ticketId),onClick:n.savePageLocation,children:e.ticketId})}},{title:"Created Date",field:"createdAt"},{title:"Branch",field:"branch"},{title:"Subject",field:"subject"},{title:"Department",field:"departmentName"},{title:"Assignee",field:"assigneeName"},{title:"Ticket Status",field:"status"},{title:"Initial Due Date",field:"level1DueDate"},{title:"Sch/Col",field:"schCol"},{title:"From",field:"from"},{title:"Mobile",field:"mobile"},{title:"Closed Date",field:"closedDate"},{title:"Closed By",field:"closedBy"},{title:"Current Ticket Assignee",field:"assigneeEmail"},{title:"Current Level",field:"escalatedLevel"}],n.filterTicketStatus=[],n.state.userId=sessionStorage.getItem("userId"),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getFilteringTicketStatus(),this.getUserFilterSettings()}},{key:"savePageLocation",value:function(){sessionStorage.setItem("previousPageLocation","/escalatedTicket")}},{key:"getFilteringTicketStatus",value:function(){this.setState({filteringTicketStatusOptions:[{value:1,label:"All"},{value:2,label:"Open"},{value:3,label:"Awaiting for user response"},{value:4,label:"Assigned to an engineer"},{value:5,label:"Indent at Branch approval"},{value:6,label:"Indent at DM approval"},{value:7,label:"Indent at CO approval"},{value:8,label:"Branch dependent"},{value:9,label:"Warehouse dependent"},{value:10,label:"Vendor dependent"},{value:11,label:"Work in progress"},{value:12,label:"Escalated to Next level"},{value:13,label:"Resolved"},{value:14,label:"Closed"},{value:15,label:"Re-Open"}]})}},{key:"onChangeFilteringTicketStatus",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,d,h,u,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.filterTicketStatus=[],null===t||0===t.length)this.filterTicketStatus=[],this.createUserSettingsArray(le,null);else{a=Object(Ae.a)(t);try{for(a.s();!(s=a.n()).done;)n=s.value,this.filterTicketStatus.push(n.label)}catch(c){a.e(c)}finally{a.f()}i=[],l=Object(Ae.a)(this.state.defaultTicketStatus);try{for(l.s();!(r=l.n()).done;)o=r.value,i.push(o.label)}catch(c){l.e(c)}finally{l.f()}if(this.filterTicketStatus.includes("All")&&!i.includes("All"))this.setState({defaultTicketStatus:this.state.filteringTicketStatusOptions}),this.createUserSettingsArray(le,this.state.filteringTicketStatusOptions);else if(!this.filterTicketStatus.includes("All")&&i.includes("All"))this.setState({defaultTicketStatus:[]}),this.createUserSettingsArray(le,[]);else if(this.filterTicketStatus.includes("All")&&this.filterTicketStatus.length<=14&&i.includes("All")&&i.length<=15){d=[],h=Object(Ae.a)(t);try{for(h.s();!(u=h.n()).done;)"All"==(b=u.value).label||d.push(b)}catch(c){h.e(c)}finally{h.f()}this.setState({defaultTicketStatus:d}),this.createUserSettingsArray(le,d)}else this.filterTicketStatus.includes("All")||13!=i.length||14!=this.filterTicketStatus.length?!this.filterTicketStatus.includes("Open")||this.filterTicketStatus.includes("Resolved","Closed")||i.includes("Open")?(this.setState({defaultTicketStatus:t}),this.createUserSettingsArray(le,t)):((p=[]).push({value:2,label:"Open"},{value:3,label:"Awaiting for user response"},{value:4,label:"Assigned to an engineer"},{value:5,label:"Indent at Branch approval"},{value:6,label:"Indent at DM approval"},{value:7,label:"Indent at CO approval"},{value:8,label:"Branch dependent"},{value:9,label:"Warehouse dependent"},{value:10,label:"Vendor dependent"},{value:11,label:"Work in progress"},{value:12,label:"Escalated to Next level"},{value:15,label:"Re-Open"}),this.setState({defaultTicketStatus:p}),this.createUserSettingsArray(le,p)):(this.setState({defaultTicketStatus:this.state.filteringTicketStatusOptions}),this.createUserSettingsArray(le,this.state.filteringTicketStatusOptions))}case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterTickets",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({tableTitle:"Escalated Tickets"}),console.log(this.tableRef.current.state.query),this.tableRef.current.state.query.page=0,this.tableRef.current.state.query.pageSize=20,this.tableRef.current&&this.tableRef.current.onQueryChange();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n,i,l,r,o,h,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=this.filterTicketStatus,r=t.orderDirection,o=void 0,t.orderBy&&(o=t.orderBy.field),(h=new Date(this.state.start)).setHours(0,0,0,0),h=h.toISOString(),(u=new Date(this.state.end)).setHours(23,59,59,999),u=u.toISOString(),e.next=12,Te.getEscalatedTickets(t.pageSize,t.page,t.search,sessionStorage.getItem("email"),l,h,u,r,o).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,l,r,o,d,h,u,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,[],l=Object(Ae.a)(a.tickets);try{for(l.s();!(r=l.n()).done;)for(o=r.value,d=0,h=Object.entries(o.ticket.dynamicFormJson);d<h.length;d++)u=h[d],"_","",u[0].toString().toLowerCase().split("_").join("").includes("issuesummary")&&(console.log(u[1]),o.subject=u[1])}catch(c){l.e(c)}finally{l.f()}b=Object(Ae.a)(a.tickets);try{for(b.s();!(p=b.n()).done;)(o=p.value).escalatedLevel=o.escalatedLevel.toUpperCase(),o.from=o.ticket.fullName,o.departmentName=o.ticket.department.departmentName,o.branch=o.ticket.branch,o.schCol=o.ticket.schCol,o.createdAt=Ke()(o.ticket.initialCreatedDate).format("DD/MM/YYYY hh:mm A"),o.assigneeName=o.ticket.assigneeFullName,o.mobile=o.ticket.user.mobile,o.closedBy=o.ticket.closedBy,o.ticket.closedDate&&(o.closedDate=Ke()(o.ticket.closedDate).format("DD/MM/YYYY hh:mm A")),o.status=o.ticket.ticketStatus,null!==o.ticket.level1SlaDue&&(o.level1DueDate=Ke()(o.ticket.level1SlaDue).format("DD/MM/YYYY hh:mm A"))}catch(c){b.e(c)}finally{b.f()}s=a.tickets,n=a.currentPage,i=a.totalItems;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:return e.abrupt("return",Promise.resolve({data:s,page:n,totalCount:i}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleDateRangeChange",value:function(e,t){this.createUserSettingsArray(re,t),this.setState({start:t.startDate}),this.setState({end:t.endDate})}},{key:"onApplyDateRange",value:function(e,t){var a=Math.abs(t.endDate-t.startDate);Math.ceil(a/864e5)>180?(this.setState({hideButtons:!0}),this.showWarningToast(Oe)):this.setState({hideButtons:!1})}},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.filterTicketStatus,a=sessionStorage.getItem("email"),(s=new Date(this.state.start)).setHours(0,0,0,0),s=s.toISOString(),(n=new Date(this.state.end)).setHours(23,59,59,999),n=n.toISOString(),this.state.exportDataDownloadLink=xe+"/api/dataExport/downloadEscalatedTickets/?ticketStatus=".concat(t,"&startDate=").concat(s,"&endDate=").concat(n,"&loggedInUserEmail=").concat(a),window.location.href=this.state.exportDataDownloadLink;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveFilterSetting",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.saveFilterSettings(this.state.userFilterSettings).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearFilterSetting",value:function(){var e=this,t={settingType:te,userId:this.state.userId};Te.clearUserSettings(t).then((function(t){e.showSuccessToast(fe),window.location.reload()}))}},{key:"createUserSettingsArray",value:function(e,t){switch(e){case le:if(null===t){var a={userId:this.state.userId,settingType:te,settingValue:null,settingName:e};this.state.userFilterSettings.push(a),this.saveFilterSetting()}else{var s,n=[],i=Object(Ae.a)(t);try{for(i.s();!(s=i.n()).done;){var l=s.value,r={value:l.value,label:l.label};n.push(r)}}catch(d){i.e(d)}finally{i.f()}var o={userId:this.state.userId,settingType:te,settingValue:n,settingName:e};this.state.userFilterSettings.push(o),this.saveFilterSetting()}break;case re:var c={userId:this.state.userId,settingType:te,settingValue:{startDate:t.startDate,endDate:t.endDate},settingName:e};this.state.userFilterSettings.push(c),this.saveFilterSetting()}}},{key:"getUserFilterSettings",value:function(){var e=this,t={settingType:te,userId:this.state.userId};Te.getUserSettingsByType(t).then((function(t){if(t.data.data){e.setState({userFilterSettings:t.data.data});var a,s=Object(Ae.a)(t.data.data);try{for(s.s();!(a=s.n()).done;){var n=a.value;switch(n.settingName){case le:e.setState({defaultTicketStatus:n.settingValue});var i,l=Object(Ae.a)(n.settingValue);try{for(l.s();!(i=l.n()).done;){var r=i.value;e.filterTicketStatus.push(r.label)}}catch(o){l.e(o)}finally{l.f()}break;case re:e.setState({start:Ke()(n.settingValue.startDate)}),e.setState({end:Ke()(n.settingValue.endDate)})}}}catch(o){s.e(o)}finally{s.f()}}e.setState({renderData:!0}),e.filterTickets()}))}},{key:"render",value:function(){var e=this;return this.state.renderData?Object(s.jsxs)("div",{id:"test",children:[Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"Escalated Tickets List"})}),Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{style:{marginBottom:"10px"},children:[Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select Status"}),Object(s.jsx)(Xe.a,{onChange:function(t){e.onChangeFilteringTicketStatus(t)},placeholderButtonLabel:"Select Status",width:"400px",value:this.state.defaultTicketStatus,options:this.state.filteringTicketStatusOptions})]}),Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Ticket Created Date Range"}),Object(s.jsx)("br",{}),Object(s.jsx)(Qe.a,{onEvent:this.handleDateRangeChange.bind(),onApply:this.onApplyDateRange.bind(),initialSettings:{locale:this.state.locale,startDate:this.state.start.toDate(),endDate:this.state.end.toDate(),ranges:{Today:[Ke()().toDate(),Ke()().toDate()],Yesterday:[Ke()().subtract(1,"days").toDate(),Ke()().subtract(1,"days").toDate()],"Last 7 Days":[Ke()().subtract(6,"days").toDate(),Ke()().toDate()],"Last 30 Days":[Ke()().subtract(29,"days").toDate(),Ke()().toDate()],"This Month":[Ke()().startOf("month").toDate(),Ke()().endOf("month").toDate()],"Last Month":[Ke()().subtract(1,"month").startOf("month").toDate(),Ke()().subtract(1,"month").endOf("month").toDate()],"Last 3 Months":[Ke()().subtract(3,"month").startOf("month").toDate(),Ke()().toDate()]}},children:Object(s.jsx)("input",{type:"text",className:"form-control"})})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Change Status"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{disabled:this.state.hideButtons,style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.filterTickets,children:"Filter Tickets"})]}),Object(s.jsxs)(ze.a,{xs:12,md:1,lg:1,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Export"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{disabled:this.state.hideButtons,style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export"})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Clear Filter"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.clearFilterSetting,children:"Clear Filter"})]})]})}),Object(s.jsx)(We.a,{title:this.state.tableTitle,columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1}})]}):Object(s.jsx)("div",{})}}]),a}(n.Component),bt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).tableRef=i.a.createRef(),n.showErrorToast=function(){Me.b.error("Some error occurred while saving!",{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.onChangeFilteringTicketStatus=n.onChangeFilteringTicketStatus.bind(Object(Ie.a)(n)),n.handleDateRangeChange=n.handleDateRangeChange.bind(Object(Ie.a)(n)),n.onApplyDateRange=n.onApplyDateRange.bind(Object(Ie.a)(n)),n.remoteData=n.remoteData.bind(Object(Ie.a)(n)),n.filterTickets=n.filterTickets.bind(Object(Ie.a)(n)),n.exportData=n.exportData.bind(Object(Ie.a)(n)),n.saveFilterSetting=n.saveFilterSetting.bind(Object(Ie.a)(n)),n.clearFilterSetting=n.clearFilterSetting.bind(Object(Ie.a)(n)),n.savePageLocation=n.savePageLocation.bind(Object(Ie.a)(n)),n.state={filteringTicketStatusOptions:[],tableTitle:"All",start:Ke()().subtract(29,"days"),end:Ke()(),locale:{format:"DD/MM/YYYY"},userFilterSettings:[],defaultTicketStatus:[],renderData:!1,userId:"",hideButtons:!1},n.columns=[{title:"Ticket Number",field:"id",render:function(e){return Object(s.jsx)(m.b,{to:"/viewTransferTicket/id:".concat(e.id),onClick:n.savePageLocation,children:e.id})}},{title:"Created Date",field:"initialCreatedDate"},{title:"Branch",field:"branch"},{title:"Subject",field:"subject"},{title:"Department",field:"departmentName"},{title:"Assignee",field:"assigneeFullName"},{title:"Ticket Status",field:"ticketStatus"},{title:"Initial Due Date",field:"level1DueDate"},{title:"Sch/Col",field:"schCol"},{title:"From",field:"fullName"},{title:"Mobile",field:"mobile"},{title:"Closed Date",field:"closedDate"},{title:"Closed By",field:"closedBy"}],n.filterTicketStatus=[],n.state.userId=sessionStorage.getItem("userId"),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getFilteringTicketStatus(),this.getUserFilterSettings()}},{key:"savePageLocation",value:function(){sessionStorage.setItem("previousPageLocation","/transferRequest")}},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n,i,l,r,o,h,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=this.filterTicketStatus,r=t.orderDirection,o=void 0,t.orderBy&&(o=t.orderBy.field),(h=new Date(this.state.start)).setHours(0,0,0,0),h=h.toISOString(),(u=new Date(this.state.end)).setHours(23,59,59,999),u=u.toISOString(),e.next=12,Te.getTransferTickets(t.pageSize,t.page,t.search,l,h,u,r,o).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,l,r,o,d,h,u,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,l=Object(Ae.a)(a.tickets);try{for(l.s();!(r=l.n()).done;)(o=r.value).createdAt=Ke()(o.createdAt).format("DD/MM/YYYY hh:mm A"),o.initialCreatedDate=Ke()(o.initialCreatedDate).format("DD/MM/YYYY hh:mm A"),o.departmentName=o.department.departmentName,o.mobile=o.user.mobile,o.closedBy=o.closedBy,null!==o.level1DueDate&&(o.level1DueDate=Ke()(o.level1SlaDue).format("DD/MM/YYYY hh:mm A")),null!==o.closedDate&&(o.closedDate=Ke()(o.closedDate).format("DD/MM/YYYY hh:mm A"))}catch(c){l.e(c)}finally{l.f()}d=Object(Ae.a)(a.tickets);try{for(d.s();!(h=d.n()).done;)for(o=h.value,u=0,b=Object.entries(o.dynamicFormJson);u<b.length;u++)p=b[u],"_","",p[0].toString().toLowerCase().split("_").join("").includes("issuesummary")&&(o.subject=p[1])}catch(c){d.e(c)}finally{d.f()}s=a.tickets,n=a.currentPage,i=a.totalItems;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:return e.abrupt("return",Promise.resolve({data:s,page:n,totalCount:i}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.filterTicketStatus,a=sessionStorage.getItem("email"),(s=new Date(this.state.start)).setHours(0,0,0,0),s=s.toISOString(),(n=new Date(this.state.end)).setHours(23,59,59,999),n=n.toISOString(),this.state.exportDataDownloadLink=xe+"/api/dataExport/downloadTransferTickets/?ticketStatus=".concat(t,"&startDate=").concat(s,"&endDate=").concat(n,"&loggedInUserEmail=").concat(a),window.location.href=this.state.exportDataDownloadLink;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeFilteringTicketStatus",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,d,h,u,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.filterTicketStatus=[],null===t||0===t.length)this.filterTicketStatus=[],this.createUserSettingsArray(le,null);else{a=Object(Ae.a)(t);try{for(a.s();!(s=a.n()).done;)n=s.value,this.filterTicketStatus.push(n.label)}catch(c){a.e(c)}finally{a.f()}i=[],l=Object(Ae.a)(this.state.defaultTicketStatus);try{for(l.s();!(r=l.n()).done;)o=r.value,i.push(o.label)}catch(c){l.e(c)}finally{l.f()}if(this.filterTicketStatus.includes("All")&&!i.includes("All"))this.setState({defaultTicketStatus:this.state.filteringTicketStatusOptions}),this.createUserSettingsArray(le,this.state.filteringTicketStatusOptions);else if(!this.filterTicketStatus.includes("All")&&i.includes("All"))this.setState({defaultTicketStatus:[]}),this.createUserSettingsArray(le,[]);else if(this.filterTicketStatus.includes("All")&&this.filterTicketStatus.length<=14&&i.includes("All")&&i.length<=15){d=[],h=Object(Ae.a)(t);try{for(h.s();!(u=h.n()).done;)"All"==(b=u.value).label||d.push(b)}catch(c){h.e(c)}finally{h.f()}this.setState({defaultTicketStatus:d}),this.createUserSettingsArray(le,d)}else this.filterTicketStatus.includes("All")||13!=i.length||14!=this.filterTicketStatus.length?!this.filterTicketStatus.includes("Open")||this.filterTicketStatus.includes("Resolved","Closed")||i.includes("Open")?(this.setState({defaultTicketStatus:t}),this.createUserSettingsArray(le,t)):((p=[]).push({value:2,label:"Open"},{value:3,label:"Awaiting for user response"},{value:4,label:"Assigned to an engineer"},{value:5,label:"Indent at Branch approval"},{value:6,label:"Indent at DM approval"},{value:7,label:"Indent at CO approval"},{value:8,label:"Branch dependent"},{value:9,label:"Warehouse dependent"},{value:10,label:"Vendor dependent"},{value:11,label:"Work in progress"},{value:12,label:"Escalated to Next level"},{value:15,label:"Re-Open"}),this.setState({defaultTicketStatus:p}),this.createUserSettingsArray(le,p)):(this.setState({defaultTicketStatus:this.state.filteringTicketStatusOptions}),this.createUserSettingsArray(le,this.state.filteringTicketStatusOptions))}case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDateRangeChange",value:function(e,t){this.createUserSettingsArray(re,t),this.setState({start:t.startDate}),this.setState({end:t.endDate})}},{key:"onApplyDateRange",value:function(e,t){var a=Math.abs(t.endDate-t.startDate);Math.ceil(a/864e5)>180?(this.setState({hideButtons:!0}),this.showWarningToast(Oe)):this.setState({hideButtons:!1})}},{key:"getFilteringTicketStatus",value:function(){this.setState({filteringTicketStatusOptions:[{value:1,label:"All"},{value:2,label:"Open"},{value:3,label:"Awaiting for user response"},{value:4,label:"Assigned to an engineer"},{value:5,label:"Indent at Branch approval"},{value:6,label:"Indent at DM approval"},{value:7,label:"Indent at CO approval"},{value:8,label:"Branch dependent"},{value:9,label:"Warehouse dependent"},{value:10,label:"Vendor dependent"},{value:11,label:"Work in progress"},{value:12,label:"Escalated to Next level"},{value:13,label:"Resolved"},{value:14,label:"Closed"},{value:15,label:"Re-Open"}]})}},{key:"filterTickets",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({tableTitle:"Tickets"}),console.log(this.tableRef.current.state.query),this.tableRef.current.state.query.page=0,this.tableRef.current.state.query.pageSize=20,this.tableRef.current&&this.tableRef.current.onQueryChange();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveFilterSetting",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.saveFilterSettings(this.state.userFilterSettings).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearFilterSetting",value:function(){var e=this,t={settingType:ae,userId:this.state.userId};Te.clearUserSettings(t).then((function(t){e.showSuccessToast(fe),window.location.reload()}))}},{key:"createUserSettingsArray",value:function(e,t){switch(e){case le:if(null===t){var a={userId:this.state.userId,settingType:ae,settingValue:null,settingName:e};this.state.userFilterSettings.push(a),this.saveFilterSetting()}else{var s,n=[],i=Object(Ae.a)(t);try{for(i.s();!(s=i.n()).done;){var l=s.value,r={value:l.value,label:l.label};n.push(r)}}catch(d){i.e(d)}finally{i.f()}var o={userId:this.state.userId,settingType:ae,settingValue:n,settingName:e};this.state.userFilterSettings.push(o),this.saveFilterSetting()}break;case re:var c={userId:this.state.userId,settingType:ae,settingValue:{startDate:t.startDate,endDate:t.endDate},settingName:e};this.state.userFilterSettings.push(c),this.saveFilterSetting()}}},{key:"getUserFilterSettings",value:function(){var e=this,t={settingType:ae,userId:this.state.userId};Te.getUserSettingsByType(t).then((function(t){if(t.data.data){e.setState({userFilterSettings:t.data.data});var a,s=Object(Ae.a)(t.data.data);try{for(s.s();!(a=s.n()).done;){var n=a.value;switch(n.settingName){case le:e.setState({defaultTicketStatus:n.settingValue});var i,l=Object(Ae.a)(n.settingValue);try{for(l.s();!(i=l.n()).done;){var r=i.value;e.filterTicketStatus.push(r.label)}}catch(o){l.e(o)}finally{l.f()}break;case re:e.setState({start:Ke()(n.settingValue.startDate)}),e.setState({end:Ke()(n.settingValue.endDate)})}}}catch(o){s.e(o)}finally{s.f()}}e.setState({renderData:!0}),e.filterTickets()}))}},{key:"render",value:function(){var e=this;return this.state.renderData?Object(s.jsxs)("div",{id:"test",children:[Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"Transfer Request"})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{xs:12,md:3,lg:3,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select Status"}),Object(s.jsx)(Xe.a,{onChange:function(t){e.onChangeFilteringTicketStatus(t)},value:this.state.defaultTicketStatus,placeholderButtonLabel:"Select Status",width:"400px",options:this.state.filteringTicketStatusOptions})]}),Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Created Date Range"}),Object(s.jsx)("br",{}),Object(s.jsx)(Qe.a,{onEvent:this.handleDateRangeChange.bind(),onApply:this.onApplyDateRange.bind(),initialSettings:{locale:this.state.locale,startDate:this.state.start.toDate(),endDate:this.state.end.toDate(),ranges:{Today:[Ke()().toDate(),Ke()().toDate()],Yesterday:[Ke()().subtract(1,"days").toDate(),Ke()().subtract(1,"days").toDate()],"Last 7 Days":[Ke()().subtract(6,"days").toDate(),Ke()().toDate()],"Last 30 Days":[Ke()().subtract(29,"days").toDate(),Ke()().toDate()],"This Month":[Ke()().startOf("month").toDate(),Ke()().endOf("month").toDate()],"Last Month":[Ke()().subtract(1,"month").startOf("month").toDate(),Ke()().subtract(1,"month").endOf("month").toDate()],"Last 3 Months":[Ke()().subtract(3,"month").startOf("month").toDate(),Ke()().toDate()]}},children:Object(s.jsx)("input",{type:"text",className:"form-control"})})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Change Status"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{disabled:this.state.hideButtons,style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.filterTickets,children:"Filter Tickets"})]}),Object(s.jsxs)(ze.a,{xs:12,md:1,lg:1,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Export"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{disabled:this.state.hideButtons,style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export"})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Clear Filter"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.clearFilterSetting,children:"Clear Filter"})]})]}),Object(s.jsx)(We.a,{title:this.state.tableTitle,columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{exportButton:!1,showSelectAllCheckbox:!0,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!0,maxBodyHeight:"450px",padding:"dense",pageSize:20,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},onSelectionChange:function(t){e.onTicketSelectionChange(t)}})]})]}):Object(s.jsx)("div",{})}}]),a}(n.Component),pt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s,n;Object(h.a)(this,a),(n=t.call(this,e)).fetchData=function(e,t){e?setTimeout((function(){fetch(xe+"/api/user/findByParam/?email=".concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=[];e.forEach((function(e){a.push({label:"".concat(e.email),name:"".concat(e.fullName),value:e.id})})),t(a)})).catch((function(e){console.log(e,"catch the hoop")}))})):t([])},n.onSearchChange=function(e){n.setState({selectedOption:e})},n.showErrorToast=function(){Me.b.error("Some error occurred while saving!",{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.postReply=n.postReply.bind(Object(Ie.a)(n)),n.removeSelectedFile=n.removeSelectedFile.bind(Object(Ie.a)(n)),n.selectFiles=n.selectFiles.bind(Object(Ie.a)(n)),n.downloadFile=n.downloadFile.bind(Object(Ie.a)(n)),n.onChangeDepartment=n.onChangeDepartment.bind(Object(Ie.a)(n)),n.onChangeHelpTopic=n.onChangeHelpTopic.bind(Object(Ie.a)(n)),n.onChangeDynamicText=n.onChangeDynamicText.bind(Object(Ie.a)(n)),n.onChangeDynamicDropdownValues=n.onChangeDynamicDropdownValues.bind(Object(Ie.a)(n)),n.onChangeBooleanValue=n.onChangeBooleanValue.bind(Object(Ie.a)(n)),n.onChangeDynamicMobileNo=n.onChangeDynamicMobileNo.bind(Object(Ie.a)(n)),n.onChangeDynamicPhoneNo=n.onChangeDynamicPhoneNo.bind(Object(Ie.a)(n)),n.onChangeDynamicDate=n.onChangeDynamicDate.bind(Object(Ie.a)(n)),n.removeSelectedTicketFile=n.removeSelectedTicketFile.bind(Object(Ie.a)(n)),n.selectTicketFiles=n.selectTicketFiles.bind(Object(Ie.a)(n)),n.updateTicket=n.updateTicket.bind(Object(Ie.a)(n)),n.onChangeCannedResponse=n.onChangeCannedResponse.bind(Object(Ie.a)(n)),n.onChangepostInternalNote=n.onChangepostInternalNote.bind(Object(Ie.a)(n)),n.onChangeTicketStatus=n.onChangeTicketStatus.bind(Object(Ie.a)(n)),n.onChangeTransferAssignee=n.onChangeTransferAssignee.bind(Object(Ie.a)(n)),n.toggleClass=n.toggleClass.bind(Object(Ie.a)(n)),n.mandatoryDynamicFields=[],n.viewTicketDetailsJson={},n.previousTicketSummary="",n.previousTicketSummaryModified=!1,n.previousDetails="",n.previousTicketDetailsModified=!1,n.state=(s={ticketId:0,ticketSubject:"",ticketPriorityLevel:"",selectedOption:null,responseMessage:"",ticketData:{ticketsource:{},department:{},helptopic:{},dynamicFormJson:{},user:{}},isAgent:null,cannedOptions:[],userId:"",ticketReplies:[],dynamicFields:[],branch:"",arrayOfSelectedId:[],ticketStatus:"",selectedFiles:[],displayFileName:!1,selectedTicketFiles:[],displayTicketFileName:!1,showTransferPopup:!1,showDepartmentSelectionPopup:!1,departmentOptions:[],isTicketWronglyAssignedFlow:null,transferMessage:""},Object(st.a)(s,"departmentOptions",[]),Object(st.a)(s,"helpTopicOptions",[]),Object(st.a)(s,"openDepartmentIdOfTicketUser",null),Object(st.a)(s,"officeType",""),Object(st.a)(s,"assigneeFullName",""),Object(st.a)(s,"customFieldsFormNameArray",[]),Object(st.a)(s,"customFieldsFormFieldsArray",[]),Object(st.a)(s,"dynamicFormFieldsData",[]),Object(st.a)(s,"customFieldsTextFields",{}),Object(st.a)(s,"customFieldsSelectAllValues",{}),Object(st.a)(s,"customFieldsTextCount",0),Object(st.a)(s,"optionsArrayTicketCategoryForm",[]),Object(st.a)(s,"optionsArrayTicketDetailsForm",[]),Object(st.a)(s,"formName",""),Object(st.a)(s,"fields",[]),Object(st.a)(s,"postInternalNotes",!1),Object(st.a)(s,"disablePostReplyButtonOnClick",!1),Object(st.a)(s,"active",!1),Object(st.a)(s,"dataPath",void 0),s);var i=window.location.href.split("/id:");return n.state.ticketId=i[1],n.state.userId=sessionStorage.getItem("userId"),n.selectedTransferAssignee=void 0,n}return Object(u.a)(a,[{key:"getTicketDetailsByTicketId",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={id:this.state.ticketId},Te.getTicketDetailsByTicketId(t).then((function(e){if(a.setState({ticketData:e.data}),a.setState({branch:e.data.branch}),a.setState({openDepartmentIdOfTicketUser:e.data.openDepartmentIdOfUser}),a.setState({officeType:e.data.schCol}),a.getAssigneeOptions(),console.log("Response"+JSON.stringify(e.data)),null!==e.data.dynamicFormField1){var t=e.data.dynamicFormField1,s=t.substring(0,t.indexOf(",")),n=t.substring(t.indexOf(",")+1,t.length);a.viewTicketDetailsJson[s]=n,a.checkPreviousIssueSummaryDetails(s,n)}if(null!==e.data.dynamicFormField2){var i=e.data.dynamicFormField2,l=i.substring(0,i.indexOf(",")),r=i.substring(i.indexOf(",")+1,i.length);a.viewTicketDetailsJson[l]=r,a.checkPreviousIssueSummaryDetails(l,r)}if(null!==e.data.dynamicFormField3){var o=e.data.dynamicFormField3,c=o.substring(0,o.indexOf(",")),d=o.substring(o.indexOf(",")+1,o.length);a.viewTicketDetailsJson[c]=d,a.checkPreviousIssueSummaryDetails(c,d)}if(null!==e.data.dynamicFormField4){var h=e.data.dynamicFormField4,u=h.substring(0,h.indexOf(",")),b=h.substring(h.indexOf(",")+1,h.length);a.viewTicketDetailsJson[u]=b,a.checkPreviousIssueSummaryDetails(u,b)}if(null!==e.data.dynamicFormField5){var p=e.data.dynamicFormField5,m=p.substring(0,p.indexOf(",")),g=p.substring(p.indexOf(",")+1,p.length);a.viewTicketDetailsJson[m]=g,a.checkPreviousIssueSummaryDetails(m,g)}if(null!==e.data.dynamicFormField6){var j=e.data.dynamicFormField6,f=j.substring(0,j.indexOf(",")),O=j.substring(j.indexOf(",")+1,j.length);a.viewTicketDetailsJson[f]=O,a.checkPreviousIssueSummaryDetails(f,O)}if(null!==e.data.dynamicFormField7){var v=e.data.dynamicFormField7,x=v.substring(0,v.indexOf(",")),y=v.substring(v.indexOf(",")+1,v.length);a.viewTicketDetailsJson[x]=y,a.checkPreviousIssueSummaryDetails(x,y)}if(null!==e.data.dynamicFormField8){var S=e.data.dynamicFormField8,T=S.substring(0,S.indexOf(",")),k=S.substring(S.indexOf(",")+1,S.length);a.viewTicketDetailsJson[T]=k,a.checkPreviousIssueSummaryDetails(T,k)}if(null!==e.data.dynamicFormField9){var D=e.data.dynamicFormField9,w=D.substring(0,D.indexOf(",")),C=D.substring(D.indexOf(",")+1,D.length);a.viewTicketDetailsJson[w]=C,a.checkPreviousIssueSummaryDetails(w,C)}if(null!==e.data.dynamicFormField10){var A=e.data.dynamicFormField10,I=A.substring(0,A.indexOf(",")),F=A.substring(A.indexOf(",")+1,A.length);a.viewTicketDetailsJson[I]=F,a.checkPreviousIssueSummaryDetails(I,F)}if(null!==e.data.dynamicFormField11){var N=e.data.dynamicFormField11,P=N.substring(0,N.indexOf(",")),L=N.substring(N.indexOf(",")+1,N.length);a.viewTicketDetailsJson[P]=L,a.checkPreviousIssueSummaryDetails(P,L)}if(null!==e.data.dynamicFormField12){var R=e.data.dynamicFormField12,E=R.substring(0,R.indexOf(",")),B=R.substring(R.indexOf(",")+1,R.length);a.viewTicketDetailsJson[E]=B,a.checkPreviousIssueSummaryDetails(E,B)}if(null!==e.data.dynamicFormField13){var M=e.data.dynamicFormField13,U=M.substring(0,M.indexOf(",")),V=M.substring(M.indexOf(",")+1,M.length);a.viewTicketDetailsJson[U]=V,a.checkPreviousIssueSummaryDetails(U,V)}if(null!==e.data.dynamicFormField14){var _=e.data.dynamicFormField14,H=_.substring(0,_.indexOf(",")),G=_.substring(_.indexOf(",")+1,_.length);a.viewTicketDetailsJson[H]=G,a.checkPreviousIssueSummaryDetails(H,G)}if(null!==e.data.dynamicFormField15){var W=e.data.dynamicFormField15,Y=W.substring(0,W.indexOf(",")),z=W.substring(W.indexOf(",")+1,W.length);a.viewTicketDetailsJson[Y]=z,a.checkPreviousIssueSummaryDetails(Y,z)}if(null!==e.data.dynamicFormField16){var J=e.data.dynamicFormField16,q=J.substring(0,J.indexOf(",")),K=J.substring(J.indexOf(",")+1,J.length);a.viewTicketDetailsJson[q]=K,a.checkPreviousIssueSummaryDetails(q,K)}if(null!==e.data.dynamicFormField17){var Q=e.data.dynamicFormField17,Z=Q.substring(0,Q.indexOf(",")),X=Q.substring(Q.indexOf(",")+1,Q.length);a.viewTicketDetailsJson[Z]=X,a.checkPreviousIssueSummaryDetails(Z,X)}if(null!==e.data.dynamicFormField18){var $=e.data.dynamicFormField18,ee=$.substring(0,$.indexOf(",")),te=$.substring($.indexOf(",")+1,$.length);a.viewTicketDetailsJson[ee]=te,a.checkPreviousIssueSummaryDetails(ee,te)}if(null!==e.data.dynamicFormField19){var ae=e.data.dynamicFormField19,se=ae.substring(0,ae.indexOf(",")),ne=ae.substring(ae.indexOf(",")+1,ae.length);a.viewTicketDetailsJson[se]=ne,a.checkPreviousIssueSummaryDetails(se,ne)}if(null!==e.data.dynamicFormField20){var ie=e.data.dynamicFormField20,le=ie.substring(0,ie.indexOf(",")),re=ie.substring(ie.indexOf(",")+1,ie.length);a.viewTicketDetailsJson[le]=re,a.checkPreviousIssueSummaryDetails(le,re)}if(null!==e.data.dynamicFormField21){var oe=e.data.dynamicFormField21,ce=oe.substring(0,oe.indexOf(",")),de=oe.substring(oe.indexOf(",")+1,oe.length);a.viewTicketDetailsJson[ce]=de,a.checkPreviousIssueSummaryDetails(ce,de)}if(null!==e.data.dynamicFormField22){var he=e.data.dynamicFormField22,ue=he.substring(0,he.indexOf(",")),be=he.substring(he.indexOf(",")+1,he.length);a.viewTicketDetailsJson[ue]=be,a.checkPreviousIssueSummaryDetails(ue,be)}if(null!==e.data.dynamicFormField23){var pe=e.data.dynamicFormField23,me=pe.substring(0,pe.indexOf(",")),ge=pe.substring(pe.indexOf(",")+1,pe.length);a.viewTicketDetailsJson[me]=ge,a.checkPreviousIssueSummaryDetails(me,ge)}if(null!==e.data.dynamicFormField24){var je=e.data.dynamicFormField24,fe=je.substring(0,je.indexOf(",")),Oe=je.substring(je.indexOf(",")+1,je.length);a.viewTicketDetailsJson[fe]=Oe,a.checkPreviousIssueSummaryDetails(fe,Oe)}if(null!==e.data.dynamicFormField25){var ve=e.data.dynamicFormField25,xe=ve.substring(0,ve.indexOf(",")),ye=ve.substring(ve.indexOf(",")+1,ve.length);a.viewTicketDetailsJson[xe]=ye,a.checkPreviousIssueSummaryDetails(xe,ye)}if(null!==e.data.dynamicFormField26){var Se=e.data.dynamicFormField26,Te=Se.substring(0,Se.indexOf(",")),ke=Se.substring(Se.indexOf(",")+1,Se.length);a.viewTicketDetailsJson[Te]=ke,a.checkPreviousIssueSummaryDetails(Te,ke)}if(null!==e.data.dynamicFormField27){var De=e.data.dynamicFormField27,we=De.substring(0,De.indexOf(",")),Ce=De.substring(De.indexOf(",")+1,De.length);a.viewTicketDetailsJson[we]=Ce,a.checkPreviousIssueSummaryDetails(we,Ce)}if(null!==e.data.dynamicFormField28){var Ae=e.data.dynamicFormField28,Ie=Ae.substring(0,Ae.indexOf(",")),Fe=Ae.substring(Ae.indexOf(",")+1,Ae.length);a.viewTicketDetailsJson[Ie]=Fe,a.checkPreviousIssueSummaryDetails(Ie,Fe)}if(null!==e.data.dynamicFormField29){var Ne=e.data.dynamicFormField29,Pe=Ne.substring(0,Ne.indexOf(",")),Le=Ne.substring(Ne.indexOf(",")+1,Ne.length);a.viewTicketDetailsJson[Pe]=Le,a.checkPreviousIssueSummaryDetails(Pe,Le)}if(null!==e.data.dynamicFormField30){var Re=e.data.dynamicFormField30,Ee=Re.substring(0,Re.indexOf(",")),Be=Re.substring(Re.indexOf(",")+1,Re.length);a.viewTicketDetailsJson[Ee]=Be,a.checkPreviousIssueSummaryDetails(Ee,Be)}if(null!==e.data.dynamicFormField31){var Me=e.data.dynamicFormField31,Ue=Me.substring(0,Me.indexOf(",")),Ve=Me.substring(Me.indexOf(",")+1,Me.length);a.viewTicketDetailsJson[Ue]=Ve,a.checkPreviousIssueSummaryDetails(Ue,Ve)}if(null!==e.data.dynamicFormField32){var _e=e.data.dynamicFormField32,He=_e.substring(0,_e.indexOf(",")),Ge=_e.substring(_e.indexOf(",")+1,_e.length);a.viewTicketDetailsJson[He]=Ge,a.checkPreviousIssueSummaryDetails(He,Ge)}if(null!==e.data.dynamicFormField33){var We=e.data.dynamicFormField33,Ye=We.substring(0,We.indexOf(",")),ze=We.substring(We.indexOf(",")+1,We.length);a.viewTicketDetailsJson[Ye]=ze,a.checkPreviousIssueSummaryDetails(Ye,ze)}if(null!==e.data.dynamicFormField34){var Je=e.data.dynamicFormField34,qe=Je.substring(0,Je.indexOf(",")),Ke=Je.substring(Je.indexOf(",")+1,Je.length);a.viewTicketDetailsJson[qe]=Ke,a.checkPreviousIssueSummaryDetails(qe,Ke)}if(null!==e.data.dynamicFormField35){var Qe=e.data.dynamicFormField35,Ze=Qe.substring(0,Qe.indexOf(",")),Xe=Qe.substring(Qe.indexOf(",")+1,Qe.length);a.viewTicketDetailsJson[Ze]=Xe,a.checkPreviousIssueSummaryDetails(Ze,Xe)}if(null!==e.data.dynamicFormField36){var $e=e.data.dynamicFormField36,et=$e.substring(0,$e.indexOf(",")),tt=$e.substring($e.indexOf(",")+1,$e.length);a.viewTicketDetailsJson[et]=tt,a.checkPreviousIssueSummaryDetails(et,tt)}if(null!==e.data.dynamicFormField37){var at=e.data.dynamicFormField37,st=at.substring(0,at.indexOf(",")),nt=at.substring(at.indexOf(",")+1,at.length);a.viewTicketDetailsJson[st]=nt,a.checkPreviousIssueSummaryDetails(st,nt)}if(null!==e.data.dynamicFormField38){var it=e.data.dynamicFormField38,lt=it.substring(0,it.indexOf(",")),rt=it.substring(it.indexOf(",")+1,it.length);a.viewTicketDetailsJson[lt]=rt,a.checkPreviousIssueSummaryDetails(lt,rt)}if(null!==e.data.dynamicFormField39){var ot=e.data.dynamicFormField39,ct=ot.substring(0,ot.indexOf(",")),dt=ot.substring(ot.indexOf(",")+1,ot.length);a.viewTicketDetailsJson[ct]=dt,a.checkPreviousIssueSummaryDetails(ct,dt)}if(null!==e.data.dynamicFormField40){var ht=e.data.dynamicFormField40,ut=ht.substring(0,ht.indexOf(",")),bt=ht.substring(ht.indexOf(",")+1,ht.length);a.viewTicketDetailsJson[ut]=bt,a.checkPreviousIssueSummaryDetails(ut,bt)}for(var pt=0,mt=Object.entries(a.state.ticketData.dynamicFormJson);pt<mt.length;pt++){var gt=mt[pt],jt=gt[0].toString().toLowerCase().split("_").join("");jt.includes("issuesummary")&&a.setState({ticketSubject:gt[1]}),jt.includes("prioritylevel")&&a.setState({ticketPriorityLevel:gt[1]})}}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkPreviousIssueSummaryDetails",value:function(e,t){var a=e.toString().split(/[_ 0-9]/g).join("");a.includes("IssueSummary")?this.previousTicketSummary=t:a.includes("IssueDetails")&&(this.previousDetails=t)}},{key:"getTicketRepliesByTicketId",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={ticketId:this.state.ticketId},Te.getTicketRepliesByTicketId(t).then((function(e){a.setState({ticketReplies:e.data}),console.log("Response"+JSON.stringify(e.data))}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssigneeOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={branchName:this.state.branch},e.next=3,Te.getUsersByBranch(t);case 3:a=e.sent,s=a.data,n=s.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({assigneeOptions:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserDetails",value:function(){var e=this,t={id:this.state.userId};Te.getUserDetails(t).then((function(t){e.setState({isAgent:t.data.isAgent})}))}},{key:"downloadFile",value:function(e){var t={keyName:e};Te.downloadTicketFile(t).then((function(e){console.log(e.data),window.location.href=e.data.downloadUrl})),console.log(e)}},{key:"postReply",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.responseMessage&&void 0!==this.state.responseMessage){e.next=4;break}return e.abrupt("return",this.showWarningToast("Message is mandatory"));case 4:if(this.setState({disablePostReplyButtonOnClick:!0}),""===this.state.ticketStatus){e.next=10;break}return console.log(this.state.statusId),t={ticketStatus:this.state.ticketStatus,id:this.state.arrayOfSelectedId,assigneeFullName:"",assigneeId:"",userId:sessionStorage.getItem("userId"),userMobile:sessionStorage.getItem("mobile"),usedInCannedFilters:!0},e.next=10,Te.bulkUpdateTicketStatusAndAssignee(t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 10:if(a=[],null!==this.state.selectedOption&&""!==this.state.selectedOption){n=Object(Ae.a)(this.state.selectedOption);try{for(n.s();!(i=n.n()).done;)l=i.value,a.push(l.label)}catch(o){n.e(o)}finally{n.f()}s=a.join()}t={to:this.state.ticketData.email,from:sessionStorage.getItem("userId"),recepients:s,message:this.state.responseMessage,ticketId:this.state.ticketId,s3FilesUrl:this.state.selectedFiles,isInternalNotes:this.state.postInternalNotes},Te.postTicketReply(t).then((function(e){var t,a=[],s={ticketId:r.state.ticketId,fileKeysArray:a},n=Object(Ae.a)(r.state.selectedFiles);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,l=0,c=Object.entries(i);l<c.length;l++){var d=c[l];d[1].includes("ticket/")&&a.push(d[1])}}catch(o){n.e(o)}finally{n.f()}Te.createFileKeyEntry(s).then((function(e){console.log(e.data),r.showSuccessToast("Reply Posted"),window.location.reload(!0)}))})).catch((function(e){r.showErrorToast("Some Error Occurred"),console.log(e)}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectFiles",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=new FormData).append("file",a.target.files[0]),Te.uploadTempTicketFile(s).then((function(e){console.log(e.data),n.state.selectedFiles.push({id:t,key:e.data.key,fileName:a.target.files[0].name}),n.setState({displayFileName:!0})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeSelectedFile",value:function(e,t,a){console.log(e),console.log(t);var s,n=[],i=Object(Ae.a)(this.state.selectedFiles);try{for(i.s();!(s=i.n()).done;){var l=s.value;if(l.id===e&&l.key===t){var r=this.state.selectedFiles.indexOf(l);if(r>-1){(n=this.state.selectedFiles).splice(r,1),this.setState({selectedFiles:n}),console.log(n);var o={keyName:t};Te.deleteTicketFile(o).then((function(e){console.log("File Deleted From S3"+e.data)}))}}}}catch(c){i.e(c)}finally{i.f()}}},{key:"selectTicketFiles",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=new FormData).append("file",a.target.files[0]),Te.uploadTempTicketFile(s).then((function(e){console.log(e.data),n.state.selectedTicketFiles.push({id:t,key:e.data.key,fileName:a.target.files[0].name}),n.setState({displayTicketFileName:!0});var s=Object.assign({},n.state.customFieldsTextFields);if(Object.keys(n.state.customFieldsTextFields).length<=0)s[t]=e.data.key,console.log(n.state.customFieldsTextFields),console.log(s),n.setState({customFieldsTextFields:s},(function(){return console.log(n.state.customFieldsTextFields)}));else for(var i=0,l=Object.entries(n.state.customFieldsTextFields);i<l.length;i++){var r=l[i];if(r[0]===t){var o;o=r[1]+","+e.data.key,s[t]=o,n.setState({customFieldsTextFields:s},(function(){return console.log(n.state.customFieldsTextFields)}))}else s[t]=e.data.key,n.setState({customFieldsTextFields:s},(function(){return console.log(n.state.customFieldsTextFields)}))}}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeSelectedTicketFile",value:function(e,t,a){for(var s=0,n=Object.entries(this.state.customFieldsTextFields);s<n.length;s++){var i=n[s];if(i[0]===e){var l=i[1].split(",");if(1===l.length){delete this.state.customFieldsTextFields[e];break}var r,o=Object(Ae.a)(l);try{for(o.s();!(r=o.n()).done;){var c=r.value;if(c===t){var d=i[1].replace(c+",","");if(d===i[1]){d=i[1].replace(","+c,""),console.log(d),this.state.customFieldsTextFields[e]=d;break}console.log(d),this.state.customFieldsTextFields[e]=d;break}}}catch(j){o.e(j)}finally{o.f()}}}console.log(e),console.log(t);var h,u=[],b=Object(Ae.a)(this.state.selectedTicketFiles);try{for(b.s();!(h=b.n()).done;){var p=h.value;if(p.id===e&&p.key===t){var m=this.state.selectedTicketFiles.indexOf(p);if(m>-1){(u=this.state.selectedTicketFiles).splice(m,1),this.setState({selectedTicketFiles:u}),console.log(u);var g={keyName:t};Te.deleteTicketFile(g).then((function(e){console.log("File Deleted From S3"+e.data)}))}}}}catch(j){b.e(j)}finally{b.f()}}},{key:"getDepartmentOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllDepartments();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.departmentName}})),this.setState({departmentOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({helpTopicOptions:[]}),this.setState({topicId:void 0,topicName:void 0}),this.setState({depId:t.value,deptName:t.label}),this.selectedTranferDepartment={depId:t.value,deptName:t.label},this.getAllTrasnferAssignees(),a={departmentId:t.value},e.next=8,Te.getAllHelpTopicByDepartmentId(a);case 8:s=e.sent,n=s.data,i=n.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:i}),this.setState({showHelptopicDropdown:!0});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeHelpTopic",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({topicId:t.value,topicName:t.label});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHelpTopicOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllHelpTopics();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeDynamicDropdownValues",value:function(e,t){console.log("Event:"+JSON.stringify(t)),console.log("id"+JSON.stringify(e)),this.state.customFieldsTextFields[e]=t.value;var a=Object.assign({},this.state.customFieldsTextFields);a[e]=t.value,console.log(this.state.customFieldsTextFields),console.log(a)}},{key:"onChangeDynamicText",value:function(e){console.log("value"+e.target.value),console.log("name"+e.target.name),console.log("id"+e.target.id),this.state.customFieldsTextFields[e.target.id]=e.target.value;var t=Object.assign({},this.state.customFieldsTextFields);t[e.target.id]=e.target.value,console.log(this.state.customFieldsTextFields),console.log(t),this.setState({customFieldsTextFields:t})}},{key:"onChangeBooleanValue",value:function(e){this.state.customFieldsTextFields[e.target.id]=e.target.checked;var t=Object.assign({},this.state.customFieldsTextFields);t[e.target.id]=e.target.checked,console.log(this.state.customFieldsTextFields),console.log(t),this.setState({customFieldsTextFields:t})}},{key:"onChangeDynamicMobileNo",value:function(e){this.state.customFieldsTextFields[e.target.id]=e.target.value;var t=Object.assign({},this.state.customFieldsTextFields);t[e.target.id]=e.target.value,console.log(this.state.customFieldsTextFields),console.log(t),this.setState({customFieldsTextFields:t})}},{key:"onChangeDynamicPhoneNo",value:function(e){this.state.customFieldsTextFields[e.target.id]=e.target.value;var t=Object.assign({},this.state.customFieldsTextFields);t[e.target.id]=e.target.value,console.log(this.state.customFieldsTextFields),console.log(t),this.setState({customFieldsTextFields:t})}},{key:"onChangeDynamicDate",value:function(e,t){this.state.customFieldsTextFields[e]=t;var a=Object.assign({},this.state.customFieldsTextFields);a[e]=t,this.setState({customFieldsTextFields:a})}},{key:"createDynamicFieldsComment",value:function(e,t){var a=document.createElement("div"),s=document.createElement("h6"),n=document.createElement("u");s.innerHTML="Previous Department("+t+") Ticket  Details",n.appendChild(s),a.appendChild(n);for(var i=e,l=0,r=Object.entries(i);l<r.length;l++){var o=r[l],c=o[0].toString().split(/[_ 0-9]/g).join(""),d=o[1];d=!0===o[1]||!1===o[1]?o[1].toString():o[1].split(","),/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(o[1])&&(o[1]=Ke()(o[1]).format("DD/MM/YYYY hh:mm A"));var h=document.createElement("br"),u=document.createElement("strong"),b=document.createElement("label");if(b.innerHTML=c+"&nbsp",u.appendChild(b),a.appendChild(u),d.toString().includes("ticket/")){var p,m=Object(Ae.a)(d);try{for(m.s();!(p=m.n()).done;){var g=p.value,j=document.createElement("a");j.innerHTML=g.substring(g.lastIndexOf("/")+1,g.length)+"&nbsp",j.target="_self",j.href=xe+"/api/file/downloadTicketFile/?keyName="+g,a.appendChild(j)}}catch(v){m.e(v)}finally{m.f()}}else{var f=document.createElement("a");f.innerHTML=d+"&nbsp",a.appendChild(f)}a.appendChild(h)}var O={to:null,from:sessionStorage.getItem("userId"),recepients:null,message:a.innerHTML,ticketId:this.state.ticketId,s3FilesUrl:null,isInternalNotes:!1,isTicketActivityThread:!0};Te.postTicketReply(O).then((function(e){console.log(e)}))}},{key:"updateTicket",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.state.depId&&""!==this.state.deptName){e.next=2;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 2:if(void 0!==this.state.topicId&&""!==this.state.topicId){e.next=4;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 4:if(void 0!==this.selectedTransferAssignee&&""!==this.selectedTransferAssignee){e.next=6;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 6:t={isTicketWronglyAssigned:1,transferReason:this.state.transferMessage,departmentName:this.state.deptName||"",loggedInUserEmail:window.sessionStorage.getItem("email"),ticketId:this.state.ticketId,selectedDepartment:this.selectedTranferDepartment,selectedAssignee:this.selectedTransferAssignee,transferreId:window.sessionStorage.getItem("userId"),helpTopicId:this.state.topicId},Te.transferTicket(t).then((function(e){if("false"==e.data.success)return a.showErrorToast(e.data.message);a.showSuccessToast("Ticket Transferred Successfully"),a.props.history.push("/allTickets")}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeCannedResponse",value:function(e){var t=this;this.setState({cannedId:e.value,cannedFilterName:e.label});var a={ticketId:this.state.ticketId,cannedFilterName:e.label,isAgent:this.state.isAgent};Te.filterCannedResponses(a).then((function(e){if(e.data.message&&t.setState({responseMessage:t.state.responseMessage+e.data.message}),e.data.length>=1){var a,s=Object(Ae.a)(e.data);try{for(s.s();!(a=s.n()).done;){var n=a.value;t.setState({responseMessage:t.state.responseMessage+n.message})}}catch(i){s.e(i)}finally{s.f()}}e.data.recepients&&t.setState({selectedOption:e.data.recepients})}))}},{key:"getCannedOptions",value:function(){var e=[{value:1,label:j},{value:2,label:f},{value:3,label:O},{value:4,label:v}];this.setState({cannedOptions:e})}},{key:"onChangepostInternalNote",value:function(e){!1===this.state.postInternalNotes?this.setState({postInternalNotes:!0}):this.setState({postInternalNotes:!1})}},{key:"onChangeTicketStatus",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({statusId:t.value,ticketStatus:t.label},(function(){console.log(a.state.statusId),console.log(a.state.ticketStatus)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTicketStatus",value:function(){this.setState({statusOptions:[{value:1,label:"Open"},{value:2,label:"Awaiting for user response"},{value:3,label:"Assigned to an engineer"},{value:4,label:"Indent at Branch approval"},{value:5,label:"Indent at DM approval"},{value:6,label:"Indent at CO approval"},{value:7,label:"Branch dependent"},{value:8,label:"Warehouse dependent"},{value:9,label:"Vendor dependent"},{value:10,label:"Work in progress"},{value:11,label:"Escalated to Next level"},{value:12,label:"Resolved"},{value:13,label:"Closed"}]})}},{key:"toggleClass",value:function(e,t){var a=this.state.active;this.setState({active:!a}),this.setState({dataPath:e}),console.log(this.state.active)}},{key:"componentDidMount",value:function(){this.getTicketDetailsByTicketId(),this.getTicketRepliesByTicketId();var e=[];e.push(this.state.ticketId),this.setState({arrayOfSelectedId:e}),this.getUserDetails(),this.getDepartmentOptions(),this.getCannedOptions(),this.getTicketStatus()}},{key:"getAllTrasnferAssignees",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o,d,h,u,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("All"!==this.selectedTranferDepartment.deptName){e.next=11;break}return e.next=3,Te.getAllDepartmentsAgents();case 3:t=e.sent,a=t.data.agentDeptMap,s=[],n=Object(Ae.a)(a);try{for(n.s();!(i=n.n()).done;)l=i.value,s.push({value:l.value,label:l.label+"<".concat(l.user.email,">"),departmentId:l.departmentId,assigneeName:l.label})}catch(c){n.e(c)}finally{n.f()}this.setState({transferAssignee:s}),e.next=24;break;case 11:if("Central Pool Agent"!==this.selectedTranferDepartment.deptName){e.next=16;break}this.setState({transferAssignee:[]}),this.setState({showTransferAssignee:!1}),e.next=24;break;case 16:return e.next=18,Te.getDepartmentAssociatedAgents(500,0,void 0,"desc","createdAt",this.selectedTranferDepartment.depId);case 18:r=e.sent,o=r.data.users,d=[],h=Object(Ae.a)(o);try{for(h.s();!(u=h.n()).done;)b=u.value,d.push({value:b.userId,label:b.user.fullName+"<".concat(b.user.email,">"),departmentId:b.departmentId,assigneeName:b.user.fullName})}catch(c){h.e(c)}finally{h.f()}this.setState({transferAssignee:d});case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeTransferAssignee",value:function(e){this.selectedTransferAssignee={value:e.value,label:e.label,departmentId:e.departmentId,assigneeName:e.assigneeName},console.log(this.selectedTransferAssignee)}},{key:"render",value:function(){var e=this;return this.state.ticketData?Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"shadow p-3 mb-5 bg-white rounded",style:{marginTop:"20px"},children:[Object(s.jsxs)(nt.a,{children:["/transferRequest"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/transferRequest",children:"Transfer Request"}),Object(s.jsxs)(nt.a.Item,{active:!0,children:["Ticket #",this.state.ticketId]})]}),Object(s.jsx)(Ye.a,{children:Object(s.jsx)(ze.a,{children:Object(s.jsxs)("h5",{className:"formHeading",style:{backgroundColor:"#ffffff"},children:["Ticket #",this.state.ticketId]})})}),Object(s.jsx)("h4",{className:"subject",children:this.state.ticketSubject}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Status:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.ticketStatus})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"User:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.fullName})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Priority:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketPriorityLevel})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Email:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.email})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Designation:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.user.designation})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Department:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.department.departmentName})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Source:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.ticketsource.sourceName})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Created Date:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:Ke()(this.state.ticketData.initialCreatedDate).format("DD/MM/YYYY hh:mm A")})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Mobile:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.user.mobile})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Assigned To:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.assigneeFullName})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Help Topic:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.helptopic.helpTopicName})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"SLA Plan:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.slaPlan})]})]}),Object(s.jsxs)(Ye.a,{children:[null!==this.state.ticketData.level1SlaDue&&Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Due Date:\xa0"}),Object(s.jsxs)("label",{className:"lblFieldValue",children:[Ke()(this.state.ticketData.level1SlaDue).format("DD/MM/YYYY hh:mm A"),"\xa0\xa0",Object(s.jsx)("span",{className:"lblFields",children:"(Level-1)"})]})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Ticket Category:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.ticketCategory})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Ticket SubCategory:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.ticketSubCategory})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Employee Id:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.employeeNo})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Ticket Closed Date:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:null!==this.state.ticketData.closedDate&&Ke()(this.state.ticketData.closedDate).format("DD/MM/YYYY hh:mm A")})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Ticket Closed By:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.closedBy})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Branch:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.branch})]}),Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Modified SLA:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:this.state.ticketData.modifiedSlaPlan})]})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{children:[Object(s.jsx)("label",{className:"lblFields",children:"Modified Created Date:\xa0"}),Object(s.jsx)("label",{className:"lblFieldValue",children:Ke()(this.state.ticketData.createdAt).format("DD/MM/YYYY hh:mm A")})]}),Object(s.jsx)(ze.a,{children:Object(s.jsxs)(it.a,{show:this.state.active,keyboard:!0,onHide:this.toggleClass,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0}),Object(s.jsx)(it.a.Body,{children:Object(s.jsx)("object",{data:this.state.dataPath,onClick:this.toggleClass.bind(this,this.state.dataPath),className:this.state.active?"viewFile":null})})]})})]})]}),Object(s.jsxs)("div",{className:"shadow p-3 mb-5 bg-white rounded",style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"Ticket Details"}),Object.entries(this.viewTicketDetailsJson).map((function(t){var a=Object(at.a)(t,2),n=a[0],i=a[1],l=n.toString().split(/[_ 0-9]/g).join(" "),r=i;return r=!0===i||!1===i?i.toString():i.split(","),/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(i)?i=Ke()(i).format("DD/MM/YYYY hh:mm A"):console.log("value"+i+"  Not a date"),Object(s.jsxs)("div",{children:[!i.toString().includes("ticket/")&&Object(s.jsxs)("label",{children:[Object(s.jsx)("span",{style:{fontWeight:"bold",color:"black"},children:l}),":\xa0",rt()(i)]}),i.toString().includes("ticket/")&&Object(s.jsxs)("label",{children:[Object(s.jsx)("span",{style:{fontWeight:"bold",color:"black"},children:l}),":\xa0 ",Object(s.jsx)("span",{children:r.map((function(t){return Object(s.jsxs)("span",{children:["\xa0",t.substring(t.lastIndexOf("/")+1,t.length),"\xa0",Object(s.jsx)("i",{class:"fa fa-cloud-download",style:{cursor:"pointer"},onClick:e.downloadFile.bind(e,t),"aria-hidden":"true"})," \xa0\xa0",Object(s.jsx)("i",{class:"fa fa-eye",onClick:e.toggleClass.bind(e,xe+"/api/file/downloadTicketFile/?isView=true&keyName="+t),"aria-hidden":"true"})]})}))})]})]})}))]}),Object(s.jsxs)("div",{className:"shadow p-3 mb-5 rounded",style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"Ticket Thread"}),"true"===this.state.isAgent&&this.state.ticketReplies.map((function(t){return null===t.message||null!==t.isTicketActivityThread&&!1!==t.isTicketActivityThread||null!==t.textMessage?null!==t.message&&!0===t.isTicketActivityThread&&null===t.messageDateTime?Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-hand-o-right","aria-hidden":"true"}),"\xa0",Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)}),"\xa0",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A")]})})]})}):null!==t.message&&!0===t.isTicketActivityThread&&null!==t.messageDateTime?Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-hand-o-right","aria-hidden":"true"}),"\xa0",Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)}),"\xa0",Ke()(t.messageDateTime).format("DD/MM/YYYY hh:mm A")]})})]})}):null===t.message||null===t.textMessage||null!==t.isTicketActivityThread&&!1!==t.isTicketActivityThread?void 0:Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1,children:Object(s.jsx)("img",{className:"userIcon",src:"../userIcon.PNG"})}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("div",{className:"triangleMain",children:[Object(s.jsx)("div",{className:"triangle",children:Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)})," on ",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A"),Object(s.jsx)("hr",{})]})}),Object(s.jsx)("div",{className:"triangleInnerContent",children:Object(s.jsx)("p",{children:rt()(t.textMessage)})})]})})]})}):Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1,children:Object(s.jsx)("img",{className:"userIcon",src:"../userIcon.PNG"})}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("div",{className:"triangleMain",children:[Object(s.jsxs)("div",{className:"triangle",children:[!0===t.isInternalNotes&&Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{fontWeight:"bold"},children:t.repliedby})," posted ",Object(s.jsx)("span",{style:{fontWeight:"bold"},children:"Internal Note"})," on ",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A"),Object(s.jsx)("hr",{})]}),(null===t.isInternalNotes||!1===t.isInternalNotes)&&Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{fontWeight:"bold"},children:t.repliedby})," posted on ",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A"),Object(s.jsx)("hr",{})]})]}),Object(s.jsxs)("div",{className:"triangleInnerContent",children:[Object(s.jsx)("p",{children:rt()(t.message)}),"{}"!==JSON.stringify(t.s3FilesUrl)&&null!==t.s3FilesUrl&&t.s3FilesUrl.map((function(t){return Object(s.jsxs)("label",{children:[t.fileName," ",Object(s.jsx)("span",{type:"button",class:"fa fa-cloud-download",onClick:e.downloadFile.bind(e,t.key)})," \xa0\xa0",Object(s.jsx)("i",{class:"fa fa-eye",onClick:e.toggleClass.bind(e,xe+"/api/file/downloadTicketFile/?isView=true&keyName="+t.key),"aria-hidden":"true"})]})}))]})]})})]})})})),"true"!==this.state.isAgent&&this.state.ticketReplies.map((function(t){return null===t.message||null!==t.isTicketActivityThread&&!1!==t.isTicketActivityThread||null!==t.textMessage||!1!==t.isInternalNotes&&null!==t.isInternalNotes?null!==t.message&&!0===t.isTicketActivityThread&&null===t.messageDateTime?Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-hand-o-right","aria-hidden":"true"}),"\xa0",Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)}),"\xa0",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A")]})})]})}):null!==t.message&&!0===t.isTicketActivityThread&&null!==t.messageDateTime?Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-hand-o-right","aria-hidden":"true"}),"\xa0",Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)}),"\xa0",Ke()(t.messageDateTime).format("DD/MM/YYYY hh:mm A")]})})]})}):null===t.message||null===t.textMessage||null!==t.isTicketActivityThread&&!1!==t.isTicketActivityThread?void 0:Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1,children:Object(s.jsx)("img",{className:"userIcon",src:"../userIcon.PNG"})}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsxs)("div",{className:"triangleMain",children:[Object(s.jsx)("div",{className:"triangle",children:Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{display:"inline-block"},children:rt()(t.message)})," on ",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A"),Object(s.jsx)("hr",{})]})}),Object(s.jsx)("div",{className:"triangleInnerContent",children:Object(s.jsx)("p",{children:rt()(t.textMessage)})})]})})]})}):Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)(ze.a,{xs:1,md:1,children:Object(s.jsx)("img",{className:"userIcon",src:"../userIcon.PNG"})}),Object(s.jsx)(ze.a,{xs:11,md:11,children:Object(s.jsx)("div",{className:"triangleMain",children:Object(s.jsxs)("div",{className:"triangle",children:[Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{fontWeight:"bold"},children:t.repliedby})," posted on ",Ke()(t.createdAt).format("DD/MM/YYYY hh:mm A"),Object(s.jsx)("hr",{})]}),Object(s.jsx)("p",{children:rt()(t.message)}),"{}"!==JSON.stringify(t.s3FilesUrl)&&null!==t.s3FilesUrl&&t.s3FilesUrl.map((function(t){return Object(s.jsxs)("label",{children:[t.fileName," ",Object(s.jsx)("span",{type:"button",class:"fa fa-cloud-download",onClick:e.downloadFile.bind(e,t.key)})," \xa0\xa0",Object(s.jsx)("i",{class:"fa fa-eye",onClick:e.toggleClass.bind(e,xe+"/api/file/downloadTicketFile/?isView=true&keyName="+t.key),"aria-hidden":"true"})]})}))]})})})]})})}))]}),Object(s.jsxs)("div",{className:"shadow p-3 mb-5 bg-white rounded",style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"Transfer Ticket To Department"}),Object(s.jsxs)(Fe.a,{children:[Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicDepartment",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Department"}),Object(s.jsx)(Le.a,{options:this.state.departmentOptions,onChange:this.onChangeDepartment.bind(this),placeholder:"Select a Department"})]}),Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicHelpTopic",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Help Topic"}),Object(s.jsx)(Le.a,{value:{value:this.state.topicId,label:this.state.topicName},options:this.state.helpTopicOptions,onChange:this.onChangeHelpTopic.bind(this),placeholder:"Select a help topic"})]}),Object(s.jsxs)(Fe.a.Group,{controlId:"departmentName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Change Assignee"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.transferAssignee,placeholder:"Select a Assignee",onChange:this.onChangeTransferAssignee.bind(this)})]}),Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Transfer Reason"}),Object(s.jsx)(Re.CKEditor,{onReady:function(e){},data:this.state.transferMessage||"",editor:Be.a,onChange:function(t,a){var s=a.getData();e.state.transferMessage=s,console.log({event:t,editor:a,data:s})}}),Object(s.jsx)("button",{style:{marginTop:"10px"},type:"button",onClick:this.updateTicket,className:"btn btn-success",children:"Submit"})]})]})]}):Object(s.jsx)("div",{})}}]),a}(n.Component),mt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n,l;return Object(h.a)(this,a),(l=t.call(this,e)).tableRef=i.a.createRef(),l.showErrorToast=function(){Me.b.error("Some error occurred while saving!",{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},l.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},l.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},l.onAssigneeNameChange=function(e){e&&(l.createUserSettingsArray(de,e),l.setState({selectedAssigneeOption:e}),l.setState({assigneeId:e.value}))},l.fetchAssigneeName=function(e,t){e?setTimeout((function(){fetch(xe+"/api/user/findByUserName/?fullName=".concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=[];e.forEach((function(e){a.push({label:"".concat(e.fullName,"<").concat(e.email,">"),value:e.id})})),t(a)})).catch((function(e){console.log(e,"catch the hoop")}))})):t([])},l.onChangeFilteringTicketStatus=l.onChangeFilteringTicketStatus.bind(Object(Ie.a)(l)),l.handleDateRangeChange=l.handleDateRangeChange.bind(Object(Ie.a)(l)),l.onApplyDateRange=l.onApplyDateRange.bind(Object(Ie.a)(l)),l.onChangeDepartment=l.onChangeDepartment.bind(Object(Ie.a)(l)),l.remoteData=l.remoteData.bind(Object(Ie.a)(l)),l.onTicketSelectionChange=l.onTicketSelectionChange.bind(Object(Ie.a)(l)),l.filterTickets=l.filterTickets.bind(Object(Ie.a)(l)),l.exportData=l.exportData.bind(Object(Ie.a)(l)),l.onChangeHelpTopic=l.onChangeHelpTopic.bind(Object(Ie.a)(l)),l.onAssigneeNameChange=l.onAssigneeNameChange.bind(Object(Ie.a)(l)),l.onChangeOverDue=l.onChangeOverDue.bind(Object(Ie.a)(l)),l.handleClosedDateRangeChange=l.handleClosedDateRangeChange.bind(Object(Ie.a)(l)),l.saveFilterSetting=l.saveFilterSetting.bind(Object(Ie.a)(l)),l.clearFilterSetting=l.clearFilterSetting.bind(Object(Ie.a)(l)),l.savePageLocation=l.savePageLocation.bind(Object(Ie.a)(l)),l.showClosedDataRange=!1,l.state=(n={filteringTicketStatusOptions:[],departmentOptions:[],overDueOptions:[],depId:void 0,tableTitle:"All",start:Ke()().subtract(29,"days"),end:Ke()(),closedStart:Ke()().subtract(29,"days"),closedEnd:Ke()(),locale:{format:"DD/MM/YYYY"},exportDataDownloadLink:"",helpTopicOptions:[]},Object(st.a)(n,"depId","All"),Object(st.a)(n,"selectedAssigneeOption",{}),Object(st.a)(n,"assigneeId",void 0),Object(st.a)(n,"userFilterSettings",[]),Object(st.a)(n,"defaultTicketStatus",[]),Object(st.a)(n,"defaultDepartmentFilter",{}),Object(st.a)(n,"renderData",!1),Object(st.a)(n,"defaultOverdueFilter",{}),Object(st.a)(n,"defaultHelptopicFilter",{}),Object(st.a)(n,"userId",""),Object(st.a)(n,"hideButtons",!1),n),l.columns=[{title:"Ticket Number",field:"id",render:function(e){return Object(s.jsx)(m.b,{to:"/viewTicket/id:".concat(e.id),onClick:l.savePageLocation,children:e.id})}},{title:"Created Date",field:"initialCreatedDate"},{title:"Branch",field:"branch"},{title:"Subject",field:"subject"},{title:"Department",field:"departmentName"},{title:"Assignee",field:"assigneeFullName"},{title:"Ticket Status",field:"ticketStatus"},{title:"Initial Due Date",field:"level1DueDate"},{title:"Sch/Col",field:"schCol"},{title:"From",field:"fullName"},{title:"Mobile",field:"mobile"},{title:"Closed Date",field:"closedDate"},{title:"Closed By",field:"closedBy"},{title:"HelpTopic",field:"helpTopicName"},{title:"OverDue",field:"isTicketOverdue"},{title:"Satisfactory",field:"ticketSatisfaction"}],l.filterTicketStatus=[],l.state.userId=sessionStorage.getItem("userId"),l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getFilteringTicketStatus(),this.getDepartmentOptions(),this.getOverDueOptions(),this.getUserFilterSettings()}},{key:"savePageLocation",value:function(){sessionStorage.setItem("previousPageLocation","/allTickets")}},{key:"getFilteringTicketStatus",value:function(){this.setState({filteringTicketStatusOptions:[{value:1,label:"All"},{value:2,label:"Open"},{value:3,label:"Awaiting for user response"},{value:4,label:"Assigned to an engineer"},{value:5,label:"Indent at Branch approval"},{value:6,label:"Indent at DM approval"},{value:7,label:"Indent at CO approval"},{value:8,label:"Branch dependent"},{value:9,label:"Warehouse dependent"},{value:10,label:"Vendor dependent"},{value:11,label:"Work in progress"},{value:12,label:"Escalated to Next level"},{value:13,label:"Resolved"},{value:14,label:"Closed"},{value:15,label:"Re-Open"}]})}},{key:"getOverDueOptions",value:function(){this.setState({overDueOptions:[{value:1,label:"Yes"},{value:2,label:"No"}]})}},{key:"onChangeOverDue",value:function(e){this.createUserSettingsArray(he,e),this.setState({overdue:e.label})}},{key:"onChangeFilteringTicketStatus",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,d,h,u,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.filterTicketStatus=[],null===t||0===t.length)this.filterTicketStatus=[],this.createUserSettingsArray(le,null);else{a=Object(Ae.a)(t);try{for(a.s();!(s=a.n()).done;)n=s.value,this.filterTicketStatus.push(n.label)}catch(c){a.e(c)}finally{a.f()}i=[],l=Object(Ae.a)(this.state.defaultTicketStatus);try{for(l.s();!(r=l.n()).done;)o=r.value,i.push(o.label)}catch(c){l.e(c)}finally{l.f()}if(this.filterTicketStatus.includes("All")&&!i.includes("All"))this.setState({defaultTicketStatus:this.state.filteringTicketStatusOptions}),this.createUserSettingsArray(le,this.state.filteringTicketStatusOptions);else if(!this.filterTicketStatus.includes("All")&&i.includes("All"))this.setState({defaultTicketStatus:[]}),this.createUserSettingsArray(le,[]);else if(this.filterTicketStatus.includes("All")&&this.filterTicketStatus.length<=14&&i.includes("All")&&i.length<=15){d=[],h=Object(Ae.a)(t);try{for(h.s();!(u=h.n()).done;)"All"==(b=u.value).label||d.push(b)}catch(c){h.e(c)}finally{h.f()}this.setState({defaultTicketStatus:d}),this.createUserSettingsArray(le,d)}else this.filterTicketStatus.includes("All")||13!=i.length||14!=this.filterTicketStatus.length?!this.filterTicketStatus.includes("Open")||this.filterTicketStatus.includes("Resolved","Closed")||i.includes("Open")?(this.setState({defaultTicketStatus:t}),this.createUserSettingsArray(le,t)):((p=[]).push({value:2,label:"Open"},{value:3,label:"Awaiting for user response"},{value:4,label:"Assigned to an engineer"},{value:5,label:"Indent at Branch approval"},{value:6,label:"Indent at DM approval"},{value:7,label:"Indent at CO approval"},{value:8,label:"Branch dependent"},{value:9,label:"Warehouse dependent"},{value:10,label:"Vendor dependent"},{value:11,label:"Work in progress"},{value:12,label:"Escalated to Next level"},{value:15,label:"Re-Open"}),this.setState({defaultTicketStatus:p}),this.createUserSettingsArray(le,p)):(this.setState({defaultTicketStatus:this.state.filteringTicketStatusOptions}),this.createUserSettingsArray(le,this.state.filteringTicketStatusOptions))}this.filterTicketStatus.includes("Closed")?this.showClosedDataRange=!0:this.showClosedDataRange=!1;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.createUserSettingsArray(oe,t),this.setState({topicId:void 0,topicName:void 0}),this.setState({assigneeFullName:"",assigneeId:""}),a={departmentId:t.value},e.next=6,Te.getAllHelpTopicByDepartmentId(a);case 6:s=e.sent,n=s.data,i=n.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:i}),this.setState({depId:t.value,deptName:t.label});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDateRangeChange",value:function(e,t){this.createUserSettingsArray(re,t),this.setState({start:t.startDate}),this.setState({end:t.endDate})}},{key:"onApplyDateRange",value:function(e,t){var a=Math.abs(t.endDate-t.startDate);Math.ceil(a/864e5)>180?(this.setState({hideButtons:!0}),this.showWarningToast(Oe)):this.setState({hideButtons:!1})}},{key:"handleClosedDateRangeChange",value:function(e,t){this.createUserSettingsArray(ue,t),this.setState({closedStart:t.startDate}),this.setState({closedEnd:t.endDate})}},{key:"getDepartmentOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllDepartments();case 2:t=e.sent,a=t.data,(s=a.map((function(e){return{value:e.id,label:e.departmentName}}))).push({value:"All",label:"All"}),this.setState({departmentOptions:s});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n,i,l,r,o,h,u,b,p,m,g,j,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=this.filterTicketStatus,r=this.state.depId,o=this.state.topicId,h=this.state.assigneeId,u=this.state.overdue,b=t.orderDirection,p=void 0,t.orderBy&&(p=t.orderBy.field),(m=new Date(this.state.start)).setHours(0,0,0,0),m=m.toISOString(),(g=new Date(this.state.end)).setHours(23,59,59,999),g=g.toISOString(),j=void 0,f=void 0,this.showClosedDataRange?((j=new Date(this.state.closedStart)).setHours(0,0,0,0),j=j.toISOString(),(f=new Date(this.state.closedEnd)).setHours(23,59,59,999),f=f.toISOString()):(j=void 0,f=void 0),e.next=19,Te.getAllTicketsForCentralPool(t.pageSize,t.page,t.search,r,l,m,g,o,h,u,j,f,b,p).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,l,r,o,d,h,u,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,l=Object(Ae.a)(a.tickets);try{for(l.s();!(r=l.n()).done;)(o=r.value).createdAt=Ke()(o.createdAt).format("DD/MM/YYYY hh:mm A"),o.initialCreatedDate=Ke()(o.initialCreatedDate).format("DD/MM/YYYY hh:mm A"),o.departmentName=o.department.departmentName,o.helpTopicName=o.helptopic.helpTopicName,o.isTicketOverdue=o.isTicketOverdue,o.ticketSatisfaction=o.ticketSatisfaction,o.mobile=o.user.mobile,null!==o.level1DueDate&&(o.level1DueDate=Ke()(o.level1SlaDue).format("DD/MM/YYYY hh:mm A")),null!==o.closedDate&&(o.closedDate=Ke()(o.closedDate).format("DD/MM/YYYY hh:mm A"))}catch(c){l.e(c)}finally{l.f()}d=Object(Ae.a)(a.tickets);try{for(d.s();!(h=d.n()).done;)for(o=h.value,u=0,b=Object.entries(o.dynamicFormJson);u<b.length;u++)p=b[u],"_","",p[0].toString().toLowerCase().split("_").join("").includes("issuesummary")&&(o.subject=p[1])}catch(c){d.e(c)}finally{d.f()}s=a.tickets,n=a.currentPage,i=a.totalItems;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 19:return e.abrupt("return",Promise.resolve({data:s,page:n,totalCount:i}));case 20:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onTicketSelectionChange",value:function(e){}},{key:"filterTickets",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({tableTitle:"All Tickets"}),console.log(this.tableRef.current.state.query),this.tableRef.current.state.query.page=0,this.tableRef.current.state.query.pageSize=20,this.tableRef.current&&this.tableRef.current.onQueryChange();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.depId,a=this.filterTicketStatus,s=this.state.topicId,n=this.state.assigneeId,(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=void 0,o=void 0,this.showClosedDataRange?((r=new Date(this.state.closedStart)).setHours(0,0,0,0),r=r.toISOString(),(o=new Date(this.state.closedEnd)).setHours(23,59,59,999),o=o.toISOString()):(r=void 0,o=void 0),this.state.exportDataDownloadLink=xe+"/api/dataExport/download/?departmentId=".concat(t,"&ticketStatus=").concat(a,"&startDate=").concat(i,"&endDate=").concat(l,"&helpTopicId=").concat(s,"&assigneeId=").concat(n,"&isTicketOverdue=").concat(this.state.overdue,"&closedStartDate=").concat(r,"&closedEndDate=").concat(o),window.location.href=this.state.exportDataDownloadLink;case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeHelpTopic",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.createUserSettingsArray(ce,t),this.setState({topicId:t.value,topicName:t.label});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHelpTopicOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllHelpTopics();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveFilterSetting",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.saveFilterSettings(this.state.userFilterSettings).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearFilterSetting",value:function(){var e=this,t={settingType:se,userId:this.state.userId};Te.clearUserSettings(t).then((function(t){e.showSuccessToast(fe),window.location.reload()}))}},{key:"createUserSettingsArray",value:function(e,t){switch(e){case le:if(null===t){var a={userId:this.state.userId,settingType:se,settingValue:null,settingName:e};this.state.userFilterSettings.push(a),this.saveFilterSetting()}else{var s,n=[],i=Object(Ae.a)(t);try{for(i.s();!(s=i.n()).done;){var l=s.value,r={value:l.value,label:l.label};n.push(r)}}catch(m){i.e(m)}finally{i.f()}var o={userId:this.state.userId,settingType:se,settingValue:n,settingName:e};this.state.userFilterSettings.push(o),this.saveFilterSetting()}break;case oe:var c={userId:this.state.userId,settingType:se,settingValue:t,settingName:e};this.state.userFilterSettings.push(c),this.saveFilterSetting();break;case de:var d={userId:this.state.userId,settingType:se,settingValue:t,settingName:e};this.state.userFilterSettings.push(d),this.saveFilterSetting();break;case ce:var h={userId:this.state.userId,settingType:se,settingValue:t,settingName:e};this.state.userFilterSettings.push(h),this.saveFilterSetting();break;case he:var u={userId:this.state.userId,settingType:se,settingValue:t,settingName:e};this.state.userFilterSettings.push(u),this.saveFilterSetting();break;case re:var b={userId:this.state.userId,settingType:se,settingValue:{startDate:t.startDate,endDate:t.endDate},settingName:e};this.state.userFilterSettings.push(b),this.saveFilterSetting();break;case ue:var p={userId:this.state.userId,settingType:se,settingValue:{closedStart:t.startDate,closedEnd:t.endDate},settingName:e};this.state.userFilterSettings.push(p),this.saveFilterSetting()}}},{key:"getUserFilterSettings",value:function(){var e=this,t={settingType:se,userId:this.state.userId};Te.getUserSettingsByType(t).then((function(t){if(e.setState({userFilterSettings:t.data.data}),t.data.data){var a,s=Object(Ae.a)(t.data.data);try{for(s.s();!(a=s.n()).done;){var n=a.value;switch(n.settingName){case le:e.setState({defaultTicketStatus:n.settingValue});var i,l=Object(Ae.a)(n.settingValue);try{for(l.s();!(i=l.n()).done;){var r=i.value;e.filterTicketStatus.push(r.label),"Closed"===r.label?e.showClosedDataRange=!0:e.showClosedDataRange=!1}}catch(o){l.e(o)}finally{l.f()}break;case oe:e.setState({defaultDepartmentFilter:n.settingValue}),e.setState({depId:n.settingValue.value,deptName:n.settingValue.label}),e.getHelpTopicByDepartment(n.settingValue.value);break;case ce:e.setState({defaultHelptopicFilter:n.settingValue}),e.setState({topicId:n.settingValue.value,topicName:n.settingValue.label});break;case he:e.setState({defaultOverdueFilter:n.settingValue}),e.setState({overdue:n.settingValue.label});break;case re:e.setState({start:Ke()(n.settingValue.startDate)}),e.setState({end:Ke()(n.settingValue.endDate)});break;case ue:e.setState({closedStart:Ke()(n.settingValue.closedStart)}),e.setState({closedEnd:Ke()(n.settingValue.closedEnd)});break;case de:e.setState({selectedAssigneeOption:n.settingValue}),e.setState({assigneeId:n.settingValue.value})}}}catch(o){s.e(o)}finally{s.f()}}e.setState({renderData:!0}),e.filterTickets()}))}},{key:"getHelpTopicByDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={departmentId:t},e.next=3,Te.getAllHelpTopicByDepartmentId(a);case 3:s=e.sent,n=s.data.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.renderData?Object(s.jsxs)("div",{id:"test",children:[Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"All Tickets"})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)(n.Fragment,{children:[Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select Status"}),Object(s.jsx)(Xe.a,{onChange:function(t){e.onChangeFilteringTicketStatus(t)},value:this.state.defaultTicketStatus,placeholderButtonLabel:"Select Status",width:"400px",options:this.state.filteringTicketStatusOptions})]}),Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Created Date Range"}),Object(s.jsx)("br",{}),Object(s.jsx)(Qe.a,{onEvent:this.handleDateRangeChange.bind(),onApply:this.onApplyDateRange.bind(),initialSettings:{locale:this.state.locale,startDate:this.state.start.toDate(),endDate:this.state.end.toDate(),ranges:{Today:[Ke()().toDate(),Ke()().toDate()],Yesterday:[Ke()().subtract(1,"days").toDate(),Ke()().subtract(1,"days").toDate()],"Last 7 Days":[Ke()().subtract(6,"days").toDate(),Ke()().toDate()],"Last 30 Days":[Ke()().subtract(29,"days").toDate(),Ke()().toDate()],"This Month":[Ke()().startOf("month").toDate(),Ke()().endOf("month").toDate()],"Last Month":[Ke()().subtract(1,"month").startOf("month").toDate(),Ke()().subtract(1,"month").endOf("month").toDate()],"Last 3 Months":[Ke()().subtract(3,"month").startOf("month").toDate(),Ke()().toDate()]}},children:Object(s.jsx)("input",{type:"text",className:"form-control"})})]}),Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Department"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},defaultValue:this.state.defaultDepartmentFilter,options:this.state.departmentOptions,onChange:this.onChangeDepartment.bind(this),placeholder:"Select department"})]})]}),Object(s.jsxs)(Ye.a,{style:{marginTop:"10px"},children:[Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select HelpTopic"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.helpTopicOptions,value:{value:this.state.topicId,label:this.state.topicName},defaultValue:this.state.defaultHelptopicFilter,onChange:this.onChangeHelpTopic.bind(this),placeholder:"Select HelpTopic"})]}),Object(s.jsx)(ze.a,{xs:12,md:4,lg:4,children:Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicAssigneeName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Assignee Name"}),Object(s.jsx)(Ne.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},value:this.state.selectedAssigneeOption,loadOptions:this.fetchAssigneeName,placeholder:"Search Assignee Name",onChange:function(t){e.onAssigneeNameChange(t)}})]})}),Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"OverDue"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},defaultValue:this.state.defaultOverdueFilter,options:this.state.overDueOptions,onChange:this.onChangeOverDue.bind(this),placeholder:"Select overdue"})]})]}),Object(s.jsx)(Ye.a,{style:{marginTop:"10px"},children:!0===this.showClosedDataRange&&Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Closed Date Range"}),Object(s.jsx)("br",{}),Object(s.jsx)(Qe.a,{onEvent:this.handleClosedDateRangeChange.bind(),initialSettings:{locale:this.state.locale,startDate:this.state.closedStart.toDate(),endDate:this.state.closedEnd.toDate(),ranges:{Today:[Ke()().toDate(),Ke()().toDate()],Yesterday:[Ke()().subtract(1,"days").toDate(),Ke()().subtract(1,"days").toDate()],"Last 7 Days":[Ke()().subtract(6,"days").toDate(),Ke()().toDate()],"Last 30 Days":[Ke()().subtract(29,"days").toDate(),Ke()().toDate()],"This Month":[Ke()().startOf("month").toDate(),Ke()().endOf("month").toDate()],"Last Month":[Ke()().subtract(1,"month").startOf("month").toDate(),Ke()().subtract(1,"month").endOf("month").toDate()],"Last 3 Months":[Ke()().subtract(3,"month").startOf("month").toDate(),Ke()().toDate()],"Last 1 Year":[Ke()().subtract(12,"month").startOf("month").toDate(),Ke()().toDate()]}},children:Object(s.jsx)("input",{type:"text",className:"form-control"})})]})})]}),Object(s.jsxs)(Ye.a,{style:{marginBottom:"10px"},children:[Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Change Status"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{disabled:this.state.hideButtons,style:{color:"#fff",backgroundColor:"#1f3143"},variant:"primary",type:"submit",onClick:this.filterTickets,children:"Filter Tickets"})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Change Status"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{disabled:this.state.hideButtons,style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export Data"})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Clear Filter"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.clearFilterSetting,children:"Clear Filter"})]})]})]}),Object(s.jsx)(We.a,{title:this.state.tableTitle,columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{exportButton:!1,showSelectAllCheckbox:!0,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!0,maxBodyHeight:"450px",padding:"dense",pageSize:20,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},onSelectionChange:function(t){e.onTicketSelectionChange(t)}})]}):Object(s.jsx)("div",{})}}]),a}(n.Component),gt=(a(509),a(778),function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).showErrorToast=function(){Me.b.error("Some error occurred while saving!",{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.onSubmitFeedbackForm=s.onSubmitFeedbackForm.bind(Object(Ie.a)(s)),s.onNoClick=s.onNoClick.bind(Object(Ie.a)(s)),s.onYesClick=s.onYesClick.bind(Object(Ie.a)(s)),s.onChangeReopenReason=s.onChangeReopenReason.bind(Object(Ie.a)(s)),s.state={selectedResponse:"Yes",isFormSubmit:!1,isFeedbackSubmitted:null,feedbacklinkId:null,reopenReason:""},s}return Object(u.a)(a,[{key:"onSubmitFeedbackForm",value:function(){var e=this,t={feedbacklinkId:this.state.feedbacklinkId,ticketSatisfaction:this.state.selectedResponse,reopenReason:this.state.reopenReason};Te.submitFeedbackForm(t).then((function(t){console.log(t),e.setState({isFormSubmit:!0})}))}},{key:"onYesClick",value:function(){console.log("Yes"),this.setState({selectedResponse:"Yes"})}},{key:"onNoClick",value:function(){console.log("No"),this.setState({selectedResponse:"No"})}},{key:"onChangeReopenReason",value:function(e){console.log(e.target.value),this.setState({reopenReason:e.target.value})}},{key:"componentDidMount",value:function(){var e,t=this,a="",s=window.location.href,n=new URL(s),i=new URLSearchParams(n.search.slice(1)),l=Object(Ae.a)(i.entries());try{for(l.s();!(e=l.n()).done;){a=e.value[1]}}catch(o){l.e(o)}finally{l.f()}this.setState({feedbacklinkId:a});var r={formUUId:a};Te.getFeedbackRecord(r).then((function(e){console.log(e.data.isFeedbackSubmitted),t.setState({isFeedbackSubmitted:e.data.isFeedbackSubmitted})}))}},{key:"render",value:function(){return Object(s.jsx)("div",{style:{marginTop:"150px"},children:Object(s.jsxs)("div",{className:"shadow p-3 mb-5 bg-white rounded",style:{marginTop:"20px"},children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(Ye.a,{children:Object(s.jsx)(ze.a,{children:Object(s.jsx)("h5",{className:"formHeading",style:{textAlign:"center"},children:"Feedback Form"})})}),!1===this.state.isFeedbackSubmitted&&!1===this.state.isFormSubmit&&Object(s.jsxs)(n.Fragment,{children:[Object(s.jsx)(Ye.a,{children:Object(s.jsx)(ze.a,{children:Object(s.jsx)("h5",{children:"Tell Us About Your Experience"})})}),Object(s.jsx)(Ye.a,{style:{marginTop:"20px"},children:Object(s.jsx)(ze.a,{children:Object(s.jsxs)("p",{children:["If you are satisfied please click on ",Object(s.jsx)("span",{style:{fontWeight:"bold"},children:"YES"})," button. If not click on ",Object(s.jsx)("span",{style:{fontWeight:"bold"},children:"NO"})," button"]})})}),Object(s.jsxs)(Ye.a,{style:{marginTop:"20px"},children:[Object(s.jsx)(ze.a,{children:Object(s.jsx)("label",{className:"lblFeedbackForm ".concat("Yes"===this.state.selectedResponse?"feedbackButtons":""),onClick:this.onYesClick.bind(),children:"YES"})}),Object(s.jsx)(ze.a,{children:Object(s.jsx)("label",{className:"lblFeedbackForm ".concat("No"===this.state.selectedResponse?"feedbackButtons":""),onClick:this.onNoClick.bind(),children:"NO"})}),Object(s.jsx)(ze.a,{}),Object(s.jsx)(ze.a,{}),Object(s.jsx)(ze.a,{})]}),"No"===this.state.selectedResponse&&Object(s.jsx)(Ye.a,{style:{marginTop:"20px"},children:Object(s.jsx)(ze.a,{children:Object(s.jsx)(Fe.a,{children:Object(s.jsxs)(Fe.a.Group,{controlId:"textArea1",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Reason"}),Object(s.jsx)(Fe.a.Control,{as:"textarea",rows:5,onChange:this.onChangeReopenReason})]})})})}),Object(s.jsx)(Ye.a,{style:{marginTop:"20px"},children:Object(s.jsx)(ze.a,{children:Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143"},onClick:this.onSubmitFeedbackForm.bind(),variant:"primary",type:"submit",children:"Submit"})})})]})]}),!0===this.state.isFormSubmit&&Object(s.jsx)("div",{children:Object(s.jsx)("h5",{style:{textAlign:"center"},children:"Thankyou For Your Feedback"})}),!0===this.state.isFeedbackSubmitted&&Object(s.jsx)("div",{children:Object(s.jsx)("h5",{style:{textAlign:"center"},children:"Your Feedback is already submitted"})})]})})}}]),a}(n.Component)),jt=(a(32),a(531)),ft=a.n(jt),Ot=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).state={displayCountResponse:null},s}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{style:{width:"100px",height:"100px",position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto"},children:Object(s.jsx)(ft.a,{loading:!0,size:150})})}}]),a}(n.Component),vt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).tableRef=i.a.createRef(),s.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.onChangeOperation=s.onChangeOperation.bind(Object(Ie.a)(s)),s.savePageLocation=s.savePageLocation.bind(Object(Ie.a)(s)),s.state={operationOptions:[]},s.columns=[{title:"Department Name",field:"departmentName"}],s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getOperationOptions()}},{key:"savePageLocation",value:function(e){sessionStorage.setItem("previousPageLocation",e)}},{key:"onChangeOperation",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t.value?(this.savePageLocation("/departmentsList"),this.props.history.push("/departmentsList")):2===t.value&&(this.savePageLocation("/unassociatedAgentsList"),this.props.history.push("/unassociatedAgentsList"));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOperationOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[{value:1,label:"View All Departments"},{value:2,label:"Add Agents To Departments"}],this.setState({operationOptions:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsxs)("div",{id:"test",children:[Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"Agents Mapping"})}),Object(s.jsx)("div",{children:Object(s.jsx)(n.Fragment,{children:Object(s.jsx)(Ye.a,{children:Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select operation"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.operationOptions,onChange:this.onChangeOperation.bind(this),placeholder:"Select operation"})]})})})})]})}}]),a}(n.Component),xt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).tableRef=i.a.createRef(),s.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.onChangeOperation=s.onChangeOperation.bind(Object(Ie.a)(s)),s.remoteData=s.remoteData.bind(Object(Ie.a)(s)),s.onChangeDepartment=s.onChangeDepartment.bind(Object(Ie.a)(s)),s.addToDepartmentClick=s.addToDepartmentClick.bind(Object(Ie.a)(s)),s.onCloseDepartmentPopup=s.onCloseDepartmentPopup.bind(Object(Ie.a)(s)),s.updateAgentMapping=s.updateAgentMapping.bind(Object(Ie.a)(s)),s.exportData=s.exportData.bind(Object(Ie.a)(s)),s.state={departmentId:void 0,departmentName:void 0,operationOptions:[],departmentOptions:[],showDepartmentPopup:!1,userId:void 0},s.columns=[{title:"Email",field:"email"},{title:"FullName",field:"fullName"},{title:"Mobile",field:"mobile"},{title:"Office Type",field:"officeType"},{title:"Designation",field:"designation"},{title:"EmployeeId",field:"employeeId"}],s.selectedUserId=[],s.state.userId=sessionStorage.getItem("userId"),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries());this.setState({departmentId:t.id}),this.setState({departmentName:t.departmentName}),this.getOperationOptions(),this.getDepartmentOptions()}},{key:"onChangeOperation",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t.value?(console.log(t),this.props.history.push("/departmentsList")):2===t.value&&(console.log(t),this.props.history.push("/unassociatedAgentsList"));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.exportDataDownloadLink=xe+"/api/dataExport/downloadDepartmentAssociatedAgents?departmentId=".concat(this.state.departmentId),window.location.href=this.state.exportDataDownloadLink;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.orderDirection,l=void 0,t.orderBy&&(l=t.orderBy.field),e.next=5,Te.getDepartmentAssociatedAgents(t.pageSize,t.page,t.search,i,l,this.state.departmentId).then((function(e){var t,i=Object(Ae.a)(e.data.users);try{for(i.s();!(t=i.n()).done;){var l=t.value;l.email=l.user.email,l.mobile=l.user.mobile,l.designation=l.user.designation,l.employeeId=l.user.employeeId,l.fullName=l.user.fullName,l.officeType=l.user.officeType}}catch(r){i.e(r)}finally{i.f()}a=e.data.users,s=e.data.currentPage,n=e.data.totalItems}));case 5:return e.abrupt("return",Promise.resolve({data:a,page:s,totalCount:n}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOperationOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[{value:1,label:"View All Departments"},{value:2,label:"Add Agents To Departments"}],this.setState({operationOptions:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addToDepartmentClick",value:function(){if(0==this.selectedUserId.length)return this.showWarningToast("Please select atleast one user");this.setState({showDepartmentPopup:!0})}},{key:"onCloseDepartmentPopup",value:function(){this.setState({showDepartmentPopup:!1})}},{key:"updateAgentMapping",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={userIds:this.selectedUserId,departmentId:this.state.selectedDepartmentId,createdBy:null,updatedBy:this.state.userId},e.next=3,Te.saveUpdateDepartmentMapping(t).then((function(e){a.showSuccessToast("Agent updated successfully"),a.setState({showDepartmentPopup:!1}),a.selectedUserId=[],a.filterTickets()}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({selectedDepartmentId:t.value});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDepartmentOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllDepartments();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.departmentName}})),this.setState({departmentOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUserSelectionChange",value:function(e){var t,a=[],s=Object(Ae.a)(e);try{for(s.s();!(t=s.n()).done;){var n=t.value;a.push(n.userId)}}catch(i){s.e(i)}finally{s.f()}this.selectedUserId=a}},{key:"filterTickets",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tableRef.current.state.query.page=0,this.tableRef.current.state.query.pageSize=20,this.tableRef.current&&this.tableRef.current.onQueryChange();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{id:"test",children:[Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"Agents Mapping"})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)(n.Fragment,{children:[Object(s.jsxs)(nt.a,{children:["/ticket"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/ticket",children:"My Tickets"}),"/departmentsList"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/departmentsList",children:"All Departments"}),Object(s.jsx)(nt.a.Item,{active:!0,children:this.state.departmentName+" Department"})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select operation"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.operationOptions,onChange:this.onChangeOperation.bind(this),placeholder:"Select operation"})]}),Object(s.jsxs)(ze.a,{xs:3,md:6,lg:6,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Change Status"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.addToDepartmentClick,children:"Change Department"})]}),Object(s.jsxs)(ze.a,{xs:3,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Export"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export"})]})]})]}),Object(s.jsx)(We.a,{title:"Agents in ".concat(this.state.departmentName," Department"),columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{search:!0,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!0,maxBodyHeight:"450px",padding:"dense",pageSize:20,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1,actionsColumnIndex:-1},onSelectionChange:function(t){e.onUserSelectionChange(t)}}),Object(s.jsx)("div",{children:Object(s.jsxs)(it.a,{show:this.state.showDepartmentPopup,onHide:this.onCloseDepartmentPopup,keyboard:!0,backdrop:"static",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0,children:Object(s.jsx)(it.a.Title,{style:{color:"#26568e"},children:"Update Agent Mapping"})}),Object(s.jsx)(it.a.Body,{children:Object(s.jsx)(Fe.a,{children:Object(s.jsxs)(Fe.a.Group,{controlId:"departmentName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select Department"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.departmentOptions,placeholder:"Select a Department",onChange:this.onChangeDepartment.bind(this)})]})})}),Object(s.jsx)(it.a.Footer,{children:Object(s.jsx)(Je.a,{variant:"success",onClick:this.updateAgentMapping,children:"Submit"})})]})})]})]})}}]),a}(n.Component),yt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).tableRef=i.a.createRef(),s.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.onChangeOperation=s.onChangeOperation.bind(Object(Ie.a)(s)),s.remoteData=s.remoteData.bind(Object(Ie.a)(s)),s.exportData=s.exportData.bind(Object(Ie.a)(s)),s.savePageLocation=s.savePageLocation.bind(Object(Ie.a)(s)),s.state={operationOptions:[]},s.columns=[{title:"Department Name",field:"departmentName"}],s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getOperationOptions()}},{key:"onChangeOperation",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t.value?console.log(t):2===t.value&&this.props.history.push("/unassociatedAgentsList");case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOperationOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[{value:1,label:"View All Departments"},{value:2,label:"Add Agents To Departments"}],this.setState({operationOptions:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssociatedAgents",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.savePageLocation(),this.props.history.push("/viewDepartmentAssociatedAgents/?id=".concat(t,"&departmentName=").concat(a));case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.orderDirection,l=void 0,t.orderBy&&(l=t.orderBy.field),e.next=5,Te.getAllDepartmentsWithPagination(t.pageSize,t.page,i,l).then((function(e){a=e.data.tickets,s=e.data.currentPage,n=e.data.totalItems}));case 5:return e.abrupt("return",Promise.resolve({data:a,page:s,totalCount:n}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.exportDataDownloadLink=xe+"/api/dataExport/downloadAllDepartmentsAssociatedAgents",window.location.href=this.state.exportDataDownloadLink;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"savePageLocation",value:function(){sessionStorage.setItem("previousPageLocation","/departmentsList")}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{id:"test",children:[Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"Agents Mapping"})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)(n.Fragment,{children:[Object(s.jsxs)(nt.a,{children:[Object(s.jsx)(nt.a.Item,{href:"/agentMapping",children:"Agent Mapping"}),"/departmentsList"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/departmentsList",children:"All Departments"}),"/unassociatedAgentsList"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/unassociatedAgentsList",children:"Add Agents To Department"}),Object(s.jsx)(nt.a.Item,{active:!0,children:"Agents"})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select operation"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.operationOptions,value:{value:1,label:"View All Departments"},onChange:this.onChangeOperation.bind(this),placeholder:"Select operation"})]}),Object(s.jsx)(ze.a,{xs:12,md:1,lg:1}),Object(s.jsx)(ze.a,{xs:12,md:1,lg:1}),Object(s.jsx)(ze.a,{xs:12,md:1,lg:1}),Object(s.jsx)(ze.a,{xs:12,md:1,lg:1}),Object(s.jsx)(ze.a,{xs:12,md:1,lg:1}),Object(s.jsx)(ze.a,{xs:12,md:1,lg:1}),Object(s.jsx)(ze.a,{xs:12,md:1,lg:1}),Object(s.jsxs)(ze.a,{xs:12,md:1,lg:1,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Export"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export"})]})]})]}),Object(s.jsx)(We.a,{title:"All Departments",columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{search:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1,actionsColumnIndex:-1},actions:[{icon:"people",tooltip:"View Agents",position:"auto",onClick:function(t,a){return e.getAssociatedAgents(a.id,a.departmentName)}}]})]})]})}}]),a}(n.Component),St=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).tableRef=i.a.createRef(),s.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.onChangeOperation=s.onChangeOperation.bind(Object(Ie.a)(s)),s.remoteData=s.remoteData.bind(Object(Ie.a)(s)),s.onChangeDepartment=s.onChangeDepartment.bind(Object(Ie.a)(s)),s.addToDepartmentClick=s.addToDepartmentClick.bind(Object(Ie.a)(s)),s.onCloseDepartmentPopup=s.onCloseDepartmentPopup.bind(Object(Ie.a)(s)),s.updateAgentMapping=s.updateAgentMapping.bind(Object(Ie.a)(s)),s.state={operationOptions:[],departmentOptions:[],showDepartmentPopup:!1,userId:void 0},s.columns=[{title:"Email",field:"email"},{title:"FullName",field:"fullName"},{title:"Mobile",field:"mobile"},{title:"Office Type",field:"officeType"},{title:"Designation",field:"designation"},{title:"EmployeeId",field:"employeeId"}],s.selectedUserId=[],s.state.userId=sessionStorage.getItem("userId"),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getOperationOptions(),this.getDepartmentOptions()}},{key:"onChangeOperation",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t.value?(console.log(t),this.props.history.push("/departmentsList")):2===t.value&&(console.log(t),this.props.history.push("/unassociatedAgentsList"));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.orderDirection,l=void 0,t.orderBy&&(l=t.orderBy.field),e.next=5,Te.getAllUnassociatedAgentsList(t.pageSize,t.page,t.search,i,l).then((function(e){var t,i=Object(Ae.a)(e.data.response.users);try{for(i.s();!(t=i.n()).done;){var l=t.value;l.email=l.email,l.mobile=l.mobile,l.designation=l.designation,l.employeeId=l.employeeId,l.fullName=l.fullName,l.officeType=l.officeType}}catch(r){i.e(r)}finally{i.f()}a=e.data.response.users,s=e.data.response.currentPage,n=e.data.response.totalItems}));case 5:return e.abrupt("return",Promise.resolve({data:a,page:s,totalCount:n}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOperationOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[{value:1,label:"View All Departments"},{value:2,label:"Add Agents To Departments"}],this.setState({operationOptions:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addToDepartmentClick",value:function(){if(0==this.selectedUserId.length)return this.showWarningToast("Please select atleast one user");this.setState({showDepartmentPopup:!0})}},{key:"onCloseDepartmentPopup",value:function(){this.setState({showDepartmentPopup:!1})}},{key:"updateAgentMapping",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={userIds:this.selectedUserId,departmentId:this.state.selectedDepartmentId,createdBy:this.state.userId,updatedBy:this.state.userId},e.next=3,Te.saveUpdateDepartmentMapping(t).then((function(e){a.showSuccessToast("Agent updated successfully"),a.setState({showDepartmentPopup:!1}),a.selectedUserId=[],a.filterTickets()}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({selectedDepartmentId:t.value});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDepartmentOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllDepartments();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.departmentName}})),this.setState({departmentOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUserSelectionChange",value:function(e){var t,a=[],s=Object(Ae.a)(e);try{for(s.s();!(t=s.n()).done;){var n=t.value;a.push(n.id)}}catch(i){s.e(i)}finally{s.f()}this.selectedUserId=a}},{key:"filterTickets",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tableRef.current.state.query.page=0,this.tableRef.current.state.query.pageSize=20,this.tableRef.current&&this.tableRef.current.onQueryChange();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{id:"test",children:[Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"Agents Mapping"})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)(n.Fragment,{children:[Object(s.jsxs)(nt.a,{children:[Object(s.jsx)(nt.a.Item,{href:"/agentMapping",children:"Agent Mapping"}),"/departmentsList"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/departmentsList",children:"All Departments"}),"/unassociatedAgentsList"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/unassociatedAgentsList",children:"Add Agents To Department"}),Object(s.jsx)(nt.a.Item,{active:!0,children:"Agents"})]}),Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select operation"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.operationOptions,value:{value:2,label:"Add Agents To Departments"},onChange:this.onChangeOperation.bind(this),placeholder:"Select operation"})]}),Object(s.jsxs)(ze.a,{xs:3,md:8,lg:8,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Change Status"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.addToDepartmentClick,children:"Add To Department"})]})]})]}),Object(s.jsx)(We.a,{title:"Unassociated Agents",columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{search:!0,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!0,maxBodyHeight:"450px",padding:"dense",pageSize:20,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1,actionsColumnIndex:-1},onSelectionChange:function(t){e.onUserSelectionChange(t)}}),Object(s.jsx)("div",{children:Object(s.jsxs)(it.a,{show:this.state.showDepartmentPopup,onHide:this.onCloseDepartmentPopup,keyboard:!0,backdrop:"static",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0,children:Object(s.jsx)(it.a.Title,{style:{color:"#26568e"},children:"Update Agent Mapping"})}),Object(s.jsx)(it.a.Body,{children:Object(s.jsx)(Fe.a,{children:Object(s.jsxs)(Fe.a.Group,{controlId:"departmentName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select Department"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.departmentOptions,placeholder:"Select a Department",onChange:this.onChangeDepartment.bind(this)})]})})}),Object(s.jsx)(it.a.Footer,{children:Object(s.jsx)(Je.a,{variant:"success",onClick:this.updateAgentMapping,children:"Submit"})})]})})]})]})}}]),a}(n.Component),Tt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).tableRef=i.a.createRef(),n.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.clickAdd=n.clickAdd.bind(Object(Ie.a)(n)),n.remoteData=n.remoteData.bind(Object(Ie.a)(n)),n.savePageLocation=n.savePageLocation.bind(Object(Ie.a)(n)),n.exportData=n.exportData.bind(Object(Ie.a)(n)),n.state={locale:{format:"DD/MM/YYYY"}},n.columns=[{title:"Team Name",field:"teamName",render:function(e){return Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-users","aria-hidden":"true"}),"\xa0\xa0",Object(s.jsx)(m.b,{onClick:n.savePageLocation("/teamList"),to:"/addTeam/id:".concat(e.id),children:e.teamName})]})}},{title:"Created By",field:"createdBy"},{title:"Created Date",field:"createdAt"},{title:"Modified By",field:"updatedBy"},{title:"Modified Date",field:"updatedAt"}],n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"savePageLocation",value:function(e){sessionStorage.setItem("previousPageLocation",e)}},{key:"onTeamSelectionChange",value:function(e){console.log(e)}},{key:"clickAdd",value:function(){this.props.history.push("/addTeam")}},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n,i,l,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.orderDirection,r=void 0,t.orderBy&&(r=t.orderBy.field),e.next=5,Te.getAllTeams(t.pageSize,t.page,t.search,l,r).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,l,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,l=Object(Ae.a)(a.teams);try{for(l.s();!(r=l.n()).done;)(o=r.value).createdAt=Ke()(o.createdAt).format("DD/MM/YYYY hh:mm A"),o.updatedAt=Ke()(o.updatedAt).format("DD/MM/YYYY hh:mm A"),o.createdBy=o.createdByDetails.fullName,o.updatedBy=o.updatedByDetails.fullName}catch(c){l.e(c)}finally{l.f()}s=a.teams,n=a.currentPage,i=a.totalItems;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",Promise.resolve({data:s,page:n,totalCount:i}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.exportDataDownloadLink=xe+"/api/dataExport/downloadAllAdminTeams",window.location.href=this.state.exportDataDownloadLink;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{id:"test",children:Object(s.jsxs)("div",{style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"Teams"}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginLeft:"83%"},children:[Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right",marginLeft:"10px"},onClick:this.clickAdd,variant:"primary",type:"submit",children:"Add Team"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right",marginLeft:"10px"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export"})]}),Object(s.jsx)(We.a,{title:"Teams List",columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,localization:{toolbar:{searchPlaceholder:"Enter Team Name"}},options:{exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,search:!0,padding:"dense",pageSize:8,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},onSelectionChange:function(t){e.onTeamSelectionChange(t)}})]})]})})}}]),a}(n.Component),kt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;if(Object(h.a)(this,a),(s=t.call(this,e)).showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.onChangeDepartment=s.onChangeDepartment.bind(Object(Ie.a)(s)),s.onChangeTeamLead=s.onChangeTeamLead.bind(Object(Ie.a)(s)),s.onChangeTeamName=s.onChangeTeamName.bind(Object(Ie.a)(s)),s.saveUpdateTeam=s.saveUpdateTeam.bind(Object(Ie.a)(s)),s.deleteTeam=s.deleteTeam.bind(Object(Ie.a)(s)),s.cancelClick=s.cancelClick.bind(Object(Ie.a)(s)),s.state={agentOptions:[],teamLeadOptions:[],teamName:void 0,teamId:void 0,selectedDepartment:void 0,selectedTeamLeads:[],selectedAgents:[],locale:{format:"DD/MM/YYYY"},departmentOptions:[],showDepartmentDropdown:!1,userId:void 0},s.isViewMode=!1,window.location.href.includes("/id:")){var n=window.location.href.split("/id:")[1];s.state.teamId=n,s.isViewMode=!0}return s.state.userId=sessionStorage.getItem("userId"),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getDepartmentOptions(),this.getAllTeamLeads(),this.state.teamId&&this.getTeamById()}},{key:"onChangeAgent",value:function(e){this.setState({selectedAgents:e})}},{key:"onChangeTeamLead",value:function(e){this.setState({selectedTeamLeads:e})}},{key:"onChangeTeamName",value:function(e){this.setState({teamName:e.target.value})}},{key:"onChangeDepartment",value:function(e){this.setState({agentOptions:[]}),console.log(e),this.setState({selectedDepartment:e});var t,a=Object(Ae.a)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;this.getAllDepartmentAssoAgents(s.value)}}catch(n){a.e(n)}finally{a.f()}this.setState({showDepartmentDropdown:!0})}},{key:"saveUpdateTeam",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o,d,h=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.state.teamName&&0!==this.state.selectedTeamLeads.length&&0!==this.state.selectedAgents.length&&void 0!==this.state.selectedDepartment){e.next=2;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 2:t=[],a=[],s=Object(Ae.a)(this.state.selectedTeamLeads);try{for(s.s();!(n=s.n()).done;)i=n.value,t.push(i.value)}catch(c){s.e(c)}finally{s.f()}l=Object(Ae.a)(this.state.selectedAgents);try{for(l.s();!(r=l.n()).done;)o=r.value,a.push({depId:o.departmentId,userId:o.value})}catch(c){l.e(c)}finally{l.f()}if(d={},!this.state.teamId){e.next=15;break}return d={id:this.state.teamId,teamName:this.state.teamName,teamLeads:t,agentsMap:a,createdBy:this.state.userId,updatedBy:this.state.userId},e.next=13,Te.saveUpdateTeam(d).then((function(e){e.data.success?(h.showSuccessToast(e.data.message),h.props.history.push("/teamList")):h.showErrorToast(e.data.message)}));case 13:e.next=18;break;case 15:return d={teamName:this.state.teamName,teamLeads:t,agentsMap:a,createdBy:this.state.userId,updatedBy:this.state.userId},e.next=18,Te.saveUpdateTeam(d).then((function(e){e.data.success?(h.showSuccessToast(e.data.message),h.props.history.push("/teamList")):h.showErrorToast(e.data.message)}));case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancelClick",value:function(){this.props.history.push("/teamList")}},{key:"deleteTeam",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={teamId:this.state.teamId},e.next=3,Te.deleteTeamById(t);case 3:!0===(a=e.sent).data.success?(this.showSuccessToast(a.data.message),this.props.history.push("/teamList")):this.showErrorToast(a.data.message);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllDepartmentAssoAgents",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getDepartmentAssociatedAgents(500,0,void 0,void 0,void 0,t);case 2:a=e.sent,s=a.data.users,n=s.map((function(e){return{value:e.user.id,label:e.user.fullName+"<".concat(e.user.email,">"),departmentId:t}})),i=this.state.agentOptions,l=i.concat(n),this.setState({agentOptions:l});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllTeamLeads",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllTeamLeadUsers();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.fullName+"<".concat(e.email,">")}})),this.setState({teamLeadOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDepartmentOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllDepartments();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.departmentName}})),this.setState({departmentOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTeamById",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={teamId:this.state.teamId},e.next=3,Te.getTeamById(t);case 3:a=e.sent,this.setState({showDepartmentDropdown:!0}),this.setState({teamName:a.data.teamName}),this.setState({selectedTeamLeads:a.data.selectedTeamLeads}),this.setState({selectedAgents:a.data.selectedAgents}),this.setState({selectedDepartment:a.data.selectedDepartment}),s=Object(Ae.a)(a.data.selectedDepartment);try{for(s.s();!(n=s.n()).done;)i=n.value,this.getAllDepartmentAssoAgents(i.value)}catch(l){s.e(l)}finally{s.f()}case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)("div",{id:"test",children:Object(s.jsxs)("div",{style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:this.isViewMode?"View Team":"Add Team"}),Object(s.jsxs)("div",{className:"shadow p-3 mb-5 rounded",style:{minHeight:"450px"},children:[Object(s.jsxs)(nt.a,{children:["/teamList"===sessionStorage.getItem("previousPageLocation")&&Object(s.jsx)(nt.a.Item,{href:"/teamList",children:"Teams List"}),Object(s.jsx)(nt.a.Item,{active:!0,children:this.state.teamName})]}),Object(s.jsxs)(Fe.a,{children:[Object(s.jsxs)(Fe.a.Group,{as:Ye.a,className:"mb-3",controlId:"formPlainTeamName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",column:!0,sm:"2",children:"Team Name"}),Object(s.jsx)(ze.a,{sm:"10",children:Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Team Name",value:this.state.teamName,onChange:this.onChangeTeamName})})]}),Object(s.jsxs)(Fe.a.Group,{as:Ye.a,className:"mb-3",controlId:"formPlainTeamLead",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",column:!0,sm:"2",children:"Team Lead"}),Object(s.jsx)(ze.a,{sm:"10",children:Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.teamLeadOptions,value:this.state.selectedTeamLeads,isMulti:!0,onChange:this.onChangeTeamLead.bind(this),placeholder:"Select Team Lead"})})]}),Object(s.jsxs)(Fe.a.Group,{as:Ye.a,className:"mb-3",controlId:"formPlainTeamLead",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",column:!0,sm:"2",children:"Select Department"}),Object(s.jsx)(ze.a,{sm:"10",children:Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},isMulti:!0,options:this.state.departmentOptions,value:this.state.selectedDepartment,onChange:this.onChangeDepartment.bind(this),placeholder:"Select Department"})})]}),Object(s.jsx)(Fe.a.Group,{as:Ye.a,className:"mb-3",controlId:"formPlainTeamLead",children:this.state.showDepartmentDropdown&&Object(s.jsxs)(n.Fragment,{children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",column:!0,sm:"2",children:"Agents"}),Object(s.jsx)(ze.a,{sm:"10",children:Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.agentOptions,isMulti:!0,value:this.state.selectedAgents,onChange:this.onChangeAgent.bind(this),placeholder:"Select Agents"})})]})})]}),Object(s.jsxs)("div",{style:{marginTop:"100px"},children:[this.isViewMode&&Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right",margin:"10px"},variant:"primary",onClick:this.deleteTeam,type:"submit",children:"Delete"}),!this.isViewMode&&Object(s.jsx)(Je.a,{type:"button",className:"btn btn-success",onClick:this.saveUpdateTeam,style:{float:"right",margin:"10px"},children:"Save"}),this.isViewMode&&Object(s.jsx)(Je.a,{type:"button",className:"btn btn-success",onClick:this.saveUpdateTeam,style:{float:"right",margin:"10px"},children:"Update"}),Object(s.jsx)(Je.a,{type:"button",className:"btn btn-warning",onClick:this.cancelClick,style:{float:"right",margin:"10px"},children:"Cancel"})]})]})]})})}}]),a}(n.Component),Dt=a(486),wt=a(816),Ct=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).tableRef=i.a.createRef(),n.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.onChangeNestedTickets=function(){!0===n.state.showNestedTickets?(n.setState({showNestedTickets:!1}),n.refreshTableData()):(n.setState({showNestedTickets:!0}),n.refreshTableData())},n.onAssigneeNameChange=function(e){e&&(n.createUserSettingsArray(de,e),n.setState({selectedAssigneeOption:e}),n.setState({assigneeId:e.value}))},n.fetchAssigneeName=function(e,t){e?setTimeout((function(){fetch(xe+"/api/user/findByUserName/?fullName=".concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=[];e.forEach((function(e){a.push({label:"".concat(e.fullName,"<").concat(e.email,">"),value:e.id})})),t(a)})).catch((function(e){console.log(e,"catch the hoop")}))})):t([])},n.onChangeTeam=n.onChangeTeam.bind(Object(Ie.a)(n)),n.remoteData=n.remoteData.bind(Object(Ie.a)(n)),n.refreshTableData=n.refreshTableData.bind(Object(Ie.a)(n)),n.onChangeFilteringTicketStatus=n.onChangeFilteringTicketStatus.bind(Object(Ie.a)(n)),n.handleDateRangeChange=n.handleDateRangeChange.bind(Object(Ie.a)(n)),n.onChangeDepartment=n.onChangeDepartment.bind(Object(Ie.a)(n)),n.saveFilterSetting=n.saveFilterSetting.bind(Object(Ie.a)(n)),n.clearFilterSetting=n.clearFilterSetting.bind(Object(Ie.a)(n)),n.onChangeHelpTopic=n.onChangeHelpTopic.bind(Object(Ie.a)(n)),n.onAssigneeNameChange=n.onAssigneeNameChange.bind(Object(Ie.a)(n)),n.onChangeOverDue=n.onChangeOverDue.bind(Object(Ie.a)(n)),n.handleClosedDateRangeChange=n.handleClosedDateRangeChange.bind(Object(Ie.a)(n)),n.savePageLocation=n.savePageLocation.bind(Object(Ie.a)(n)),n.exportData=n.exportData.bind(Object(Ie.a)(n)),n.filterTickets=n.filterTickets.bind(Object(Ie.a)(n)),n.showClosedDataRange=!1,n.showTable=!1,n.state={userId:void 0,selectedTeamId:void 0,selectedTeamName:void 0,showNestedTickets:!1,userTeams:[],filteringTicketStatusOptions:[],departmentOptions:[],overDueOptions:[],start:Ke()().subtract(29,"days"),end:Ke()(),closedStart:Ke()().subtract(29,"days"),closedEnd:Ke()(),locale:{format:"DD/MM/YYYY"},exportDataDownloadLink:"",helpTopicOptions:[],selectedAssigneeOption:{},userFilterSettings:[],defaultTicketStatus:[],defaultDepartmentFilter:{},renderData:!1,defaultOverdueFilter:{},defaultHelptopicFilter:{},depId:"",assigneeId:void 0,defaultSelectedTeam:void 0},n.columns=[{title:"Ticket Number",field:"id",render:function(e){return Object(s.jsx)(m.b,{to:"/viewTicket/id:".concat(e.id),onClick:n.savePageLocation,children:e.id})}},{title:"Created Date",field:"initialCreatedDate"},{title:"Subject",field:"subject"},{title:"From",field:"fullName"},{title:"Mobile",field:"userMobile"},{title:"Assignee",field:"assigneeFullName"},{title:"Branch",field:"branch"},{title:"Sch/Col",field:"schCol"},{title:"Ticket Status",field:"ticketStatus"},{title:"Department",field:"departmentName"},{title:"Helptopic",field:"helptopicName"},{title:"Initial Due Date",field:"level1DueDate"},{title:"Closed Date",field:"closedDate"},{title:"Closed By",field:"closedBy"},{title:"OverDue",field:"isTicketOverdue"},{title:"Satisfactory",field:"ticketSatisfaction"}],n.state.userId=sessionStorage.getItem("userId"),n.filterTicketStatus=[],n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getAllTeamsOfUser(),this.getFilteringTicketStatus(),this.getDepartmentOptions(),this.getOverDueOptions(),this.getUserFilterSettings()}},{key:"savePageLocation",value:function(){sessionStorage.setItem("previousPageLocation","/myTeams"),sessionStorage.setItem("previousSelectedTeamId",this.state.selectedTeamId)}},{key:"getDepartmentOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllDepartments();case 2:t=e.sent,a=t.data,(s=a.map((function(e){return{value:e.id,label:e.departmentName}}))).push({value:"All",label:"All"}),this.setState({departmentOptions:s});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.createUserSettingsArray(oe,t),this.setState({topicId:void 0,topicName:void 0}),this.setState({assigneeFullName:"",assigneeId:""}),a={departmentId:t.value},e.next=6,Te.getAllHelpTopicByDepartmentId(a);case 6:s=e.sent,n=s.data,i=n.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:i}),this.setState({depId:t.value,deptName:t.label});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDateRangeChange",value:function(e,t){this.createUserSettingsArray(re,t),this.setState({start:t.startDate}),this.setState({end:t.endDate})}},{key:"handleClosedDateRangeChange",value:function(e,t){this.createUserSettingsArray(ue,t),this.setState({closedStart:t.startDate}),this.setState({closedEnd:t.endDate})}},{key:"onChangeTeam",value:function(e){this.setState({selectedTeamId:e.value}),this.setState({selectedTeamName:e.label}),this.setState({defaultSelectedTeam:{label:e.label,value:e.value}}),this.showTable=!0}},{key:"onChangeFilteringTicketStatus",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,d,h,u,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.filterTicketStatus=[],null===t||0===t.length)this.filterTicketStatus=[],this.createUserSettingsArray(le,null);else{a=Object(Ae.a)(t);try{for(a.s();!(s=a.n()).done;)n=s.value,this.filterTicketStatus.push(n.label)}catch(c){a.e(c)}finally{a.f()}i=[],l=Object(Ae.a)(this.state.defaultTicketStatus);try{for(l.s();!(r=l.n()).done;)o=r.value,i.push(o.label)}catch(c){l.e(c)}finally{l.f()}if(this.filterTicketStatus.includes("All")&&!i.includes("All"))this.setState({defaultTicketStatus:this.state.filteringTicketStatusOptions}),this.createUserSettingsArray(le,this.state.filteringTicketStatusOptions);else if(!this.filterTicketStatus.includes("All")&&i.includes("All"))this.setState({defaultTicketStatus:[]}),this.createUserSettingsArray(le,[]);else if(this.filterTicketStatus.includes("All")&&this.filterTicketStatus.length<=14&&i.includes("All")&&i.length<=15){d=[],h=Object(Ae.a)(t);try{for(h.s();!(u=h.n()).done;)"All"==(b=u.value).label||d.push(b)}catch(c){h.e(c)}finally{h.f()}this.setState({defaultTicketStatus:d}),this.createUserSettingsArray(le,d)}else this.filterTicketStatus.includes("All")||13!=i.length||14!=this.filterTicketStatus.length?!this.filterTicketStatus.includes("Open")||this.filterTicketStatus.includes("Resolved","Closed")||i.includes("Open")?(this.setState({defaultTicketStatus:t}),this.createUserSettingsArray(le,t)):((p=[]).push({value:2,label:"Open"},{value:3,label:"Awaiting for user response"},{value:4,label:"Assigned to an engineer"},{value:5,label:"Indent at Branch approval"},{value:6,label:"Indent at DM approval"},{value:7,label:"Indent at CO approval"},{value:8,label:"Branch dependent"},{value:9,label:"Warehouse dependent"},{value:10,label:"Vendor dependent"},{value:11,label:"Work in progress"},{value:12,label:"Escalated to Next level"},{value:15,label:"Re-Open"}),this.setState({defaultTicketStatus:p}),this.createUserSettingsArray(le,p)):(this.setState({defaultTicketStatus:this.state.filteringTicketStatusOptions}),this.createUserSettingsArray(le,this.state.filteringTicketStatusOptions))}this.filterTicketStatus.includes("Closed")?this.showClosedDataRange=!0:this.showClosedDataRange=!1;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllTeamsOfUser",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("previousSelectedTeamId"),a={teamLeadId:this.state.userId},e.next=4,Te.getAllTeamsOfLead(a);case 4:s=e.sent,n=s.data.data,i=[],l=Object(Ae.a)(n);try{for(l.s();!(r=l.n()).done;)o=r.value,void 0!==t&&o.id==t&&(this.setState({defaultSelectedTeam:{value:o.id,label:o.teamName}}),this.setState({selectedTeamId:o.id}),this.setState({selectedTeamName:o.teamName}),this.showTable=!0,this.refreshTableData()),i.push({value:o.id,label:o.teamName})}catch(c){l.e(c)}finally{l.f()}this.setState({userTeams:i});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveFilterSetting",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.saveFilterSettings(this.state.userFilterSettings).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOverDueOptions",value:function(){this.setState({overDueOptions:[{value:1,label:"Yes"},{value:2,label:"No"}]})}},{key:"onChangeOverDue",value:function(e){this.createUserSettingsArray(he,e),this.setState({overdue:e.label})}},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n,i,l,r,o,h,u,b,p,m,g,j,f,O,v,x=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=this.state.selectedTeamId,r=this.state.showNestedTickets,o=this.filterTicketStatus,h=this.state.depId,u=this.state.topicId,b=this.state.assigneeId,p=this.state.overdue,m=t.orderDirection,g=void 0,t.orderBy&&(g=t.orderBy.field),(j=new Date(this.state.start)).setHours(0,0,0,0),j=j.toISOString(),(f=new Date(this.state.end)).setHours(23,59,59,999),f=f.toISOString(),O=void 0,v=void 0,this.showClosedDataRange?((O=new Date(this.state.closedStart)).setHours(0,0,0,0),O=O.toISOString(),(v=new Date(this.state.closedEnd)).setHours(23,59,59,999),v=v.toISOString()):(O=void 0,v=void 0),e.next=21,Te.getAllTicketsByTeamId(t.pageSize,t.page,t.search,m,g,l,r,h,o,j,f,u,b,p,O,v,this.state.userId).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,l,r,o,d,h,u,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,l=Object(Ae.a)(a.teams);try{for(l.s();!(r=l.n()).done;)(o=r.value).initialCreatedDate=Ke()(o.initialCreatedDate).format("DD/MM/YYYY hh:mm A"),o.departmentName=o.department.departmentName,o.userMobile=o.user.mobile,o.closedBy=o.closedBy,o.helptopicName=o.helptopic.helpTopicName,o.isTicketOverdue=o.isTicketOverdue,o.ticketSatisfaction=o.ticketSatisfaction,null!==o.level1DueDate&&(o.level1DueDate=Ke()(o.level1SlaDue).format("DD/MM/YYYY hh:mm A")),null!==o.closedDate&&(o.closedDate=Ke()(o.closedDate).format("DD/MM/YYYY hh:mm A"))}catch(c){l.e(c)}finally{l.f()}d=Object(Ae.a)(a.teams);try{for(d.s();!(h=d.n()).done;)for(o=h.value,u=0,b=Object.entries(o.dynamicFormJson);u<b.length;u++)p=b[u],"_","",p[0].toString().toLowerCase().split("_").join("").includes("issuesummary")&&(o.subject=p[1])}catch(c){d.e(c)}finally{d.f()}s=a.teams,n=a.currentPage,i=a.totalItems,x.setState({currentPageTickets:a.teams});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 21:return e.abrupt("return",Promise.resolve({data:s,page:n,totalCount:i}));case 22:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createUserSettingsArray",value:function(e,t){switch(e){case le:if(null===t){var a={userId:this.state.userId,settingType:ne,settingValue:null,settingName:e};this.state.userFilterSettings.push(a),this.saveFilterSetting()}else{var s,n=[],i=Object(Ae.a)(t);try{for(i.s();!(s=i.n()).done;){var l=s.value,r={value:l.value,label:l.label};n.push(r)}}catch(m){i.e(m)}finally{i.f()}var o={userId:this.state.userId,settingType:ne,settingValue:n,settingName:e};this.state.userFilterSettings.push(o),this.saveFilterSetting()}break;case oe:var c={userId:this.state.userId,settingType:ne,settingValue:t,settingName:e};this.state.userFilterSettings.push(c),this.saveFilterSetting();break;case de:var d={userId:this.state.userId,settingType:ne,settingValue:t,settingName:e};this.state.userFilterSettings.push(d),this.saveFilterSetting();break;case ce:var h={userId:this.state.userId,settingType:ne,settingValue:t,settingName:e};this.state.userFilterSettings.push(h),this.saveFilterSetting();break;case he:var u={userId:this.state.userId,settingType:ne,settingValue:t,settingName:e};this.state.userFilterSettings.push(u),this.saveFilterSetting();break;case re:var b={userId:this.state.userId,settingType:ne,settingValue:{startDate:t.startDate,endDate:t.endDate},settingName:e};this.state.userFilterSettings.push(b),this.saveFilterSetting();break;case ue:var p={userId:this.state.userId,settingType:ne,settingValue:{closedStart:t.startDate,closedEnd:t.endDate},settingName:e};this.state.userFilterSettings.push(p),this.saveFilterSetting()}}},{key:"getHelpTopicByDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={departmentId:t},e.next=3,Te.getAllHelpTopicByDepartmentId(a);case 3:s=e.sent,n=s.data.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserFilterSettings",value:function(){var e=this,t={settingType:ne,userId:this.state.userId};Te.getUserSettingsByType(t).then((function(t){if(e.setState({userFilterSettings:t.data.data}),t.data.data){var a,s=Object(Ae.a)(t.data.data);try{for(s.s();!(a=s.n()).done;){var n=a.value;switch(n.settingName){case le:e.setState({defaultTicketStatus:n.settingValue});var i,l=Object(Ae.a)(n.settingValue);try{for(l.s();!(i=l.n()).done;){var r=i.value;e.filterTicketStatus.push(r.label),"Closed"===r.label?e.showClosedDataRange=!0:e.showClosedDataRange=!1}}catch(o){l.e(o)}finally{l.f()}break;case oe:e.setState({defaultDepartmentFilter:n.settingValue}),e.setState({depId:n.settingValue.value,deptName:n.settingValue.label}),e.getHelpTopicByDepartment(n.settingValue.value);break;case ce:e.setState({defaultHelptopicFilter:n.settingValue}),e.setState({topicId:n.settingValue.value,topicName:n.settingValue.label});break;case he:e.setState({defaultOverdueFilter:n.settingValue}),e.setState({overdue:n.settingValue.label});break;case re:e.setState({start:Ke()(n.settingValue.startDate)}),e.setState({end:Ke()(n.settingValue.endDate)});break;case ue:e.setState({closedStart:Ke()(n.settingValue.closedStart)}),e.setState({closedEnd:Ke()(n.settingValue.closedEnd)});break;case de:e.setState({selectedAssigneeOption:n.settingValue}),e.setState({assigneeId:n.settingValue.value})}}}catch(o){s.e(o)}finally{s.f()}}e.setState({renderData:!0}),e.filterTickets()}))}},{key:"getFilteringTicketStatus",value:function(){this.setState({filteringTicketStatusOptions:[{value:1,label:"All"},{value:2,label:"Open"},{value:3,label:"Awaiting for user response"},{value:4,label:"Assigned to an engineer"},{value:5,label:"Indent at Branch approval"},{value:6,label:"Indent at DM approval"},{value:7,label:"Indent at CO approval"},{value:8,label:"Branch dependent"},{value:9,label:"Warehouse dependent"},{value:10,label:"Vendor dependent"},{value:11,label:"Work in progress"},{value:12,label:"Escalated to Next level"},{value:13,label:"Resolved"},{value:14,label:"Closed"},{value:15,label:"Re-Open"}]})}},{key:"clearFilterSetting",value:function(){var e=this,t={settingType:ne,userId:this.state.userId};Te.clearUserSettings(t).then((function(t){e.showSuccessToast(fe),window.location.reload()}))}},{key:"filterTickets",value:function(){this.refreshTableData()}},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o,d,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.depId,a=this.filterTicketStatus,s=this.state.topicId,n=this.state.assigneeId,i=this.state.selectedTeamId,l=this.state.showNestedTickets,(r=new Date(this.state.start)).setHours(0,0,0,0),r=r.toISOString(),(o=new Date(this.state.end)).setHours(23,59,59,999),o=o.toISOString(),d=void 0,h=void 0,this.showClosedDataRange?((d=new Date(this.state.closedStart)).setHours(0,0,0,0),d=d.toISOString(),(h=new Date(this.state.closedEnd)).setHours(23,59,59,999),h=h.toISOString()):(d=void 0,h=void 0),this.state.exportDataDownloadLink=xe+"/api/dataExport/downloadMyTeamTickets/?departmentId=".concat(t,"&ticketStatus=").concat(a,"&startDate=").concat(r,"&endDate=").concat(o,"&helpTopicId=").concat(s,"&assigneeId=").concat(n,"&isTicketOverdue=").concat(this.state.overdue,"&closedStartDate=").concat(d,"&closedEndDate=").concat(h,"&teamId=").concat(i,"&showNestedTickets=").concat(l,"&userId=").concat(this.state.userId),window.location.href=this.state.exportDataDownloadLink;case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refreshTableData",value:function(){null!==this.tableRef.current&&(this.tableRef.current.state.query.page=0,this.tableRef.current.state.query.pageSize=20,this.tableRef.current&&this.tableRef.current.onQueryChange())}},{key:"onChangeHelpTopic",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.createUserSettingsArray(ce,t),this.setState({topicId:t.value,topicName:t.label});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHelpTopicOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllHelpTopics();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{id:"test",children:[Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"My Teams"})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)(n.Fragment,{children:[!0===this.showTable&&Object(s.jsxs)(nt.a,{children:[Object(s.jsx)(nt.a.Item,{href:"/myTeams",children:"My Teams"}),Object(s.jsx)(nt.a.Item,{active:!0,children:"Team Tickets"})]}),Object(s.jsx)(Ye.a,{children:Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select Team"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.userTeams,onChange:this.onChangeTeam.bind(this),value:this.state.defaultSelectedTeam,placeholder:"Select Team"})]})}),this.showTable&&Object(s.jsxs)("div",{children:[Object(s.jsxs)(n.Fragment,{children:[Object(s.jsxs)(Ye.a,{children:[Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select Status"}),Object(s.jsx)(Xe.a,{onChange:function(t){e.onChangeFilteringTicketStatus(t)},value:this.state.defaultTicketStatus,placeholderButtonLabel:"Select Status",width:"400px",options:this.state.filteringTicketStatusOptions})]}),Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Created Date Range"}),Object(s.jsx)("br",{}),Object(s.jsx)(Qe.a,{onEvent:this.handleDateRangeChange.bind(),initialSettings:{locale:this.state.locale,startDate:this.state.start.toDate(),endDate:this.state.end.toDate(),ranges:{Today:[Ke()().toDate(),Ke()().toDate()],Yesterday:[Ke()().subtract(1,"days").toDate(),Ke()().subtract(1,"days").toDate()],"Last 7 Days":[Ke()().subtract(6,"days").toDate(),Ke()().toDate()],"Last 30 Days":[Ke()().subtract(29,"days").toDate(),Ke()().toDate()],"This Month":[Ke()().startOf("month").toDate(),Ke()().endOf("month").toDate()],"Last Month":[Ke()().subtract(1,"month").startOf("month").toDate(),Ke()().subtract(1,"month").endOf("month").toDate()],"Last 3 Months":[Ke()().subtract(3,"month").startOf("month").toDate(),Ke()().toDate()],"Last 1 Year":[Ke()().subtract(12,"month").startOf("month").toDate(),Ke()().toDate()]}},children:Object(s.jsx)("input",{type:"text",className:"form-control"})})]}),Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Department"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},defaultValue:this.state.defaultDepartmentFilter,options:this.state.departmentOptions,onChange:this.onChangeDepartment.bind(this),placeholder:"Select department"})]})]}),Object(s.jsxs)(Ye.a,{style:{marginTop:"10px"},children:[Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select HelpTopic"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.helpTopicOptions,value:{value:this.state.topicId,label:this.state.topicName},defaultValue:this.state.defaultHelptopicFilter,onChange:this.onChangeHelpTopic.bind(this),placeholder:"Select HelpTopic"})]}),Object(s.jsx)(ze.a,{xs:12,md:4,lg:4,children:Object(s.jsxs)(Fe.a.Group,{controlId:"formBasicAssigneeName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Assignee Name"}),Object(s.jsx)(Ne.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},value:this.state.selectedAssigneeOption,loadOptions:this.fetchAssigneeName,placeholder:"Search Assignee Name",onChange:function(t){e.onAssigneeNameChange(t)}})]})}),Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"OverDue"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},defaultValue:this.state.defaultOverdueFilter,options:this.state.overDueOptions,onChange:this.onChangeOverDue.bind(this),placeholder:"Select overdue"})]})]}),Object(s.jsx)(Ye.a,{style:{marginTop:"10px"},children:!0===this.showClosedDataRange&&Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Closed Date Range"}),Object(s.jsx)("br",{}),Object(s.jsx)(Qe.a,{onEvent:this.handleClosedDateRangeChange.bind(),initialSettings:{locale:this.state.locale,startDate:this.state.closedStart.toDate(),endDate:this.state.closedEnd.toDate(),ranges:{Today:[Ke()().toDate(),Ke()().toDate()],Yesterday:[Ke()().subtract(1,"days").toDate(),Ke()().subtract(1,"days").toDate()],"Last 7 Days":[Ke()().subtract(6,"days").toDate(),Ke()().toDate()],"Last 30 Days":[Ke()().subtract(29,"days").toDate(),Ke()().toDate()],"This Month":[Ke()().startOf("month").toDate(),Ke()().endOf("month").toDate()],"Last Month":[Ke()().subtract(1,"month").startOf("month").toDate(),Ke()().subtract(1,"month").endOf("month").toDate()],"Last 3 Months":[Ke()().subtract(3,"month").startOf("month").toDate(),Ke()().toDate()],"Last 1 Year":[Ke()().subtract(12,"month").startOf("month").toDate(),Ke()().toDate()]}},children:Object(s.jsx)("input",{type:"text",className:"form-control"})})]})})]}),Object(s.jsxs)(Ye.a,{style:{marginBottom:"10px"},children:[Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Change Status"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143"},variant:"primary",type:"submit",onClick:this.filterTickets,children:"Filter Tickets"})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Change Status"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export Data"})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Clear Filter"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.clearFilterSetting,children:"Clear Filter"})]})]})]})]}),this.showTable&&Object(s.jsx)(We.a,{title:this.state.selectedTeamName+" TeamTickets",columns:this.columns,actions:[{icon:function(){return Object(s.jsx)(Dt.a,{value:"top",control:Object(s.jsx)(wt.a,{color:"primary",checked:e.state.showNestedTickets}),onChange:e.onChangeNestedTickets,label:"Nested Tickets",labelPlacement:"top"})},tooltip:"View nested level tickets of team leads",onClick:function(){return console.log("Clicked")},isFreeAction:!0}],data:this.remoteData.bind(),tableRef:this.tableRef,localization:{toolbar:{searchPlaceholder:"Enter TicketNo, Assignee Name, MobileNo"}},options:{exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,search:!0,padding:"dense",pageSize:20,maxBodyHeight:"450px",headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},onSelectionChange:function(t){e.onTeamSelectionChange(t)}})]})]})}}]),a}(n.Component),At=a(819),It=a(489),Ft=a(462),Nt=a(457),Pt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).tableRef=i.a.createRef(),s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.remoteData=s.remoteData.bind(Object(Ie.a)(s)),s.remoteData1=s.remoteData1.bind(Object(Ie.a)(s)),s.remoteData2=s.remoteData2.bind(Object(Ie.a)(s)),s.remoteData3=s.remoteData3.bind(Object(Ie.a)(s)),s.remoteData4=s.remoteData4.bind(Object(Ie.a)(s)),s.remoteData5=s.remoteData5.bind(Object(Ie.a)(s)),s.remoteData6=s.remoteData6.bind(Object(Ie.a)(s)),s.remoteData7=s.remoteData7.bind(Object(Ie.a)(s)),s.remoteData8=s.remoteData8.bind(Object(Ie.a)(s)),s.remoteData9=s.remoteData9.bind(Object(Ie.a)(s)),s.remoteData10=s.remoteData10.bind(Object(Ie.a)(s)),s.remoteData11=s.remoteData11.bind(Object(Ie.a)(s)),s.remoteData12=s.remoteData12.bind(Object(Ie.a)(s)),s.handleDateRangeChange=s.handleDateRangeChange.bind(Object(Ie.a)(s)),s.filterTickets=s.filterTickets.bind(Object(Ie.a)(s)),s.exportData=s.exportData.bind(Object(Ie.a)(s)),s.exportData1=s.exportData1.bind(Object(Ie.a)(s)),s.exportData2=s.exportData2.bind(Object(Ie.a)(s)),s.exportData3=s.exportData3.bind(Object(Ie.a)(s)),s.exportData4=s.exportData4.bind(Object(Ie.a)(s)),s.exportData5=s.exportData5.bind(Object(Ie.a)(s)),s.exportData6=s.exportData6.bind(Object(Ie.a)(s)),s.exportData7=s.exportData7.bind(Object(Ie.a)(s)),s.exportData8=s.exportData8.bind(Object(Ie.a)(s)),s.exportData9=s.exportData9.bind(Object(Ie.a)(s)),s.exportData10=s.exportData10.bind(Object(Ie.a)(s)),s.exportData11=s.exportData11.bind(Object(Ie.a)(s)),s.exportData12=s.exportData12.bind(Object(Ie.a)(s)),s.saveFilterSetting=s.saveFilterSetting.bind(Object(Ie.a)(s)),s.clearFilterSetting=s.clearFilterSetting.bind(Object(Ie.a)(s)),s.onChangeAnalyticView=s.onChangeAnalyticView.bind(Object(Ie.a)(s)),s.onChangeTeamAssociatedAgent=s.onChangeTeamAssociatedAgent.bind(Object(Ie.a)(s)),s.onChangeTeamLead=s.onChangeTeamLead.bind(Object(Ie.a)(s)),s.onCloseTable1PopUp=s.onCloseTable1PopUp.bind(Object(Ie.a)(s)),s.onCloseTable3PopUp=s.onCloseTable3PopUp.bind(Object(Ie.a)(s)),s.onCloseTable5PopUp=s.onCloseTable5PopUp.bind(Object(Ie.a)(s)),s.onCloseTable7PopUp=s.onCloseTable7PopUp.bind(Object(Ie.a)(s)),s.onCloseTable9PopUp=s.onCloseTable9PopUp.bind(Object(Ie.a)(s)),s.onCloseTable11PopUp=s.onCloseTable11PopUp.bind(Object(Ie.a)(s)),s.onCloseTable12PopUp=s.onCloseTable12PopUp.bind(Object(Ie.a)(s)),s.onChangeTeams=s.onChangeTeams.bind(Object(Ie.a)(s)),s.onChangeDepartmentAssociatedTeam=s.onChangeDepartmentAssociatedTeam.bind(Object(Ie.a)(s)),s.state={userId:void 0,GrandTotal:void 0,GrandOpenTotal:void 0,GrandClosedCount:void 0,GrandClosedPercentage:void 0,GrandOverdueCount:void 0,GrandOverDuePercentage:void 0,start:Ke()().subtract(29,"days"),end:Ke()(),locale:{format:"DD/MM/YYYY"},userFilterSettings:[],renderData:!1,analyticsViewOptions:[],selectedAnalyticView:void 0,selectedTeams:[],showTable:!1,showTable1:!1,showTable2:!1,showTable3:!1,showTable4:!1,showTable5:!1,showTable6:!1,showTable7:!1,showTable8:!1,showTable9:!1,showTable10:!1,showTable11:!1,showTable12:!1,showTable1PopUp:!1,showTable3PopUp:!1,showTable5PopUp:!1,showTable7PopUp:!1,showTable9PopUp:!1,showTable11PopUp:!1,showTable12PopUp:!1,selectedAgingRowData:void 0,isTeamLead:!1,isCentralPoolAgent:!1,isCentralAdmin:!1,isAgent:!1,defaultDepartmentFilter:[],defaultTeamLeadFilter:[],defaultHelptopicFilter:[],departmentOptions:[],helpTopicOptions:[],myTeamOptions:[],departmentAssociatedTeams:[],defaultDepartmentAssociatedTeam:[],teamAssociatedAgents:[],defaultTeamAssociatedAgent:[],teamLeads:[],displayTable:!1},s.userColumns=[{title:"S.No",field:"SNo",width:"2%"},{title:"Department",field:"DepartmentName"},{title:"Total Tickets",field:"TotalTickets"},{title:"Open",field:"OpenCount"},{title:"Closed",field:"ClosedCount"},{title:"% of Closed",field:"ClosedPercentage"}],s.agentColumns=[{title:"S.No",field:"SNo"},{title:"Department",field:"DepartmentName"},{title:"Total Tickets Assigned",field:"TotalAssignedTickets"},{title:"Open",field:"OpenCount"},{title:"Closed",field:"ClosedCount"},{title:"Overdue",field:"OverdueCount"},{title:"% of Closed",field:"ClosedPercentage"},{title:"% of Overdue",field:"OverduePercentage"}],s.teamLeadAgentsColumns=[{title:"S.No",field:"SNo"},{title:"Agent",field:"AgentName"},{title:"Total Tickets Assigned",field:"TotalAssignedTickets"},{title:"Open",field:"OpenCount"},{title:"Closed",field:"ClosedCount"},{title:"Overdue",field:"OverdueCount"},{title:"% of Closed",field:"ClosedPercentage"},{title:"% of Overdue",field:"OverduePercentage"}],s.table11Columns=[{title:"S.No",field:"SNo"},{title:"Lead Name",field:"AgentName"},{title:"Total Tickets Assigned",field:"TotalAssignedTickets"},{title:"Open",field:"OpenCount"},{title:"Closed",field:"ClosedCount"},{title:"Overdue",field:"OverdueCount"},{title:"% of Closed",field:"ClosedPercentage"},{title:"% of Overdue",field:"OverduePercentage"}],s.table12Columns=[{title:"S.No",field:"SNo"},{title:"Lead Name",field:"AgentName"},{title:"Department Name",field:"DepartmentName"},{title:"Total Tickets Assigned",field:"TotalAssignedTickets"},{title:"Open",field:"OpenCount"},{title:"Closed",field:"ClosedCount"},{title:"Overdue",field:"OverdueCount"},{title:"% of Closed",field:"ClosedPercentage"},{title:"% of Overdue",field:"OverduePercentage"}],s.teamLeadDepartmentColumns=[{title:"S.No",field:"SNo"},{title:"Department",field:"DepartmentName"},{title:"Team Name",field:"TeamName"},{title:"Total Tickets Assigned",field:"TotalAssignedTickets"},{title:"Open",field:"OpenCount"},{title:"Closed",field:"ClosedCount"},{title:"Overdue",field:"OverdueCount"},{title:"% of Closed",field:"ClosedPercentage"},{title:"% of Overdue",field:"OverduePercentage"}],s.centralAgentDepartmentColumns=[{title:"S.No",field:"SNo"},{title:"Department",field:"DepartmentName"},{title:"Total Tickets Assigned",field:"TotalAssignedTickets"},{title:"Open",field:"OpenCount"},{title:"Closed",field:"ClosedCount"},{title:"Overdue",field:"OverdueCount"},{title:"% of Closed",field:"ClosedPercentage"},{title:"% of Overdue",field:"OverduePercentage"}],s.teamLeadAgentSLAColumns=[{title:"S.No",field:"SNo"},{title:"Agent",field:"AgentName"},{title:"Total Tickets",field:"TotalAssignedTickets"},{title:"Open",field:"OpenCount"},{title:"Closed",field:"ClosedCount"},{title:"Overdue",field:"OverdueCount"},{title:"Average SLA(Days)",field:"AverageSLA"},{title:"Completed Avg(Days)",field:"CompletedDays"},{title:"Difference Days",field:"Difference"}],s.table2Columns=[{title:"Department Name",field:"DepartmentName"},{title:"Helptopic Name",field:"HelpTopicName"},{title:"Total Tickets",field:"TotalTickets"},{title:"Open",field:"OpenTickets"},{title:"Closed",field:"ClosedTickets"},{title:"Overdue",field:"OverdueTickets"},{title:"% Closed",field:"ClosedTicketsPercent"},{title:"% Overdue",field:"OverdueTicketsPercent"},{title:"% In Progress",field:"OpenTicketsPercent"}],s.table4Columns=[{title:"Department Name",field:"DepartmentName"},{title:"Team Name",field:"TeamName"},{title:"Helptopic Name",field:"HelpTopicName"},{title:"Total Tickets",field:"TotalTickets"},{title:"Open",field:"OpenTickets"},{title:"Closed",field:"ClosedTickets"},{title:"Overdue",field:"OverdueTickets"},{title:"% Closed",field:"ClosedTicketsPercent"},{title:"% Overdue",field:"OverdueTicketsPercent"},{title:"% In Progress",field:"OpenTicketsPercent"}],s.table8Columns=[{title:"Department Name",field:"DepartmentName"},{title:"Helptopic Name",field:"HelpTopicName"},{title:"Total Tickets",field:"TotalTickets"},{title:"Open",field:"OpenTickets"},{title:"Closed",field:"ClosedTickets"},{title:"Overdue",field:"OverdueTickets"},{title:"% Closed",field:"ClosedTicketsPercent"},{title:"% Overdue",field:"OverdueTicketsPercent"},{title:"% In Progress",field:"OpenTicketsPercent"}],s.state.userId=sessionStorage.getItem("userId"),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.state.isTeamLead=sessionStorage.getItem("isTeamLead"),console.log(this.state.isTeamLead),this.state.isCentralPoolAgent=sessionStorage.getItem("isCentralPoolAgent"),console.log(this.state.isCentralPoolAgent),this.state.isCentralAdmin=sessionStorage.getItem("isCentralAdmin"),console.log(this.state.isCentralAdmin),this.state.isAgent=sessionStorage.getItem("isAgent"),console.log(this.state.isAgent),this.getAnalyticsViewOptions(),this.getUserFilterSettings(),this.getDepartmentOptions(),this.retriveStateAfterClearFilter()}},{key:"handleDateRangeChange",value:function(e,t){this.createUserSettingsArray(re,t),this.setState({start:t.startDate}),this.setState({end:t.endDate})}},{key:"filterTickets",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.showTable2||this.state.showTable3||this.state.showTable4||this.state.showTable5||this.state.showTable6||this.state.showTable7||this.state.showTable8||this.state.showTable9||this.state.showTable10||this.state.showTable11||this.state.showTable12)||null!==Pe.do_Null_Undefined_EmptyArray_Check(this.state.defaultDepartmentFilter)){e.next=4;break}return e.abrupt("return",this.showWarningToast("Please select the Department Name"));case 4:if(!(this.state.showTable7||this.state.showTable8||this.state.showTable9||this.state.showTable10||this.state.showTable12)||null!==Pe.do_Null_Undefined_EmptyArray_Check(this.state.defaultDepartmentAssociatedTeam)){e.next=8;break}return e.abrupt("return",this.showWarningToast("Please select the Associated Team"));case 8:if(!(this.state.showTable3||this.state.showTable4||this.state.showTable5||this.state.showTable6||this.state.showTable11)||null!==Pe.do_Null_Undefined_EmptyArray_Check(this.state.selectedTeams)){e.next=12;break}return e.abrupt("return",this.showWarningToast("Please select the Team Name"));case 12:if(!this.state.showTable9&&!this.state.showTable10||null!==Pe.do_Null_Undefined_EmptyArray_Check(this.state.defaultTeamAssociatedAgent)){e.next=16;break}return e.abrupt("return",this.showWarningToast("Please select the Team Agent"));case 16:if(!this.state.showTable8||null!==Pe.do_Null_Undefined_EmptyArray_Check(this.state.defaultHelptopicFilter)){e.next=20;break}return e.abrupt("return",this.showWarningToast("Please select the Helptopic Name"));case 20:this.setState({displayTable:!0}),this.tableRef.current&&this.tableRef.current.onQueryChange();case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Date(this.state.start)).setHours(0,0,0,0),t=t.toISOString(),(a=new Date(this.state.end)).setHours(23,59,59,999),a=a.toISOString(),this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForUser?userId=".concat(this.state.userId,"&startDate=").concat(t,"&endDate=").concat(a,"&isExport=true"),window.location.href=this.state.exportDataDownloadLink;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportData1",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Date(this.state.start)).setHours(0,0,0,0),t=t.toISOString(),(a=new Date(this.state.end)).setHours(23,59,59,999),a=a.toISOString(),this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForAgent?userId=".concat(this.state.userId,"&startDate=").concat(t,"&endDate=").concat(a,"&isExport=true"),window.location.href=this.state.exportDataDownloadLink;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportData2",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o,d,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Date(this.state.start)).setHours(0,0,0,0),t=t.toISOString(),(a=new Date(this.state.end)).setHours(23,59,59,999),a=a.toISOString(),s=[],n=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(n.s();!(i=n.n()).done;)l=i.value,s.push(l.value)}catch(c){n.e(c)}finally{n.f()}0==this.state.defaultDepartmentFilter.length&&(s=void 0),r=[],o=Object(Ae.a)(this.state.defaultHelptopicFilter);try{for(o.s();!(d=o.n()).done;)h=d.value,r.push(h.value)}catch(c){o.e(c)}finally{o.f()}0==this.state.defaultHelptopicFilter.length&&(r=void 0),this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForAgentWithHelptopic?userId=".concat(this.state.userId,"&startDate=").concat(t,"&endDate=").concat(a,"&isExport=true&departmentIds=").concat(s,"&helptopicIds=").concat(r),window.location.href=this.state.exportDataDownloadLink;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportData3",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o,d,h,u,b,p,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Date(this.state.start)).setHours(0,0,0,0),t=t.toISOString(),(a=new Date(this.state.end)).setHours(23,59,59,999),a=a.toISOString(),"All"!==this.state.depId&&void 0!==this.state.depId||(this.state.depId=null),s=[],n=Object(Ae.a)(this.state.selectedTeams);try{for(n.s();!(i=n.n()).done;)l=i.value,s.push(l.value)}catch(c){n.e(c)}finally{n.f()}if(0==this.state.selectedTeams.length&&(s=void 0),r=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)r=void 0;else{o=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(o.s();!(d=o.n()).done;)h=d.value,r.push(h.value)}catch(c){o.e(c)}finally{o.f()}}if(u=[],null==this.state.defaultHelptopicFilter||0==this.state.defaultHelptopicFilter.length)u=void 0;else{b=Object(Ae.a)(this.state.defaultHelptopicFilter);try{for(b.s();!(p=b.n()).done;)m=p.value,u.push(m.value)}catch(c){b.e(c)}finally{b.f()}}this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForLeadWithDepartment?userId=".concat(this.state.userId,"&startDate=").concat(t,"&endDate=").concat(a,"&isExport=true&departmentIds=").concat(r,"&teams=").concat(s),window.location.href=this.state.exportDataDownloadLink;case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportData4",value:function(){var e=new Date(this.state.start);e.setHours(0,0,0,0),e=e.toISOString();var t=new Date(this.state.end);t.setHours(23,59,59,999),t=t.toISOString();var a,s=[],n=Object(Ae.a)(this.state.selectedTeams);try{for(n.s();!(a=n.n()).done;){var i=a.value;s.push(i.value)}}catch(p){n.e(p)}finally{n.f()}0==this.state.selectedTeams.length&&(s=void 0);var l=[];if(null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)l=void 0;else{var r,o=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(o.s();!(r=o.n()).done;){var c=r.value;l.push(c.value)}}catch(p){o.e(p)}finally{o.f()}}var d=[];if(null==this.state.defaultHelptopicFilter||0==this.state.defaultHelptopicFilter.length)d=void 0;else{var h,u=Object(Ae.a)(this.state.defaultHelptopicFilter);try{for(u.s();!(h=u.n()).done;){var b=h.value;d.push(b.value)}}catch(p){u.e(p)}finally{u.f()}}this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForLeadWithHelptopic?userId=".concat(this.state.userId,"&startDate=").concat(e,"&endDate=").concat(t,"&isExport=true&departmentIds=").concat(l,"&helptopicIds=").concat(d,"&teams=").concat(s),window.location.href=this.state.exportDataDownloadLink}},{key:"exportData5",value:function(){var e=new Date(this.state.start);e.setHours(0,0,0,0),e=e.toISOString();var t=new Date(this.state.end);t.setHours(23,59,59,999),t=t.toISOString();var a,s=[],n=Object(Ae.a)(this.state.selectedTeams);try{for(n.s();!(a=n.n()).done;){var i=a.value;s.push(i.value)}}catch(d){n.e(d)}finally{n.f()}0==this.state.selectedTeams.length&&(s=void 0);var l=[];if(null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)l=void 0;else{var r,o=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(o.s();!(r=o.n()).done;){var c=r.value;l.push(c.value)}}catch(d){o.e(d)}finally{o.f()}}this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForLeadWithAgents?userId=".concat(this.state.userId,"&startDate=").concat(e,"&endDate=").concat(t,"&isExport=true&departmentIds=").concat(l,"&teams=").concat(s),window.location.href=this.state.exportDataDownloadLink}},{key:"exportData6",value:function(){var e=new Date(this.state.start);e.setHours(0,0,0,0),e=e.toISOString();var t=new Date(this.state.end);t.setHours(23,59,59,999),t=t.toISOString();var a=[];if(null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)a=void 0;else{var s,n=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(n.s();!(s=n.n()).done;){var i=s.value;a.push(i.value)}}catch(d){n.e(d)}finally{n.f()}}var l,r=[],o=Object(Ae.a)(this.state.selectedTeams);try{for(o.s();!(l=o.n()).done;){var c=l.value;r.push(c.value)}}catch(d){o.e(d)}finally{o.f()}0==this.state.selectedTeams.length&&(r=void 0),this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForLeadWithAgentsSLA?userId=".concat(this.state.userId,"&startDate=").concat(e,"&endDate=").concat(t,"&isExport=true&departmentIds=").concat(a,"&teams=").concat(r),window.location.href=this.state.exportDataDownloadLink}},{key:"exportData7",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o,d,h,u,b,p,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Date(this.state.start)).setHours(0,0,0,0),t=t.toISOString(),(a=new Date(this.state.end)).setHours(23,59,59,999),a=a.toISOString(),"All"!==this.state.depId&&void 0!==this.state.depId||(this.state.depId=null),s=[],n=Object(Ae.a)(this.state.defaultDepartmentAssociatedTeam);try{for(n.s();!(i=n.n()).done;)l=i.value,s.push(l.value)}catch(c){n.e(c)}finally{n.f()}if(0==this.state.departmentAssociatedTeams.length&&(s=void 0),r=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)r=void 0;else{o=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(o.s();!(d=o.n()).done;)h=d.value,r.push(h.value)}catch(c){o.e(c)}finally{o.f()}}if(u=[],null==this.state.defaultHelptopicFilter||0==this.state.defaultHelptopicFilter.length)u=void 0;else{b=Object(Ae.a)(this.state.defaultHelptopicFilter);try{for(b.s();!(p=b.n()).done;)m=p.value,u.push(m.value)}catch(c){b.e(c)}finally{b.f()}}this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForCentralAgentWithDepartment?startDate=".concat(t,"&endDate=").concat(a,"&isExport=true&departmentIds=").concat(r,"&teams=").concat(s),window.location.href=this.state.exportDataDownloadLink;case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportData8",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o,d,h,u,b,p,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Date(this.state.start)).setHours(0,0,0,0),t=t.toISOString(),(a=new Date(this.state.end)).setHours(23,59,59,999),a=a.toISOString(),s=[],n=Object(Ae.a)(this.state.defaultDepartmentAssociatedTeam);try{for(n.s();!(i=n.n()).done;)l=i.value,s.push(l.value)}catch(c){n.e(c)}finally{n.f()}if(0==this.state.departmentAssociatedTeams.length&&(s=void 0),r=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)r=void 0;else{o=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(o.s();!(d=o.n()).done;)h=d.value,r.push(h.value)}catch(c){o.e(c)}finally{o.f()}}if(u=[],null==this.state.defaultHelptopicFilter||0==this.state.defaultHelptopicFilter.length)u=void 0;else{b=Object(Ae.a)(this.state.defaultHelptopicFilter);try{for(b.s();!(p=b.n()).done;)m=p.value,u.push(m.value)}catch(c){b.e(c)}finally{b.f()}}this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForCentralAgentWithHelptopic?userId=".concat(this.state.userId,"&startDate=").concat(t,"&endDate=").concat(a,"&isExport=true&departmentIds=").concat(r,"&helptopicIds=").concat(u,"&teams=").concat(s),window.location.href=this.state.exportDataDownloadLink;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportData9",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i,l,r,o,d,h,u,b,p,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Date(this.state.start)).setHours(0,0,0,0),t=t.toISOString(),(a=new Date(this.state.end)).setHours(23,59,59,999),a=a.toISOString(),s=[],n=Object(Ae.a)(this.state.defaultDepartmentAssociatedTeam);try{for(n.s();!(i=n.n()).done;)l=i.value,s.push(l.value)}catch(c){n.e(c)}finally{n.f()}if(0==this.state.defaultDepartmentAssociatedTeam.length&&(s=void 0),r=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)r=void 0;else{o=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(o.s();!(d=o.n()).done;)h=d.value,r.push(h.value)}catch(c){o.e(c)}finally{o.f()}}if(u=[],null==this.state.defaultTeamAssociatedAgent||0==this.state.defaultTeamAssociatedAgent.length)u=void 0;else{b=Object(Ae.a)(this.state.defaultTeamAssociatedAgent);try{for(b.s();!(p=b.n()).done;)m=p.value,u.push(m.value)}catch(c){b.e(c)}finally{b.f()}}this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForCentralAgentsWithAgents?userId=".concat(this.state.userId,"&startDate=").concat(t,"&endDate=").concat(a,"&isExport=true&departmentIds=").concat(r,"&teams=").concat(s,"&agentsInTeam=").concat(u),window.location.href=this.state.exportDataDownloadLink;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportData10",value:function(){var e=new Date(this.state.start);e.setHours(0,0,0,0),e=e.toISOString();var t=new Date(this.state.end);t.setHours(23,59,59,999),t=t.toISOString();var a=[];if(null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)a=void 0;else{var s,n=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(n.s();!(s=n.n()).done;){var i=s.value;a.push(i.value)}}catch(p){n.e(p)}finally{n.f()}}var l,r=[],o=Object(Ae.a)(this.state.departmentAssociatedTeams);try{for(o.s();!(l=o.n()).done;){var c=l.value;r.push(c.value)}}catch(p){o.e(p)}finally{o.f()}0==this.state.departmentAssociatedTeams.length&&(r=void 0);var d=[];if(null==this.state.defaultTeamAssociatedAgent||0==this.state.defaultTeamAssociatedAgent.length)d=void 0;else{var h,u=Object(Ae.a)(this.state.defaultTeamAssociatedAgent);try{for(u.s();!(h=u.n()).done;){var b=h.value;d.push(b.value)}}catch(p){u.e(p)}finally{u.f()}}this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForCentralAgentWithAgentsSLA?userId=".concat(this.state.userId,"&startDate=").concat(e,"&endDate=").concat(t,"&isExport=true&departmentIds=").concat(a,"&teams=").concat(r,"&agentsInTeam=").concat(d),window.location.href=this.state.exportDataDownloadLink}},{key:"exportData11",value:function(){var e=new Date(this.state.start);e.setHours(0,0,0,0),e=e.toISOString();var t=new Date(this.state.end);t.setHours(23,59,59,999),t=t.toISOString();var a,s=[],n=Object(Ae.a)(this.state.selectedTeams);try{for(n.s();!(a=n.n()).done;){var i=a.value;s.push(i.value)}}catch(d){n.e(d)}finally{n.f()}0==this.state.selectedTeams.length&&(s=void 0);var l=[];if(null==this.state.defaultTeamLeadFilter||0==this.state.defaultTeamLeadFilter.length)l=void 0;else{var r,o=Object(Ae.a)(this.state.defaultTeamLeadFilter);try{for(o.s();!(r=o.n()).done;){var c=r.value;l.push(c.value)}}catch(d){o.e(d)}finally{o.f()}}this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForTeamLead?userId=".concat(this.state.userId,"&startDate=").concat(e,"&endDate=").concat(t,"&isExport=true&leadIds=").concat(l,"&teams=").concat(s),window.location.href=this.state.exportDataDownloadLink}},{key:"exportData12",value:function(){var e=new Date(this.state.start);e.setHours(0,0,0,0),e=e.toISOString();var t=new Date(this.state.end);t.setHours(23,59,59,999),t=t.toISOString();var a,s=[],n=Object(Ae.a)(this.state.defaultDepartmentAssociatedTeam);try{for(n.s();!(a=n.n()).done;){var i=a.value;s.push(i.value)}}catch(p){n.e(p)}finally{n.f()}0==this.state.defaultDepartmentAssociatedTeam.length&&(s=void 0);var l=[];if(null==this.state.defaultTeamLeadFilter||0==this.state.defaultTeamLeadFilter.length)l=void 0;else{var r,o=Object(Ae.a)(this.state.defaultTeamLeadFilter);try{for(o.s();!(r=o.n()).done;){var c=r.value;l.push(c.value)}}catch(p){o.e(p)}finally{o.f()}}var d=[];if(null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)d=void 0;else{var h,u=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(u.s();!(h=u.n()).done;){var b=h.value;d.push(b.value)}}catch(p){u.e(p)}finally{u.f()}}this.state.exportDataDownloadLink=xe+"/api/analytics/getAnalyticsForCentralAgentTeamLeadView?userId=".concat(this.state.userId,"&startDate=").concat(e,"&endDate=").concat(t,"&isExport=true&leadIds=").concat(l,"&teams=").concat(s,"&departmentIds=").concat(d),window.location.href=this.state.exportDataDownloadLink}},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),console.log(this.state.userId),e.next=12,Te.findAnalyticsForUser(this.state.userId,s,n,i,l).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s=t.data,r.setState({GrandTotal:s[0].GrandTotal}),r.setState({GrandOpenTotal:s[0].GrandOpenTotal}),r.setState({GrandClosedCount:s[0].GrandClosedCount}),r.setState({GrandClosedPercentage:s[0].GrandClosedPercentage}),a=s[0].Data;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:return e.abrupt("return",Promise.resolve({data:a}));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData1",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),console.log(this.state.userId),e.next=12,Te.findAnalyticsForAgents(this.state.userId,s,n,i,l).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s=t.data,r.setState({GrandTotal:s[0].GrandTotal}),r.setState({GrandOpenTotal:s[0].GrandOpenTotal}),r.setState({GrandClosedCount:s[0].GrandClosedCount}),r.setState({GrandClosedPercentage:s[0].GrandClosedPercentage}),r.setState({GrandOverdueCount:s[0].GrandOverdueCount}),r.setState({GrandOverDuePercentage:s[0].GrandOverDuePercentage}),a=s[0].Data;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:return e.abrupt("return",Promise.resolve({data:a}));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData2",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)r=void 0;else{o=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(f){o.e(f)}finally{o.f()}}if(b=[],null==this.state.defaultHelptopicFilter||0==this.state.defaultHelptopicFilter.length)b=void 0;else{p=Object(Ae.a)(this.state.defaultHelptopicFilter);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(f){p.e(f)}finally{p.f()}}return console.log(this.state.userId),e.next=16,Te.getAnalyticsForAgentWithHelptopic(this.state.userId,s,n,i,l,r,b).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s=t.data,j.setState({GrandTotal:s.GrandTotal}),j.setState({GrandOpenTotal:s.GrandOpenTotal}),j.setState({GrandClosedCount:s.GrandClosedCount}),j.setState({GrandClosedPercentage:s.GrandClosedPercentage}),j.setState({GrandOverdueCount:s.GrandOverdueCount}),j.setState({GrandOverDuePercentage:s.GrandOverDuePercentage}),j.setState({GrandOpenPercentage:s.GrandOpenPercentage}),a=s.Data;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 16:return e.abrupt("return",Promise.resolve({data:a}));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData3",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),console.log(this.state.userId),r=[],o=Object(Ae.a)(this.state.selectedTeams);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(f){o.e(f)}finally{o.f()}if(0==this.state.selectedTeams.length&&(r=void 0),b=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)b=void 0;else{p=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(f){p.e(f)}finally{p.f()}}return e.next=18,Te.getAnalyticsForLeadWithDepartment(this.state.userId,i,l,b,r,s,n).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s=t.data,j.setState({GrandTotal:s[0].GrandTotal}),j.setState({GrandOpenTotal:s[0].GrandOpenTotal}),j.setState({GrandClosedCount:s[0].GrandClosedCount}),j.setState({GrandClosedPercentage:s[0].GrandClosedPercentage}),j.setState({GrandOverdueCount:s[0].GrandOverdueCount}),j.setState({GrandOverDuePercentage:s[0].GrandOverDuePercentage}),a=s[0].Data;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:return e.abrupt("return",Promise.resolve({data:a}));case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData4",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j,f,O,v,x=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=[],o=Object(Ae.a)(this.state.selectedTeams);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(y){o.e(y)}finally{o.f()}if(0==this.state.selectedTeams.length&&(r=void 0),b=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)b=void 0;else{p=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(y){p.e(y)}finally{p.f()}}if(j=[],null==this.state.defaultHelptopicFilter||0==this.state.defaultHelptopicFilter.length)j=void 0;else{f=Object(Ae.a)(this.state.defaultHelptopicFilter);try{for(f.s();!(O=f.n()).done;)v=O.value,j.push(v.value)}catch(y){f.e(y)}finally{f.f()}}return console.log(this.state.userId),e.next=21,Te.getAnalyticsForLeadWithHelptopic(this.state.userId,s,n,i,l,b,j,r).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.data,x.setState({GrandTotal:s.GrandTotal}),x.setState({GrandOpenTotal:s.GrandOpenTotal}),x.setState({GrandClosedCount:s.GrandClosedCount}),x.setState({GrandClosedPercentage:s.GrandClosedPercentage}),x.setState({GrandOverdueCount:s.GrandOverdueCount}),x.setState({GrandOverDuePercentage:s.GrandOverDuePercentage}),x.setState({GrandOpenPercentage:s.GrandOpenPercentage}),void 0!==s.Data&&(a=s.Data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 21:return e.abrupt("return",Promise.resolve({data:a}));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData5",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=[],o=Object(Ae.a)(this.state.selectedTeams);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(f){o.e(f)}finally{o.f()}if(0==this.state.selectedTeams.length&&(r=void 0),b=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)b=void 0;else{p=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(f){p.e(f)}finally{p.f()}}return console.log(this.state.userId),e.next=18,Te.getAnalyticsForLeadWithAgents(this.state.userId,s,n,i,l,b,r).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s=t.data,j.setState({GrandTotal:s[0].GrandTotal}),j.setState({GrandOpenTotal:s[0].GrandOpenTotal}),j.setState({GrandClosedCount:s[0].GrandClosedCount}),j.setState({GrandClosedPercentage:s[0].GrandClosedPercentage}),j.setState({GrandOverdueCount:s[0].GrandOverdueCount}),j.setState({GrandOverDuePercentage:s[0].GrandOverDuePercentage}),a=s[0].Data;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:return e.abrupt("return",Promise.resolve({data:a}));case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData6",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)r=void 0;else{o=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(f){o.e(f)}finally{o.f()}}b=[],p=Object(Ae.a)(this.state.selectedTeams);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(f){p.e(f)}finally{p.f()}return 0==this.state.selectedTeams.length&&(b=void 0),console.log(this.state.userId),e.next=18,Te.getAnalyticsForLeadWithAgentsSLA(this.state.userId,s,n,i,l,r,b).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s=t.data,j.setState({GrandTotal:s[0].GrandTotal}),j.setState({GrandOpenTotal:s[0].GrandOpenTotal}),j.setState({GrandClosedCount:s[0].GrandClosedCount}),j.setState({GrandClosedPercentage:s[0].GrandClosedPercentage}),j.setState({GrandOverdueCount:s[0].GrandOverdueCount}),j.setState({GrandOverDuePercentage:s[0].GrandOverDuePercentage}),a=s[0].Data;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:return e.abrupt("return",Promise.resolve({data:a}));case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData7",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=[],o=Object(Ae.a)(this.state.defaultDepartmentAssociatedTeam);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(f){o.e(f)}finally{o.f()}if(0==this.state.defaultDepartmentAssociatedTeam.length&&(r=void 0),b=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)b=void 0;else{p=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(f){p.e(f)}finally{p.f()}}return e.next=17,Te.getAnalyticsForCentralAgentWithDepartment(i,l,b,r,s,n).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.data,j.setState({GrandTotal:s[0].GrandTotal}),j.setState({GrandOpenTotal:s[0].GrandOpenTotal}),j.setState({GrandClosedCount:s[0].GrandClosedCount}),j.setState({GrandClosedPercentage:s[0].GrandClosedPercentage}),j.setState({GrandOverdueCount:s[0].GrandOverdueCount}),j.setState({GrandOverDuePercentage:s[0].GrandOverDuePercentage}),a=s[0].Data;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:return e.abrupt("return",Promise.resolve({data:a}));case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData8",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j,f,O,v,x=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=[],o=Object(Ae.a)(this.state.defaultDepartmentAssociatedTeam);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(y){o.e(y)}finally{o.f()}if(0==this.state.defaultDepartmentAssociatedTeam.length&&(r=void 0),b=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)b=void 0;else{p=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(y){p.e(y)}finally{p.f()}}if(j=[],null==this.state.defaultHelptopicFilter||0==this.state.defaultHelptopicFilter.length)j=void 0;else{f=Object(Ae.a)(this.state.defaultHelptopicFilter);try{for(f.s();!(O=f.n()).done;)v=O.value,j.push(v.value)}catch(y){f.e(y)}finally{f.f()}}return console.log(this.state.userId),e.next=21,Te.getAnalyticsForCentralAgentWithHelptopic(this.state.userId,s,n,i,l,b,j,r).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.data,x.setState({GrandTotal:s.GrandTotal}),x.setState({GrandOpenTotal:s.GrandOpenTotal}),x.setState({GrandClosedCount:s.GrandClosedCount}),x.setState({GrandClosedPercentage:s.GrandClosedPercentage}),x.setState({GrandOverdueCount:s.GrandOverdueCount}),x.setState({GrandOverDuePercentage:s.GrandOverDuePercentage}),x.setState({GrandOpenPercentage:s.GrandOpenPercentage}),void 0!==s.Data&&(a=s.Data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 21:return e.abrupt("return",Promise.resolve({data:a}));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData9",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j,f,O,v,x=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=[],o=Object(Ae.a)(this.state.defaultDepartmentAssociatedTeam);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(y){o.e(y)}finally{o.f()}if(0==this.state.defaultDepartmentAssociatedTeam.length&&(r=void 0),b=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)b=void 0;else{p=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(y){p.e(y)}finally{p.f()}}if(j=[],null==this.state.defaultTeamAssociatedAgent||0==this.state.defaultTeamAssociatedAgent.length)j=void 0;else{f=Object(Ae.a)(this.state.defaultTeamAssociatedAgent);try{for(f.s();!(O=f.n()).done;)v=O.value,j.push(v.value)}catch(y){f.e(y)}finally{f.f()}}return console.log(this.state.userId),e.next=20,Te.getAnalyticsForCentralAgentWithAgents(this.state.userId,s,n,i,l,b,r,j).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s=t.data,x.setState({GrandTotal:s[0].GrandTotal}),x.setState({GrandOpenTotal:s[0].GrandOpenTotal}),x.setState({GrandClosedCount:s[0].GrandClosedCount}),x.setState({GrandClosedPercentage:s[0].GrandClosedPercentage}),x.setState({GrandOverdueCount:s[0].GrandOverdueCount}),x.setState({GrandOverDuePercentage:s[0].GrandOverDuePercentage}),a=s[0].Data;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 20:return e.abrupt("return",Promise.resolve({data:a}));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData10",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j,f,O,v,x=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)r=void 0;else{o=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(y){o.e(y)}finally{o.f()}}b=[],p=Object(Ae.a)(this.state.defaultDepartmentAssociatedTeam);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(y){p.e(y)}finally{p.f()}if(0==this.state.defaultDepartmentAssociatedTeam.length&&(b=void 0),j=[],null==this.state.defaultTeamAssociatedAgent||0==this.state.defaultTeamAssociatedAgent.length)j=void 0;else{f=Object(Ae.a)(this.state.defaultTeamAssociatedAgent);try{for(f.s();!(O=f.n()).done;)v=O.value,j.push(v.value)}catch(y){f.e(y)}finally{f.f()}}return console.log(this.state.userId),e.next=20,Te.getAnalyticsForCentralAgentWithAgentsSLA(this.state.userId,s,n,i,l,r,b,j).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s=t.data,x.setState({GrandTotal:s[0].GrandTotal}),x.setState({GrandOpenTotal:s[0].GrandOpenTotal}),x.setState({GrandClosedCount:s[0].GrandClosedCount}),x.setState({GrandClosedPercentage:s[0].GrandClosedPercentage}),x.setState({GrandOverdueCount:s[0].GrandOverdueCount}),x.setState({GrandOverDuePercentage:s[0].GrandOverDuePercentage}),a=s[0].Data;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 20:return e.abrupt("return",Promise.resolve({data:a}));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData11",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j,f,O,v,x=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=[],o=Object(Ae.a)(this.state.selectedTeams);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(y){o.e(y)}finally{o.f()}if(0==this.state.selectedTeams.length&&(r=void 0),b=[],null==this.state.defaultTeamLeadFilter||0==this.state.defaultTeamLeadFilter.length)b=void 0;else{p=Object(Ae.a)(this.state.defaultTeamLeadFilter);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(y){p.e(y)}finally{p.f()}}if(j=[],null!=this.state.defaultDepartmentFilter&&0!=this.state.defaultDepartmentFilter.length){e.next=21;break}return e.abrupt("return",this.showWarningToast("Department Name is mandatory"));case 21:f=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(f.s();!(O=f.n()).done;)v=O.value,j.push(v.value)}catch(y){f.e(y)}finally{f.f()}case 23:return e.next=25,Te.getAnalyticsForTeamLead(this.state.userId,s,n,i,l,b,r,j).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s=t.data,x.setState({GrandTotal:s[0].GrandTotal}),x.setState({GrandOpenTotal:s[0].GrandOpenTotal}),x.setState({GrandClosedCount:s[0].GrandClosedCount}),x.setState({GrandClosedPercentage:s[0].GrandClosedPercentage}),x.setState({GrandOverdueCount:s[0].GrandOverdueCount}),x.setState({GrandOverDuePercentage:s[0].GrandOverDuePercentage}),a=s[0].Data;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 25:return e.abrupt("return",Promise.resolve({data:a}));case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteData12",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,h,u,b,p,m,g,j,f,O,v,x=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.orderDirection,n=void 0,t.orderBy&&(n=t.orderBy.field),(i=new Date(this.state.start)).setHours(0,0,0,0),i=i.toISOString(),(l=new Date(this.state.end)).setHours(23,59,59,999),l=l.toISOString(),r=[],o=Object(Ae.a)(this.state.defaultDepartmentAssociatedTeam);try{for(o.s();!(h=o.n()).done;)u=h.value,r.push(u.value)}catch(y){o.e(y)}finally{o.f()}if(0==this.state.defaultDepartmentAssociatedTeam.length&&(r=void 0),b=[],null==this.state.defaultTeamLeadFilter||0==this.state.defaultTeamLeadFilter.length)b=void 0;else{p=Object(Ae.a)(this.state.defaultTeamLeadFilter);try{for(p.s();!(m=p.n()).done;)g=m.value,b.push(g.value)}catch(y){p.e(y)}finally{p.f()}}if(j=[],null==this.state.defaultDepartmentFilter||0==this.state.defaultDepartmentFilter.length)j=void 0;else{f=Object(Ae.a)(this.state.defaultDepartmentFilter);try{for(f.s();!(O=f.n()).done;)v=O.value,j.push(v.value)}catch(y){f.e(y)}finally{f.f()}}return e.next=19,Te.getAnalyticsForCentralAgentTeamLead(this.state.userId,s,n,i,l,b,r,j).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s=t.data,x.setState({GrandTotal:s[0].GrandTotal}),x.setState({GrandOpenTotal:s[0].GrandOpenTotal}),x.setState({GrandClosedCount:s[0].GrandClosedCount}),x.setState({GrandClosedPercentage:s[0].GrandClosedPercentage}),x.setState({GrandOverdueCount:s[0].GrandOverdueCount}),x.setState({GrandOverDuePercentage:s[0].GrandOverDuePercentage}),a=s[0].Data;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 19:return e.abrupt("return",Promise.resolve({data:a}));case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveFilterSetting",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.saveFilterSettings(this.state.userFilterSettings).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearFilterSetting",value:function(){var e=this,t={settingType:ie,userId:this.state.userId};Te.clearUserSettings(t).then((function(t){"User-View"===e.state.selectedAnalyticView.value?e.savePageLocation("User-View"):"Agent-Department-View"===e.state.selectedAnalyticView.value?e.savePageLocation("Agent-Department-View"):"Agent-HelpTopic-View"===e.state.selectedAnalyticView.value?e.savePageLocation("Agent-HelpTopic-View"):"TeamLead-Department-View"===e.state.selectedAnalyticView.value?e.savePageLocation("TeamLead-Department-View"):"TeamLead-Helptopic-View"===e.state.selectedAnalyticView.value?e.savePageLocation("TeamLead-Helptopic-View"):"TeamLead-Agents-View"===e.state.selectedAnalyticView.value?e.savePageLocation("TeamLead-Agents-View"):"TeamLead-Agents-SLA-View"===e.state.selectedAnalyticView.value?e.savePageLocation("TeamLead-Agents-SLA-View"):"Central-Agent-Department-View"===e.state.selectedAnalyticView.value?e.savePageLocation("Central-Agent-Department-View"):"Central-Agent-Helptopic-View"===e.state.selectedAnalyticView.value?e.savePageLocation("Central-Agent-Helptopic-View"):"Central-Agent-Agents-View"===e.state.selectedAnalyticView.value?e.savePageLocation("Central-Agent-Agents-View"):"Central-Agent-SLA-View"===e.state.selectedAnalyticView.value?e.savePageLocation("Central-Agent-SLA-View"):"Team-Lead-View"===e.state.selectedAnalyticView.value?e.savePageLocation("Team-Lead-View"):"Central Agent Team Lead View"===e.state.selectedAnalyticView.value&&e.savePageLocation("Central Agent Team Lead View"),e.showSuccessToast(fe),e.getUserFilterSettings(),window.location.reload()}))}},{key:"savePageLocation",value:function(e){sessionStorage.setItem("previousPageLocation",e)}},{key:"retriveStateAfterClearFilter",value:function(){var e=sessionStorage.getItem("previousPageLocation");if(null==e)return null;var t={label:e,value:e};"User-View"===e?(this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable:!0}),this.setState({selectedAnalyticView:t})):"Agent-Department-View"===e?(this.setState({showTable:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable1:!0}),this.setState({selectedAnalyticView:t})):"Agent-HelpTopic-View"===e?(this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable2:!0}),this.setState({selectedAnalyticView:t})):"TeamLead-Department-View"===e?(this.getMyTeams(),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable3:!0}),this.setState({selectedAnalyticView:t})):"TeamLead-Helptopic-View"===e?(this.getMyTeams(),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable4:!0}),this.setState({selectedAnalyticView:t})):"TeamLead-Agents-View"===e?(this.getMyTeams(),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable5:!0}),this.setState({selectedAnalyticView:t})):"TeamLead-Agents-SLA-View"===e?(this.getMyTeams(),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable6:!0}),this.setState({selectedAnalyticView:t})):"Central-Agent-Department-View"===e?(this.getMyTeams(),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable7:!0}),this.setState({selectedAnalyticView:t})):"Central-Agent-Helptopic-View"===e?(this.getMyTeams(),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable8:!0}),this.setState({selectedAnalyticView:t})):"Central-Agent-Agents-View"===e?(this.getMyTeams(),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable9:!0}),this.setState({selectedAnalyticView:t})):"Central-Agent-SLA-View"===e?(this.getMyTeams(),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!0}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({selectedAnalyticView:t})):"Team-Lead-View"===e?(this.getMyTeams(),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable12:!1}),this.setState({showTable11:!0}),this.setState({selectedAnalyticView:t})):"Central Agent Team Lead View"===e&&(this.getMyTeams(),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!0}),this.setState({selectedAnalyticView:t})),sessionStorage.removeItem("previousPageLocation")}},{key:"createUserSettingsArray",value:function(e,t){switch(e){case re:var a={userId:this.state.userId,settingType:ie,settingValue:{startDate:t.startDate,endDate:t.endDate},settingName:e};this.state.userFilterSettings.push(a),this.saveFilterSetting();break;case oe:var s={userId:this.state.userId,settingType:ie,settingValue:t,settingName:e};this.state.userFilterSettings.push(s),this.saveFilterSetting();break;case ce:var n={userId:this.state.userId,settingType:ie,settingValue:t,settingName:e};this.state.userFilterSettings.push(n),this.saveFilterSetting();break;case be:var i={userId:this.state.userId,settingType:ie,settingValue:t,settingName:e};this.state.userFilterSettings.push(i),this.saveFilterSetting();break;case pe:var l={userId:this.state.userId,settingType:ie,settingValue:t,settingName:e};this.state.userFilterSettings.push(l),this.saveFilterSetting();break;case me:var r={userId:this.state.userId,settingType:ie,settingValue:t,settingName:e};this.state.userFilterSettings.push(r),this.saveFilterSetting();break;case ge:var o={userId:this.state.userId,settingType:ie,settingValue:t,settingName:e};this.state.userFilterSettings.push(o),this.saveFilterSetting()}}},{key:"getUserFilterSettings",value:function(){var e=this,t={settingType:ie,userId:this.state.userId};Te.getUserSettingsByType(t).then((function(t){if(t.data.data.length<=0&&(e.setState({defaultDepartmentFilter:[]}),e.setState({defaultHelptopicFilter:[]}),e.setState({selectedTeams:[]}),e.setState({defaultDepartmentAssociatedTeam:[]}),e.setState({defaultTeamLeadFilter:[]})),t.data.data.length>0){e.setState({userFilterSettings:t.data.data});var a,s=Object(Ae.a)(t.data.data);try{for(s.s();!(a=s.n()).done;){var n=a.value;switch(n.settingName){case re:e.setState({start:Ke()(n.settingValue.startDate)}),e.setState({end:Ke()(n.settingValue.endDate)});break;case oe:if(e.setState({defaultDepartmentFilter:n.settingValue}),n.settingValue){var i,l=Object(Ae.a)(n.settingValue);try{for(l.s();!(i=l.n()).done;){var r=i.value;e.getHelpTopicByDepartment(r.value)}}catch(u){l.e(u)}finally{l.f()}}break;case ce:e.setState({defaultHelptopicFilter:n.settingValue}),e.setState({topicId:n.settingValue.value,topicName:n.settingValue.label});break;case be:if(e.setState({selectedTeams:n.settingValue}),n.settingValue){var o,c=[],d=Object(Ae.a)(n.settingValue);try{for(d.s();!(o=d.n()).done;){var h=o.value;c.push(h)}}catch(u){d.e(u)}finally{d.f()}e.getTeamLeadsByTeam(c)}break;case pe:e.setState({defaultTeamLeadFilter:n.settingValue});break;case me:e.setState({defaultDepartmentAssociatedTeam:n.settingValue}),e.setState({departmentAssociatedTeams:n.settingValue});break;case ge:e.setState({defaultTeamAssociatedAgent:n.settingValue}),e.setState({teamAssociatedAgents:n.settingValue})}}}catch(u){s.e(u)}finally{s.f()}}e.setState({renderData:!0})}))}},{key:"getAnalyticsViewOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"false"===this.state.isCentralPoolAgent&&"false"===this.state.isTeamLead&&"false"===this.state.isCentralAdmin&&"false"===this.state.isAgent?(t=[{label:"User-View",value:"User-View"}],this.setState({analyticsViewOptions:t})):"true"===this.state.isAgent&&"false"===this.state.isCentralPoolAgent&&"false"===this.state.isTeamLead&&"false"===this.state.isCentralAdmin?(a=[{label:"User-View",value:"User-View"},{label:"Agent-Department-View",value:"Agent-Department-View"},{label:"Agent-HelpTopic-View",value:"Agent-HelpTopic-View"}],this.setState({analyticsViewOptions:a})):"true"===this.state.isCentralPoolAgent&&"false"===this.state.isAgent&&"false"===this.state.isTeamLead&&"false"===this.state.isCentralAdmin?(s=[{label:"User-View",value:"User-View"},{label:"Agent-Department-View",value:"Agent-Department-View"},{label:"Agent-HelpTopic-View",value:"Agent-HelpTopic-View"},{label:"Central-Agent-Department-View",value:"Central-Agent-Department-View"},{label:"Central-Agent-Helptopic-View",value:"Central-Agent-Helptopic-View"},{label:"Central-Agent-Agents-View",value:"Central-Agent-Agents-View"},{label:"Central-Agent-SLA-View",value:"Central-Agent-SLA-View"},{label:"Central Agent Team Lead View",value:"Central Agent Team Lead View"}],this.setState({analyticsViewOptions:s})):"true"===this.state.isCentralPoolAgent&&"true"===this.state.isTeamLead&&"false"===this.state.isCentralAdmin&&"false"===this.state.isAgent?(n=[{label:"User-View",value:"User-View"},{label:"Agent-Department-View",value:"Agent-Department-View"},{label:"Agent-HelpTopic-View",value:"Agent-HelpTopic-View"},{label:"TeamLead-Department-View",value:"TeamLead-Department-View"},{label:"TeamLead-Helptopic-View",value:"TeamLead-Helptopic-View"},{label:"TeamLead-Agents-View",value:"TeamLead-Agents-View"},{label:"TeamLead-Agents-SLA-View",value:"TeamLead-Agents-SLA-View"},{label:"Team-Lead-View",value:"Team-Lead-View"},{label:"Central-Agent-Department-View",value:"Central-Agent-Department-View"},{label:"Central-Agent-Helptopic-View",value:"Central-Agent-Helptopic-View"},{label:"Central-Agent-Agents-View",value:"Central-Agent-Agents-View"},{label:"Central-Agent-SLA-View",value:"Central-Agent-SLA-View"},{label:"Central Agent Team Lead View",value:"Central Agent Team Lead View"}],this.setState({analyticsViewOptions:n})):"true"===this.state.isCentralPoolAgent&&"true"===this.state.isTeamLead&&"true"===this.state.isCentralAdmin&&(i=[{label:"User-View",value:"User-View"},{label:"Agent-Department-View",value:"Agent-Department-View"},{label:"Agent-HelpTopic-View",value:"Agent-HelpTopic-View"},{label:"TeamLead-Department-View",value:"TeamLead-Department-View"},{label:"TeamLead-Helptopic-View",value:"TeamLead-Helptopic-View"},{label:"TeamLead-Agents-View",value:"TeamLead-Agents-View"},{label:"TeamLead-Agents-SLA-View",value:"TeamLead-Agents-SLA-View"},{label:"Team-Lead-View",value:"Team-Lead-View"},{label:"Central-Agent-Department-View",value:"Central-Agent-Department-View"},{label:"Central-Agent-Helptopic-View",value:"Central-Agent-Helptopic-View"},{label:"Central-Agent-Agents-View",value:"Central-Agent-Agents-View"},{label:"Central-Agent-SLA-View",value:"Central-Agent-SLA-View"},{label:"Central Agent Team Lead View",value:"Central Agent Team Lead View"}],this.setState({analyticsViewOptions:i}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeAnalyticView",value:function(e){this.setState({displayTable:!1});var t={label:e.value,value:e.value};"User-View"===e.value?(this.setState({selectedAnalyticView:t}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable:!0})):"Agent-Department-View"===e.value?(this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable1:!0})):"Agent-HelpTopic-View"===e.value?(this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable2:!0})):"TeamLead-Department-View"===e.value?(this.getMyTeams(),this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable3:!0})):"TeamLead-Helptopic-View"===e.value?(this.getMyTeams(),this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable4:!0})):"TeamLead-Agents-View"===e.value?(this.getMyTeams(),this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable5:!0})):"TeamLead-Agents-SLA-View"===e.value?(this.getMyTeams(),this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable6:!0})):"Central-Agent-Department-View"===e.value?(this.getMyTeams(),this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable7:!0})):"Central-Agent-Helptopic-View"===e.value?(this.getMyTeams(),this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable8:!0})):"Central-Agent-Agents-View"===e.value?(this.getMyTeams(),this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable9:!0})):"Central-Agent-SLA-View"===e.value?(this.getMyTeams(),this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!1}),this.setState({showTable10:!0})):"Team-Lead-View"===e.value?(this.getMyTeams(),this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable12:!1}),this.setState({showTable11:!0})):"Central Agent Team Lead View"===e.value&&(this.getMyTeams(),this.setState({selectedAnalyticView:t}),this.setState({showTable:!1}),this.setState({showTable1:!1}),this.setState({showTable2:!1}),this.setState({showTable3:!1}),this.setState({showTable4:!1}),this.setState({showTable5:!1}),this.setState({showTable6:!1}),this.setState({showTable7:!1}),this.setState({showTable8:!1}),this.setState({showTable9:!1}),this.setState({showTable10:!1}),this.setState({showTable11:!1}),this.setState({showTable12:!0}))}},{key:"getTicketAgingAnalysis",value:function(e){this.setState({selectedAgingRowData:e}),console.log(e),this.setState({showTable1PopUp:!0})}},{key:"getTicketAgingAnalysisTable7",value:function(e){this.setState({selectedAgingRowData:e}),console.log(e),this.setState({showTable7PopUp:!0})}},{key:"getTicketAgingAnalysisTable5",value:function(e){this.setState({selectedAgingRowData:e}),console.log(e),this.setState({showTable5PopUp:!0})}},{key:"getTicketAgingAnalysisTable11",value:function(e){this.setState({selectedAgingRowData:e}),console.log(e),this.setState({showTable11PopUp:!0})}},{key:"getTicketAgingAnalysisTable12",value:function(e){this.setState({selectedAgingRowData:e}),console.log(e),this.setState({showTable12PopUp:!0})}},{key:"getTicketAgingAnalysisTable9",value:function(e){this.setState({selectedAgingRowData:e}),console.log(e),this.setState({showTable9PopUp:!0})}},{key:"onCloseTable1PopUp",value:function(){this.setState({showTable1PopUp:!1})}},{key:"onCloseTable3PopUp",value:function(){this.setState({showTable3PopUp:!1})}},{key:"onCloseTable5PopUp",value:function(){this.setState({showTable5PopUp:!1})}},{key:"onCloseTable11PopUp",value:function(){this.setState({showTable11PopUp:!1})}},{key:"onCloseTable12PopUp",value:function(){this.setState({showTable12PopUp:!1})}},{key:"onCloseTable9PopUp",value:function(){this.setState({showTable9PopUp:!1})}},{key:"onCloseTable7PopUp",value:function(){this.setState({showTable7PopUp:!1})}},{key:"getDepartmentOptions",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getAllDepartments();case 2:t=e.sent,a=t.data,s=a.map((function(e){return{value:e.id,label:e.departmentName}})),this.setState({departmentOptions:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,d,h,u,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({defaultDepartmentFilter:t}),this.createUserSettingsArray(oe,t),a=[],s=[],!t){e.next=33;break}n=Object(Ae.a)(t),e.prev=6,n.s();case 8:if((i=n.n()).done){e.next=25;break}return l=i.value,r={departmentId:l.value},e.next=13,Te.getAllHelpTopicByDepartmentId(r);case 13:if(o=e.sent,d=o.data,d.map((function(e){return a.push({value:e.id,label:e.helpTopicName})})),!0!==this.state.showTable7&&!0!==this.state.showTable8&&!0!==this.state.showTable9&&!0!==this.state.showTable10&&!0!==this.state.showTable12){e.next=23;break}return h={departmentIds:l.value},e.next=20,Te.getTeamsByDepartment(h);case 20:u=e.sent,b=u.data,b.map((function(e){return s.push({value:e.teamId,label:e.teamName})}));case 23:e.next=8;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(6),n.e(e.t0);case 30:return e.prev=30,n.f(),e.finish(30);case 33:this.setState({helpTopicOptions:a}),this.setState({departmentAssociatedTeams:s});case 35:case"end":return e.stop()}}),e,this,[[6,27,30,33]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeHelpTopic",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.createUserSettingsArray(ce,t),this.setState({defaultHelptopicFilter:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHelpTopicByDepartment",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={departmentId:t},e.next=3,Te.getAllHelpTopicByDepartmentId(a);case 3:s=e.sent,n=s.data.map((function(e){return{value:e.id,label:e.helpTopicName}})),this.setState({helpTopicOptions:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMyTeams",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={teamLeadId:this.state.userId},e.next=3,Te.getAllTeamsOfLead(t);case 3:a=e.sent,s=a.data.data,n=s.map((function(e){return{value:e.id,label:e.teamName}})),this.setState({myTeamOptions:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeTeams",value:function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.createUserSettingsArray(be,t),this.setState({selectedTeams:t}),e.next=4,this.getTeamLeadsByTeam(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeTeamLead",value:function(e){this.createUserSettingsArray(pe,e),this.setState({defaultTeamLeadFilter:e})}},{key:"getTeamLeadsByTeam",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o,d,h,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],s=Object(Ae.a)(t);try{for(s.s();!(n=s.n()).done;)i=n.value,a.push(i.value)}catch(c){s.e(c)}finally{s.f()}return l={teamIds:a},e.next=6,Te.findAllTeamLeadsByTeam(l);case 6:r=e.sent,console.log(r.data),o=[],d=Object(Ae.a)(r.data);try{for(d.s();!(h=d.n()).done;)u=h.value,o.push({label:u.fullName,value:u.id})}catch(c){d.e(c)}finally{d.f()}this.setState({teamLeads:o});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeDepartmentAssociatedTeam",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,s,n,i,l,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.createUserSettingsArray(me,t),this.setState({defaultDepartmentAssociatedTeam:t}),e.next=4,this.getTeamLeadsByTeam(t);case 4:if(a=[],!0!==this.state.showTable9&&!0!==this.state.showTable10&&!0!==this.state.showTable12){e.next=27;break}s=Object(Ae.a)(t),e.prev=7,s.s();case 9:if((n=s.n()).done){e.next=19;break}return i=n.value,l={teamId:i.value},e.next=14,Te.getAssigneeListByTeam(l);case 14:r=e.sent,o=r.data,o.map((function(e){return a.push({value:e.id,label:"".concat(e.fullName,"<").concat(e.email,">")})}));case 17:e.next=9;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),s.e(e.t0);case 24:return e.prev=24,s.f(),e.finish(24);case 27:this.setState({teamAssociatedAgents:a});case 28:case"end":return e.stop()}}),e,this,[[7,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeTeamAssociatedAgent",value:function(e){this.createUserSettingsArray(ge,e),this.setState({defaultTeamAssociatedAgent:e})}},{key:"render",value:function(){var e=this;return this.state.renderData?Object(s.jsxs)("div",{id:"test",children:[Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"Service Desk Analytics"})}),Object(s.jsx)(Ye.a,{children:Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select Analytics View"}),Object(s.jsx)(Le.a,{styles:{menu:function(e){return Object(He.a)(Object(He.a)({},e),{},{zIndex:9999})}},options:this.state.analyticsViewOptions,value:this.state.selectedAnalyticView,onChange:this.onChangeAnalyticView.bind(this),placeholder:"Select Analytic View"})]})}),(!0===this.state.showTable||!0===this.state.showTable1||this.state.showTable2||this.state.showTable3||this.state.showTable4||this.state.showTable5||this.state.showTable6||this.state.showTable7||this.state.showTable8||this.state.showTable9||this.state.showTable10||this.state.showTable11||this.state.showTable12)&&Object(s.jsx)("div",{children:Object(s.jsxs)(Ye.a,{style:{marginBottom:"10px"},children:[Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Ticket Created Date Range"}),Object(s.jsx)("br",{}),Object(s.jsx)(Qe.a,{onEvent:this.handleDateRangeChange.bind(),initialSettings:{locale:this.state.locale,startDate:this.state.start.toDate(),endDate:this.state.end.toDate(),ranges:{Today:[Ke()().toDate(),Ke()().toDate()],Yesterday:[Ke()().subtract(1,"days").toDate(),Ke()().subtract(1,"days").toDate()],"Last 7 Days":[Ke()().subtract(6,"days").toDate(),Ke()().toDate()],"Last 30 Days":[Ke()().subtract(29,"days").toDate(),Ke()().toDate()],"This Month":[Ke()().startOf("month").toDate(),Ke()().endOf("month").toDate()],"Last Month":[Ke()().subtract(1,"month").startOf("month").toDate(),Ke()().subtract(1,"month").endOf("month").toDate()],"Last 3 Months":[Ke()().subtract(3,"month").startOf("month").toDate(),Ke()().toDate()],"Last 1 Year":[Ke()().subtract(12,"month").startOf("month").toDate(),Ke()().toDate()]}},children:Object(s.jsx)("input",{type:"text",className:"form-control"})})]}),(!0===this.state.showTable2||!0===this.state.showTable3||!0===this.state.showTable4||this.state.showTable5||this.state.showTable6||this.state.showTable7||this.state.showTable8||this.state.showTable9||this.state.showTable10||this.state.showTable11||this.state.showTable12)&&Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Department"}),Object(s.jsx)(Xe.a,{onChange:this.onChangeDepartment.bind(this),value:this.state.defaultDepartmentFilter,placeholderButtonLabel:"Select Department",width:"400px",options:this.state.departmentOptions})]}),(!0===this.state.showTable2||!0===this.state.showTable4||!0===this.state.showTable8)&&Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:this.state.showTable8?"formlabel required":"formlabel",id:"helptopic",children:"Select HelpTopic"}),Object(s.jsx)(Xe.a,{options:this.state.helpTopicOptions,value:this.state.defaultHelptopicFilter,onChange:this.onChangeHelpTopic.bind(this),placeholder:"Select HelpTopic",width:"400px"})]}),(!0===this.state.showTable3||!0===this.state.showTable4||this.state.showTable5||this.state.showTable6||this.state.showTable11)&&Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Select Team"}),Object(s.jsx)(Xe.a,{options:this.state.myTeamOptions,value:this.state.selectedTeams,onChange:this.onChangeTeams.bind(this),placeholder:"Select Team Name",width:"400px"})]}),(!0===this.state.showTable7||this.state.showTable8||!0===this.state.showTable9||!0===this.state.showTable10||!0===this.state.showTable12)&&Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Select Associated Team"}),Object(s.jsx)(Xe.a,{options:this.state.departmentAssociatedTeams,value:this.state.defaultDepartmentAssociatedTeam,onChange:this.onChangeDepartmentAssociatedTeam.bind(this),placeholder:"Select Associated Team",width:"400px"})]}),(!0===this.state.showTable9||!0===this.state.showTable10)&&Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Select Team Agent"}),Object(s.jsx)(Xe.a,{options:this.state.teamAssociatedAgents,value:this.state.defaultTeamAssociatedAgent,onChange:this.onChangeTeamAssociatedAgent.bind(this),placeholder:"Select Team Agent",width:"400px"})]}),(!0===this.state.showTable11||this.state.showTable12)&&Object(s.jsxs)(ze.a,{xs:12,md:4,lg:4,children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Select Team Lead"}),Object(s.jsx)(Xe.a,{options:this.state.teamLeads,value:this.state.defaultTeamLeadFilter,onChange:this.onChangeTeamLead.bind(this),placeholder:"Select Team Lead",width:"400px"})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Filter Tickets"}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"left"},variant:"primary",type:"submit",onClick:this.filterTickets,children:"Filter Tickets"})]}),Object(s.jsxs)(ze.a,{xs:12,md:2,lg:2,children:[Object(s.jsx)(Fe.a.Label,{style:{visibility:"hidden"},children:"Clear Filter"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"left"},variant:"primary",type:"submit",onClick:this.clearFilterSetting,children:"Clear Filter"})]})]})}),this.state.showTable&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,columns:this.userColumns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Actions:function(t){return Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right",cursor:"pointer"},variant:"primary",type:"submit",onClick:e.exportData,children:"Export as CSV"})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage})]})})]})}}})})}),this.state.showTable1PopUp&&Object(s.jsxs)(it.a,{show:this.state.showTable1PopUp,onHide:this.onCloseTable1PopUp,keyboard:!0,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0,children:Object(s.jsxs)(it.a.Title,{style:{color:"#26568e"},children:[this.state.selectedAgingRowData.DepartmentName," Ticket Aging Analysis"]})}),Object(s.jsxs)(it.a.Body,{children:[Object(s.jsx)("h6",{children:"Overdue Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Overdue Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{})]})]}),this.state.showTable1&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,columns:this.agentColumns,data:this.remoteData1.bind(),tableRef:this.tableRef,options:{actionsColumnIndex:10,paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData1,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverDuePercentage})]})})]})}},actions:[{icon:"show_chart",tooltip:"View Aging Analysis",position:"auto",onClick:function(t,a){return e.getTicketAgingAnalysis(a)}}]})})}),this.state.showTable2&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,data:this.remoteData2.bind(),columns:this.table2Columns,tableRef:this.tableRef,options:{actionsColumnIndex:10,paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData2,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverDuePercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenPercentage})]})})]})}}})})}),this.state.showTable3PopUp&&Object(s.jsxs)(it.a,{show:this.state.showTable3PopUp,onHide:this.onCloseTable3PopUp,keyboard:!0,backdrop:"static",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0,children:Object(s.jsxs)(it.a.Title,{style:{color:"#26568e"},children:[this.state.selectedAgingRowData.DepartmentName," Ticket Aging Analysis"]})}),Object(s.jsxs)(it.a.Body,{children:[Object(s.jsx)("h6",{children:"Overdue Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Overdue Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{})]})]}),this.state.showTable3&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,columns:this.teamLeadDepartmentColumns,data:this.remoteData3.bind(),tableRef:this.tableRef,options:{actionsColumnIndex:10,paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData3,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"-"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverDuePercentage})]})})]})}},actions:[{icon:"show_chart",tooltip:"View Aging Analysis",position:"auto",onClick:function(t,a){return e.getTicketAgingAnalysis(a)}}]})})}),this.state.showTable4&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,data:this.remoteData4.bind(),columns:this.table4Columns,tableRef:this.tableRef,options:{actionsColumnIndex:10,paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData4,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"-"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverDuePercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenPercentage})]})})]})}}})})}),this.state.showTable5PopUp&&Object(s.jsxs)(it.a,{show:this.state.showTable5PopUp,onHide:this.onCloseTable5PopUp,keyboard:!0,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0,children:Object(s.jsxs)(it.a.Title,{style:{color:"#26568e"},children:[this.state.selectedAgingRowData.DepartmentName," Ticket Aging Analysis"]})}),Object(s.jsxs)(it.a.Body,{children:[Object(s.jsx)("h6",{children:"Overdue Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Overdue Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{})]})]}),this.state.showTable5&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,columns:this.teamLeadAgentsColumns,data:this.remoteData5.bind(),tableRef:this.tableRef,options:{actionsColumnIndex:10,paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData5,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverDuePercentage})]})})]})}},actions:[{icon:"show_chart",tooltip:"View Aging Analysis",position:"auto",onClick:function(t,a){return e.getTicketAgingAnalysisTable5(a)}}]})})}),this.state.showTable6&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,columns:this.teamLeadAgentSLAColumns,data:this.remoteData6.bind(),tableRef:this.tableRef,options:{paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData6,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount})]})})]})}}})})}),this.state.showTable7PopUp&&Object(s.jsxs)(it.a,{show:this.state.showTable7PopUp,onHide:this.onCloseTable7PopUp,keyboard:!0,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0,children:Object(s.jsxs)(it.a.Title,{style:{color:"#26568e"},children:[this.state.selectedAgingRowData.DepartmentName," Ticket Aging Analysis"]})}),Object(s.jsxs)(it.a.Body,{children:[Object(s.jsx)("h6",{children:"Overdue Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Overdue Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{})]})]}),this.state.showTable7&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,columns:this.centralAgentDepartmentColumns,data:this.remoteData7.bind(),tableRef:this.tableRef,options:{actionsColumnIndex:10,paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData7,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverDuePercentage})]})})]})}},actions:[{icon:"show_chart",tooltip:"View Aging Analysis",position:"auto",onClick:function(t,a){return e.getTicketAgingAnalysisTable7(a)}}]})})}),this.state.showTable8&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,data:this.remoteData8.bind(),columns:this.table8Columns,tableRef:this.tableRef,options:{actionsColumnIndex:10,paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData8,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverDuePercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenPercentage})]})})]})}}})})}),this.state.showTable9PopUp&&Object(s.jsxs)(it.a,{show:this.state.showTable9PopUp,onHide:this.onCloseTable9PopUp,keyboard:!0,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0,children:Object(s.jsxs)(it.a.Title,{style:{color:"#26568e"},children:[this.state.selectedAgingRowData.DepartmentName," Ticket Aging Analysis"]})}),Object(s.jsxs)(it.a.Body,{children:[Object(s.jsx)("h6",{children:"Overdue Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Overdue Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{})]})]}),this.state.showTable9&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,columns:this.teamLeadAgentsColumns,data:this.remoteData9.bind(),tableRef:this.tableRef,options:{actionsColumnIndex:10,paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData9,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverDuePercentage})]})})]})}},actions:[{icon:"show_chart",tooltip:"View Aging Analysis",position:"auto",onClick:function(t,a){return e.getTicketAgingAnalysisTable9(a)}}]})})}),this.state.showTable10&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,columns:this.teamLeadAgentSLAColumns,data:this.remoteData10.bind(),tableRef:this.tableRef,options:{paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData10,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount})]})})]})}}})})}),this.state.showTable11PopUp&&Object(s.jsxs)(it.a,{show:this.state.showTable11PopUp,onHide:this.onCloseTable11PopUp,keyboard:!0,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0,children:Object(s.jsx)(it.a.Title,{style:{color:"#26568e"},children:"Ticket Aging Analysis"})}),Object(s.jsxs)(it.a.Body,{children:[Object(s.jsx)("h6",{children:"Overdue Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Overdue Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{})]})]}),this.state.showTable11&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,columns:this.table11Columns,data:this.remoteData11.bind(),tableRef:this.tableRef,options:{actionsColumnIndex:10,paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData11,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverDuePercentage})]})})]})}},actions:[{icon:"show_chart",tooltip:"View Aging Analysis",position:"auto",onClick:function(t,a){return e.getTicketAgingAnalysisTable11(a)}}]})})}),this.state.showTable12PopUp&&Object(s.jsxs)(it.a,{show:this.state.showTable12PopUp,onHide:this.onCloseTable12PopUp,keyboard:!0,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(s.jsx)(it.a.Header,{closeButton:!0,children:Object(s.jsx)(it.a.Title,{style:{color:"#26568e"},children:"Ticket Aging Analysis"})}),Object(s.jsxs)(it.a.Body,{children:[Object(s.jsx)("h6",{children:"Overdue Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Overdue Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.OverdueAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In Numbers"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday})]})})]}),Object(s.jsx)("br",{}),Object(s.jsx)("h6",{children:"Closed Tickets In %"}),Object(s.jsxs)(At.a,{responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"0 Day"}),Object(s.jsx)("th",{children:"1 Day"}),Object(s.jsx)("th",{children:"2 Days"}),Object(s.jsx)("th",{children:"3 Days"}),Object(s.jsx)("th",{children:"4 Days"}),Object(s.jsx)("th",{children:"5 Days"}),Object(s.jsx)("th",{children:"6 Days"}),Object(s.jsx)("th",{children:"7 Days"}),Object(s.jsxs)("th",{children:[">7"," Days"]})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].zeroday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].oneday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].twoday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].threeday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fourday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].fiveday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sixday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenday_percentage}),Object(s.jsx)("td",{children:this.state.selectedAgingRowData.ClosedAging[0].sevenplusday_percentage})]})})]}),Object(s.jsx)("br",{})]})]}),this.state.showTable12&&this.state.displayTable&&Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)(We.a,{title:!1,columns:this.table12Columns,data:this.remoteData12.bind(),tableRef:this.tableRef,options:{actionsColumnIndex:10,paging:!1,exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,maxBodyHeight:"450px",padding:"dense",pageSize:20,search:!1,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold",zIndex:"1"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},components:{Toolbar:function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(Ge.MTableToolbar,Object(He.a)({},t)),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",cursor:"pointer",marginLeft:"85%",maxHeight:"40px",marginTop:"13px"},variant:"primary",type:"submit",onClick:e.exportData12,children:"Export as CSV"})]})},Body:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ge.MTableBody,Object(He.a)({},t)),Object(s.jsx)(It.a,{children:Object(s.jsxs)(Ft.a,{children:[Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"A"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:"Total"}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOpenTotal}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverdueCount}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandClosedPercentage}),Object(s.jsx)(Nt.a,{style:{fontSize:"16px",fontWeight:"bold",color:"black"},colSpan:1,children:e.state.GrandOverDuePercentage})]})})]})}},actions:[{icon:"show_chart",tooltip:"View Aging Analysis",position:"auto",onClick:function(t,a){return e.getTicketAgingAnalysisTable12(a)}}]})})})]}):Object(s.jsx)("div",{})}}]),a}(n.Component),Lt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.login=s.login.bind(Object(Ie.a)(s)),s.onChangeEmail=s.onChangeEmail.bind(Object(Ie.a)(s)),s.onChangePassword=s.onChangePassword.bind(Object(Ie.a)(s)),s.state={email:void 0,password:void 0},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"login",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t={email:this.state.email,password:this.state.password}).email&&""!==t.email){e.next=3;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 3:if(void 0!==t.password&&""!==t.password){e.next=5;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 5:return e.prev=5,e.next=8,Te.login(t).then(function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.success?(console.log(t),sessionStorage.setItem("email",t.data.responseObj.email),sessionStorage.setItem("mobile",t.data.responseObj.mobile),sessionStorage.setItem("openId",t.data.responseObj.openId),sessionStorage.setItem("userId",t.data.responseObj.id),sessionStorage.setItem("userDepartment",t.data.responseObj.openDepartmentId),sessionStorage.setItem("mobile",t.data.responseObj.mobile),sessionStorage.setItem("employeeId",t.data.responseObj.employeeId),sessionStorage.setItem("jwtToken",t.data.responseObj.token),a.props.history.push("/ticket"),window.location.reload()):a.showErrorToast(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)("div",{style:{margin:"auto",width:"30%",paddingTop:"250px"},children:Object(s.jsx)("div",{class:"shadow p-3 mb-5 rounded",style:{backgroundColor:"#ffefd5"},children:Object(s.jsxs)(Fe.a,{children:[Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Email address"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter email",value:this.state.email,onChange:this.onChangeEmail}),Object(s.jsx)(Fe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Password"}),Object(s.jsx)(Fe.a.Control,{type:"password",placeholder:"Password",value:this.state.password,onChange:this.onChangePassword})]}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143"},variant:"primary",type:"button",onClick:this.login,children:"Login"})]})})})})}}]),a}(n.Component),Rt=a(533),Et=function(e){var t=e.component,a=Object(Rt.a)(e,["component"]),n=sessionStorage.getItem("userId");if(console.log("Pawan"+n),null!==n)return null!==n&&Object(s.jsx)(g.a,Object(He.a)(Object(He.a)({},a),{},{render:function(e){return Object(s.jsx)(t,Object(He.a)({},e))}}));window.location.hostname.includes("nspirahelpdesk.smaera.com")?window.location.href=xe+"/api/auth":window.location.href=xe+"/login"},Bt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.submit=s.submit.bind(Object(Ie.a)(s)),s.onChangeSmtpHost=s.onChangeSmtpHost.bind(Object(Ie.a)(s)),s.onChangeSmtpPort=s.onChangeSmtpPort.bind(Object(Ie.a)(s)),s.onChangeSmtpUser=s.onChangeSmtpUser.bind(Object(Ie.a)(s)),s.onChangeSmtpPassword=s.onChangeSmtpPassword.bind(Object(Ie.a)(s)),s.onChangeSmtpEmail=s.onChangeSmtpEmail.bind(Object(Ie.a)(s)),s.state={smtp_host:void 0,smtp_port:void 0,smtp_user:void 0,smtp_password:void 0,smtp_email:void 0},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,Te.findByTenantName(t);case 3:a=e.sent,console.log(a),this.setState({smtp_host:a.data.data.smtp_host}),this.setState({smtp_port:a.data.data.smtp_port}),this.setState({smtp_user:a.data.data.smtp_user}),this.setState({smtp_password:a.data.data.smtp_password}),this.setState({smtp_email:a.data.data.smtp_email});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeSmtpHost",value:function(e){this.setState({smtp_host:e.target.value})}},{key:"onChangeSmtpPort",value:function(e){this.setState({smtp_port:e.target.value})}},{key:"onChangeSmtpUser",value:function(e){this.setState({smtp_user:e.target.value})}},{key:"onChangeSmtpPassword",value:function(e){this.setState({smtp_password:e.target.value})}},{key:"onChangeSmtpEmail",value:function(e){this.setState({smtp_email:e.target.value})}},{key:"submit",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t={smtp_host:this.state.smtp_host,smtp_port:this.state.smtp_port,smtp_user:this.state.smtp_user,smtp_password:this.state.smtp_password,smtp_email:this.state.smtp_email}).smtp_host&&""!==t.smtp_host){e.next=3;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 3:if(void 0!==t.smtp_port&&""!==t.smtp_port){e.next=5;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 5:if(void 0!==t.smtp_user&&""!==t.smtp_user){e.next=7;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 7:if(void 0!==t.smtp_password&&""!==t.smtp_password){e.next=9;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 9:if(void 0!==t.smtp_email&&""!==t.smtp_email){e.next=11;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 11:return e.prev=11,e.next=14,Te.createUpdateSmtpConfigTenantSettings(t).then(function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.success?(a.showSuccessToast("SMTP Configured Successfully"),console.log(t)):a.showErrorToast(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[11,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)("div",{children:Object(s.jsxs)("div",{class:"shadow p-3 mb-5 rounded",style:{backgroundColor:"#ffffff"},children:[Object(s.jsx)("div",{style:{marginTop:"10px",marginBottom:"20px"},children:Object(s.jsx)("h5",{className:"formHeading",children:"Configure SMTP"})}),Object(s.jsxs)(Fe.a,{children:[Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicSmtpHost",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"SMTP HOST"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter SMTP Host",value:this.state.smtp_host,onChange:this.onChangeSmtpHost})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicSmtpPort",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"SMTP PORT"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter SMTP Port",value:this.state.smtp_port,onChange:this.onChangeSmtpPort})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicSmtpUser",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"SMTP USER"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter SMTP User",value:this.state.smtp_user,onChange:this.onChangeSmtpUser})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicSmtpPassword",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"SMTP PASSWORD"}),Object(s.jsx)(Fe.a.Control,{type:"password",placeholder:"Enter SMTP Password",value:this.state.smtp_password,onChange:this.onChangeSmtpPassword})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicSmtpEmail",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"SMTP EMAIL ADDRESS"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter SMTP Email Address",value:this.state.smtp_email,onChange:this.onChangeSmtpEmail})]}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143"},variant:"primary",type:"button",onClick:this.submit,children:"Submit"})]})]})})})}}]),a}(n.Component),Mt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;if(Object(h.a)(this,a),(s=t.call(this,e)).showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.saveUpdateUsers=s.saveUpdateUsers.bind(Object(Ie.a)(s)),s.onChangeEmail=s.onChangeEmail.bind(Object(Ie.a)(s)),s.onChangeFullName=s.onChangeFullName.bind(Object(Ie.a)(s)),s.onChangeOpenId=s.onChangeOpenId.bind(Object(Ie.a)(s)),s.onChangeMobile=s.onChangeMobile.bind(Object(Ie.a)(s)),s.onChangeOfficeType=s.onChangeOfficeType.bind(Object(Ie.a)(s)),s.onChangeDesignation=s.onChangeDesignation.bind(Object(Ie.a)(s)),s.onChangeHelpDeskRole=s.onChangeHelpDeskRole.bind(Object(Ie.a)(s)),s.onChangeBranch=s.onChangeBranch.bind(Object(Ie.a)(s)),s.onChangeOpenDepartmentId=s.onChangeOpenDepartmentId.bind(Object(Ie.a)(s)),s.onChangeEmployeeId=s.onChangeEmployeeId.bind(Object(Ie.a)(s)),s.onChangePassword=s.onChangePassword.bind(Object(Ie.a)(s)),s.state={email:void 0,fullName:void 0,openId:void 0,mobile:void 0,officeType:void 0,designation:void 0,helpdeskRole:void 0,branch:void 0,openDepartmentId:void 0,employeeId:void 0,password:void 0,userId:void 0},s.isViewMode=!1,window.location.href.includes("/id:")){var n=window.location.href.split("/id:");s.state.userId=n[1],s.isViewMode=!0}return s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.href,a=new URL(t),s=a.slice,console.log(s),s&&this.getUserDetails(),void 0===this.state.userId){e.next=22;break}return n={id:this.state.userId},e.next=9,Te.getUserById(n);case 9:i=e.sent,console.log(i),this.setState({fullName:i.data.fullName}),console.log(this.state.fullName),this.setState({email:i.data.email}),this.setState({openId:i.data.openId}),this.setState({mobile:i.data.mobile}),this.setState({helpdeskRole:i.data.helpdeskRole}),this.setState({openDepartmentId:i.data.openDepartmentId}),this.setState({employeeId:i.data.employeeId}),this.setState({officeType:i.data.officeType}),this.setState({branch:i.data.branch}),this.setState({designation:i.data.designation});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeFullName",value:function(e){this.setState({fullName:e.target.value})}},{key:"onChangeOpenId",value:function(e){this.setState({openId:e.target.value})}},{key:"onChangeMobile",value:function(e){this.setState({mobile:e.target.value})}},{key:"onChangeOfficeType",value:function(e){this.setState({officeType:e.target.value})}},{key:"onChangeDesignation",value:function(e){this.setState({designation:e.target.value})}},{key:"onChangeHelpDeskRole",value:function(e){this.setState({helpdeskRole:e.target.value})}},{key:"onChangeBranch",value:function(e){this.setState({branch:e.target.value})}},{key:"onChangeOpenDepartmentId",value:function(e){this.setState({openDepartmentId:e.target.value})}},{key:"onChangeEmployeeId",value:function(e){this.setState({employeeId:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"saveUpdateUsers",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!this.state.userId){e.next=7;break}return t={id:this.state.userId,email:this.state.email,fullName:this.state.fullName,openId:this.state.openId,mobile:this.state.mobile,officeType:this.state.officeType,designation:this.state.designation,helpdeskRole:this.state.helpdeskRole,branch:this.state.branch,openDepartmentId:this.state.openDepartmentId,employeeId:this.state.employeeId},e.next=5,Te.create(t).then((function(e){e?(a.showSuccessToast(" Details Submitted Successfully"),a.props.history.push("/usersList")):a.showErrorToast(e.data.message)}));case 5:e.next=10;break;case 7:return t={email:this.state.email,fullName:this.state.fullName,openId:this.state.openId,mobile:this.state.mobile,officeType:this.state.officeType,designation:this.state.designation,helpdeskRole:this.state.helpdeskRole,branch:this.state.branch,openDepartmentId:this.state.openDepartmentId,employeeId:this.state.employeeId,password:this.state.password},e.next=10,Te.create(t).then((function(e){e?(a.showSuccessToast("User details submitted"),a.props.history.push("/usersList")):a.showErrorToast(e.data.message)}));case 10:if(void 0!==t.email&&""!==t.email){e.next=12;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 12:if(void 0!==t.fullName&&""!==t.fullName){e.next=14;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 14:if(void 0!==t.openId&&""!==t.openId){e.next=16;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 16:if(void 0!==t.mobile&&""!==t.mobile){e.next=18;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 18:if(void 0!==t.officeType&&""!==t.officeType){e.next=20;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 20:if(void 0!==t.designation&&""!==t.designation){e.next=22;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 22:if(void 0!==t.helpdeskRole&&""!==t.helpdeskRole){e.next=24;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 24:if(void 0!==t.branch&&""!==t.branch){e.next=26;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 26:if(void 0!==t.openDepartmentId&&""!==t.openDepartmentId){e.next=28;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 28:if(void 0!==t.employeeId&&""!==t.employeeId){e.next=30;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserDetails",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={userId:this.state.userId},e.next=3,Te.getUserById(t);case 3:a=e.sent,this.setState({email:a.data.teamName}),this.setState({fullName:a.data.fullName}),this.setState({openId:a.data.openId}),this.setState({mobile:a.data.mobile}),this.setState({officeType:a.data.officeType}),this.setState({designation:a.data.designation}),this.setState({helpdeskRole:a.data.helpdeskRole}),this.setState({branch:a.data.branch}),this.setState({openDepartmentId:a.data.openDepartmentId}),this.setState({employeeId:a.data.employeeId}),this.setState({password:a.data.password}),s=Object(Ae.a)(a.data);try{for(s.s();!(n=s.n()).done;)i=n.value,this.getUserDetails(i.value)}catch(l){s.e(l)}finally{s.f()}case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{className:"formHeading",children:"Users"}),Object(s.jsx)("div",{class:"shadow p-3 mb-5 rounded",style:{backgroundColor:"#ffffff"},children:Object(s.jsxs)(Fe.a,{children:[Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Email address"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter email",value:this.state.email,onChange:this.onChangeEmail}),Object(s.jsx)(Fe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicFullName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Full Name"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Full Name",value:this.state.fullName,onChange:this.onChangeFullName})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicOpenId",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Open Id"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Open Id",value:this.state.openId,onChange:this.onChangeOpenId})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicMobile",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"PhoneInput",maxLength:"12",placeholder:"Enter Mobile No.",value:this.state.mobile,onChange:this.onChangeMobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicOfficeType",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Office Type"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Office Type",value:this.state.officeType,onChange:this.onChangeOfficeType})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicDesignation",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Designation"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Designation",value:this.state.designation,onChange:this.onChangeDesignation})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicHelpDeskRole",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Help Desk Role"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Help Desk Role",value:this.state.helpdeskRole,onChange:this.onChangeHelpDeskRole})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicBranch",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Branch"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Branch",value:this.state.branch,onChange:this.onChangeBranch})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicOpenDepartmentId",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Open Department Id"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Department Id",value:this.state.openDepartmentId,onChange:this.onChangeOpenDepartmentId})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicEmployeeId",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Employee Id"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Employee Id",value:this.state.employeeId,onChange:this.onChangeEmployeeId})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicPassword",style:{visibility:void 0==this.state.userId?"visible":"hidden"},children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel ",children:"Password"}),Object(s.jsx)(Fe.a.Control,{type:"password",placeholder:"Password",value:this.state.password,onChange:this.onChangePassword})]}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143"},variant:"primary",type:"button",onClick:this.saveUpdateUsers,children:this.isViewMode?"Update":"Submit"})]})})]})})}}]),a}(n.Component),Ut=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).tableRef=i.a.createRef(),n.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.clickAdd=n.clickAdd.bind(Object(Ie.a)(n)),n.savePageLocation=n.savePageLocation.bind(Object(Ie.a)(n)),n.state={locale:{format:"DD/MM/YYYY"}},n.columns=[{title:"Full Name",field:"fullName",render:function(e){return Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-users","aria-hidden":"true"}),"\xa0\xa0",Object(s.jsx)(m.b,{onClick:n.savePageLocation("/usersList"),to:"/users/id:".concat(e.id),children:e.fullName})]})}},{title:"Email Id",field:"email"},{title:"Mobile No.",field:"mobile"},{title:"Designation",field:"designation"},{title:"Role",field:"helpdeskRole"}],n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"savePageLocation",value:function(e){sessionStorage.setItem("previousPageLocation",e)}},{key:"onTeamSelectionChange",value:function(e){console.log(e)}},{key:"clickAdd",value:function(){this.props.history.push("/users")}},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n,i,l,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.orderDirection,r=void 0,t.orderBy&&(r=t.orderBy.field),e.next=5,Te.getAllUsersList(t.pageSize,t.page,t.search,l,r).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,l,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(Ae.a)(t.data.users);try{for(a.s();!(l=a.n()).done;)(r=l.value).fullName=r.fullName,r.email=r.email,r.mobile=r.mobile,r.designation=r.designation,r.helpdeskRole=r.helpdeskRole}catch(o){a.e(o)}finally{a.f()}s=t.data.users,n=t.data.currentPage,i=t.data.totalItems;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",Promise.resolve({data:s,page:n,totalCount:i}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{id:"test",children:Object(s.jsxs)("div",{style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"Teams"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:{display:"flex",flexDirection:"row",marginLeft:"83%"},children:Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right",marginLeft:"50px",marginBottom:"10px"},onClick:this.clickAdd,variant:"primary",type:"submit",children:"Add User"})}),Object(s.jsx)(We.a,{title:"Users List",columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,search:!0,padding:"dense",pageSize:8,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},onSelectionChange:function(t){e.onTeamSelectionChange(t)}})]})]})})}}]),a}(n.Component),Vt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).tableRef=i.a.createRef(),n.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.clickAdd=n.clickAdd.bind(Object(Ie.a)(n)),n.savePageLocation=n.savePageLocation.bind(Object(Ie.a)(n)),n.exportData=n.exportData.bind(Object(Ie.a)(n)),n.state={locale:{format:"DD/MM/YYYY"}},n.columns=[{title:"Escalation Id",field:"idschoolescalation",render:function(e){return Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-users","aria-hidden":"true"}),"\xa0\xa0",Object(s.jsx)(m.b,{onClick:n.savePageLocation("/schoolList"),to:"/addSchoolEscalation/id:".concat(e.idschoolescalation),children:e.idschoolescalation})]})}},{title:"Branch",field:"branch"},{title:"Department",field:"department"},{title:"Module",field:"module"}],n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"savePageLocation",value:function(e){sessionStorage.setItem("previousPageLocation",e)}},{key:"onTeamSelectionChange",value:function(e){console.log(e)}},{key:"clickAdd",value:function(){this.props.history.push("/addSchoolEscalation")}},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n,i,l,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.orderDirection,r=void 0,t.orderBy&&(r=t.orderBy.field),e.next=5,Te.getAllSchoolEscalationList(t.pageSize,t.page,t.search,l,r).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,l,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(Ae.a)(t.data.schoolEscalationList);try{for(a.s();!(l=a.n()).done;)(r=l.value).idschoolescalation=r.idschoolescalation,r.branch=r.branch,r.department=r.department,r.module=r.module}catch(o){a.e(o)}finally{a.f()}s=t.data.schoolEscalationList,n=t.data.currentPage,i=t.data.totalItems;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",Promise.resolve({data:s,page:n,totalCount:i}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.exportDataDownloadLink=xe+"/api/dataExport/downloadSchoolEscalation",window.location.href=this.state.exportDataDownloadLink;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{id:"test",children:Object(s.jsxs)("div",{style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"School Escalation"}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginLeft:"83%"},children:[Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right",marginLeft:"10px"},onClick:this.clickAdd,variant:"primary",type:"submit",children:"Add Escalation"})]}),Object(s.jsx)(We.a,{title:"School Escalation List",columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,search:!0,padding:"dense",pageSize:8,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},onSelectionChange:function(t){e.onTeamSelectionChange(t)}})]})]})})}}]),a}(n.Component),_t=(a(201),function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;if(Object(h.a)(this,a),(s=t.call(this,e)).showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.saveUpdateSchoolEscalation=s.saveUpdateSchoolEscalation.bind(Object(Ie.a)(s)),s.onChangebranch=s.onChangebranch.bind(Object(Ie.a)(s)),s.onChangedepartment=s.onChangedepartment.bind(Object(Ie.a)(s)),s.onChangemodule=s.onChangemodule.bind(Object(Ie.a)(s)),s.onChangestate=s.onChangestate.bind(Object(Ie.a)(s)),s.onChangedistrict=s.onChangedistrict.bind(Object(Ie.a)(s)),s.onChangeagm=s.onChangeagm.bind(Object(Ie.a)(s)),s.onChangeblankcol=s.onChangeblankcol.bind(Object(Ie.a)(s)),s.onChangel1name=s.onChangel1name.bind(Object(Ie.a)(s)),s.onChangel1mobile=s.onChangel1mobile.bind(Object(Ie.a)(s)),s.onChangel1email=s.onChangel1email.bind(Object(Ie.a)(s)),s.onChangel2name=s.onChangel2name.bind(Object(Ie.a)(s)),s.onChangel2mobile=s.onChangel2mobile.bind(Object(Ie.a)(s)),s.onChangel2email=s.onChangel2email.bind(Object(Ie.a)(s)),s.onChangel3name=s.onChangel3name.bind(Object(Ie.a)(s)),s.onChangel3mobile=s.onChangel3mobile.bind(Object(Ie.a)(s)),s.onChangel3email=s.onChangel3email.bind(Object(Ie.a)(s)),s.onChangel4name=s.onChangel4name.bind(Object(Ie.a)(s)),s.onChangel4mobile=s.onChangel4mobile.bind(Object(Ie.a)(s)),s.onChangel4email=s.onChangel4email.bind(Object(Ie.a)(s)),s.onChangel5name=s.onChangel5name.bind(Object(Ie.a)(s)),s.onChangel5mobile=s.onChangel5mobile.bind(Object(Ie.a)(s)),s.onChangel5email=s.onChangel5email.bind(Object(Ie.a)(s)),s.onChangehodname=s.onChangehodname.bind(Object(Ie.a)(s)),s.onChangehodmobile=s.onChangehodmobile.bind(Object(Ie.a)(s)),s.onChangehodemail=s.onChangehodemail.bind(Object(Ie.a)(s)),s.state={department:void 0,branch:void 0,module:void 0,state:void 0,district:void 0,agm:void 0,blankcol:void 0,l1name:void 0,l1mobile:void 0,l1email:void 0,l2name:void 0,l2mobile:void 0,l2email:void 0,l3name:void 0,l3mobile:void 0,l3email:void 0,l4name:void 0,l4mobile:void 0,l4email:void 0,l5name:void 0,l5mobile:void 0,l5email:void 0,hodname:void 0,hodmobile:void 0,hodemail:void 0,idschoolescalation:void 0},s.isViewMode=!1,window.location.href.includes("/id:")){var n=window.location.href.split("/id:");s.state.idschoolescalation=n[1],s.isViewMode=!0}return s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.state.idschoolescalation){e.next=31;break}return t={id:this.state.idschoolescalation},e.next=4,Te.getSchoolEscalationById(t);case 4:a=e.sent,console.log(a),this.setState({department:a.data.department}),this.setState({branch:a.data.branch}),this.setState({module:a.data.module}),this.setState({state:a.data.state}),this.setState({district:a.data.district}),this.setState({agm:a.data.agm}),this.setState({blankcol:a.data.blankcol}),this.setState({l1name:a.data.l1name}),this.setState({l1mobile:a.data.l1mobile}),this.setState({l1email:a.data.l1email}),this.setState({l2name:a.data.l2name}),this.setState({l2mobile:a.data.l2mobile}),this.setState({l2email:a.data.l2email}),this.setState({l3name:a.data.l3name}),this.setState({l3mobile:a.data.l3mobile}),this.setState({l3email:a.data.l3email}),this.setState({l4name:a.data.l4name}),this.setState({l4mobile:a.data.l4mobile}),this.setState({l4email:a.data.l4email}),this.setState({l5name:a.data.l5name}),this.setState({l5mobile:a.data.l5mobile}),this.setState({l5email:a.data.l5email}),this.setState({hodname:a.data.hodname}),this.setState({hodmobile:a.data.hodmobile}),this.setState({hodemail:a.data.hodemail});case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangebranch",value:function(e){this.setState({branch:e.target.value})}},{key:"onChangedepartment",value:function(e){this.setState({department:e.target.value})}},{key:"onChangemodule",value:function(e){this.setState({module:e.target.value})}},{key:"onChangestate",value:function(e){this.setState({state:e.target.value})}},{key:"onChangedistrict",value:function(e){this.setState({district:e.target.value})}},{key:"onChangeagm",value:function(e){this.setState({agm:e.target.value})}},{key:"onChangeblankcol",value:function(e){this.setState({blankcol:e.target.value})}},{key:"onChangel1name",value:function(e){this.setState({l1name:e.target.value})}},{key:"onChangel1mobile",value:function(e){this.setState({l1mobile:e.target.value})}},{key:"onChangel1email",value:function(e){this.setState({l1email:e.target.value})}},{key:"onChangel2name",value:function(e){this.setState({l2name:e.target.value})}},{key:"onChangel2mobile",value:function(e){this.setState({l2mobile:e.target.value})}},{key:"onChangel2email",value:function(e){this.setState({l2email:e.target.value})}},{key:"onChangel3name",value:function(e){this.setState({l3name:e.target.value})}},{key:"onChangel3mobile",value:function(e){this.setState({l3mobile:e.target.value})}},{key:"onChangel3email",value:function(e){this.setState({l3email:e.target.value})}},{key:"onChangel4name",value:function(e){this.setState({l4name:e.target.value})}},{key:"onChangel4mobile",value:function(e){this.setState({l4mobile:e.target.value})}},{key:"onChangel4email",value:function(e){this.setState({l4email:e.target.value})}},{key:"onChangel5name",value:function(e){this.setState({l5name:e.target.value})}},{key:"onChangel5mobile",value:function(e){this.setState({l5mobile:e.target.value})}},{key:"onChangel5email",value:function(e){this.setState({l5email:e.target.value})}},{key:"onChangehodname",value:function(e){this.setState({hodname:e.target.value})}},{key:"onChangehodmobile",value:function(e){this.setState({hodmobile:e.target.value})}},{key:"onChangehodemail",value:function(e){this.setState({hodemail:e.target.value})}},{key:"saveUpdateSchoolEscalation",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!this.state.idschoolescalation){e.next=7;break}return t={department:this.state.department,branch:this.state.branch,module:this.state.module,state:this.state.state,district:this.state.district,agm:this.state.agm,blankcol:this.state.blankcol,l1name:this.state.l1name,l1mobile:this.state.l1mobile,l1email:this.state.l1email,l2name:this.state.l2name,l2mobile:this.state.l2mobile,l2email:this.state.l2email,l3name:this.state.l3name,l3mobile:this.state.l3mobile,l3email:this.state.l3email,l4name:this.state.l4name,l4mobile:this.state.l4mobile,l4email:this.state.l4email,l5name:this.state.l5name,l5mobile:this.state.l5mobile,l5email:this.state.l5email,hodname:this.state.hodname,hodmobile:this.state.hodmobile,hodemail:this.state.hodemail,id:this.state.idschoolescalation},e.next=5,Te.createUpdateSchool(t).then((function(e){e?(a.showSuccessToast(" Details Submitted Successfully"),a.props.history.push("/schoolList")):a.showErrorToast(e.message)}));case 5:e.next=10;break;case 7:return t={department:this.state.department,branch:this.state.branch,module:this.state.module,state:this.state.state,district:this.state.district,agm:this.state.agm,blankcol:this.state.blankcol,l1name:this.state.l1name,l1mobile:this.state.l1mobile,l1email:this.state.l1email,l2name:this.state.l2name,l2mobile:this.state.l2mobile,l2email:this.state.l2email,l3name:this.state.l3name,l3mobile:this.state.l3mobile,l3email:this.state.l3email,l4name:this.state.l4name,l4mobile:this.state.l4mobile,l4email:this.state.l4email,l5name:this.state.l5name,l5mobile:this.state.l5mobile,l5email:this.state.l5email,hodname:this.state.hodname,hodmobile:this.state.hodmobile,hodemail:this.state.hodemail},e.next=10,Te.createUpdateSchool(t).then((function(e){e?(a.showSuccessToast("Details submitted"),a.props.history.push("/schoolList")):a.showErrorToast(e.message)}));case 10:if(void 0!==t.department&&""!==t.department){e.next=12;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 12:if(void 0!==t.branch&&""!==t.branch){e.next=14;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 14:if(void 0!==t.module&&""!==t.module){e.next=16;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSchoolEscalationDetails",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idschoolescalation:this.state.idschoolescalation},e.next=3,Te.getSchoolEscalationById(t);case 3:a=e.sent,this.setState({department:a.data.department}),this.setState({department:a.data.branch}),this.setState({module:a.data.module}),this.setState({state:a.data.state}),this.setState({district:a.data.district}),this.setState({agm:a.data.agm}),this.setState({blankcol:a.data.blankcol}),this.setState({l1name:a.data.l1name}),this.setState({l1mobile:a.data.l1mobile}),this.setState({l1email:a.data.l1email}),this.setState({l2name:a.data.l2name}),this.setState({l2mobile:a.data.l2mobile}),this.setState({l2email:a.data.l2email}),this.setState({l3name:a.data.l3name}),this.setState({l3mobile:a.data.l3mobile}),this.setState({l3email:a.data.l3email}),this.setState({l4name:a.data.l4name}),this.setState({l4mobile:a.data.l4mobile}),this.setState({l4email:a.data.l4email}),this.setState({l5name:a.data.l5name}),this.setState({l5mobile:a.data.l5mobile}),this.setState({l5email:a.data.l5email}),this.setState({hodname:a.data.hodname}),this.setState({hodmobile:a.data.hodmobile}),this.setState({hodemail:a.data.hodemail}),s=Object(Ae.a)(a.data);try{for(s.s();!(n=s.n()).done;)i=n.value,this.getSchoolEscalationDetails(i.value)}catch(l){s.e(l)}finally{s.f()}case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{className:"formHeading",children:"School Escalation"}),Object(s.jsx)("div",{class:"shadow p-3 mb-5 rounded",style:{backgroundColor:"#ffffff"},children:Object(s.jsxs)(Fe.a,{children:[Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Branch"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Branch",value:this.state.branch,onChange:this.onChangebranch})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicFullName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Department"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Department",value:this.state.department,onChange:this.onChangedepartment})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicOpenId",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Module"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Module",value:this.state.module,onChange:this.onChangemodule})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicMobile",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"State"}),Object(s.jsx)(Fe.a.Control,{type:"PhoneInput",maxLength:"12",placeholder:"Enter State",value:this.state.state,onChange:this.onChangestate})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicOfficeType",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel ",children:"District"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter District",value:this.state.district,onChange:this.onChangedistrict})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicDesignation",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"agm"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Agm",value:this.state.agm,onChange:this.onChangeagm})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicHelpDeskRole",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"blankcol"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Blankcol",value:this.state.blankcol,onChange:this.onChangeblankcol})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 1 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-1 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l1name,onChange:this.onChangel1name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-1 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l1mobile,onChange:this.onChangel1mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-1 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l1email,onChange:this.onChangel1email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 2 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-2 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l2name,onChange:this.onChangel2name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-2 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l2mobile,onChange:this.onChangel2mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-2 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l2email,onChange:this.onChangel2email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 3 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-3 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l3name,onChange:this.onChangel3name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-3 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l3mobile,onChange:this.onChangel3mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-3 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l3email,onChange:this.onChangel3email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 4 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-4 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l4name,onChange:this.onChangel4name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-4 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l4mobile,onChange:this.onChangel4mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-4 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l4email,onChange:this.onChangel4email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 5 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-5 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l5name,onChange:this.onChangel5name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-5 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l5mobile,onChange:this.onChangel5mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-5 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l5email,onChange:this.onChangel5email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Hod Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Hod Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.hodname,onChange:this.onChangehodname})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Hod Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.hodmobile,onChange:this.onChangehodmobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Hod Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.hodemail,onChange:this.onChangehodemail})]}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143"},variant:"primary",type:"button",onClick:this.saveUpdateSchoolEscalation,children:this.isViewMode?"Update":"Submit"})]})})]})})}}]),a}(n.Component)),Ht=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).tableRef=i.a.createRef(),n.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.clickAdd=n.clickAdd.bind(Object(Ie.a)(n)),n.savePageLocation=n.savePageLocation.bind(Object(Ie.a)(n)),n.exportData=n.exportData.bind(Object(Ie.a)(n)),n.state={locale:{format:"DD/MM/YYYY"}},n.columns=[{title:"College Escalation Id",field:"idcollegeescalation",render:function(e){return Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-users","aria-hidden":"true"}),"\xa0\xa0",Object(s.jsx)(m.b,{onClick:n.savePageLocation("/collegeList"),to:"/addCollegeEscalation/id:".concat(e.idcollegeescalation),children:e.idcollegeescalation})]})}},{title:"Branch",field:"branch"},{title:"Department",field:"department"},{title:"Module",field:"module"}],n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"savePageLocation",value:function(e){sessionStorage.setItem("previousPageLocation",e)}},{key:"onTeamSelectionChange",value:function(e){console.log(e)}},{key:"clickAdd",value:function(){this.props.history.push("/addCollegeEscalation")}},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n,i,l,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.orderDirection,r=void 0,t.orderBy&&(r=t.orderBy.field),e.next=5,Te.getAllCollegeEscalationList(t.pageSize,t.page,t.search,l,r).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,l,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(Ae.a)(t.data.collegeEscalationList);try{for(a.s();!(l=a.n()).done;)(r=l.value).idcollegeescalation=r.idcollegeescalation,r.branch=r.branch,r.department=r.department,r.module=r.module}catch(o){a.e(o)}finally{a.f()}s=t.data.collegeEscalationList,n=t.data.currentPage,i=t.data.totalItems;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",Promise.resolve({data:s,page:n,totalCount:i}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.exportDataDownloadLink=xe+"/api/dataExport/downloadCollegeEscalation",window.location.href=this.state.exportDataDownloadLink;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{id:"test",children:Object(s.jsxs)("div",{style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"College Escalation"}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginLeft:"83%"},children:[Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right",marginLeft:"10px"},onClick:this.clickAdd,variant:"primary",type:"submit",children:"Add Escalation"})]}),Object(s.jsx)(We.a,{title:"College Escalation List",columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,search:!0,padding:"dense",pageSize:8,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},onSelectionChange:function(t){e.onTeamSelectionChange(t)}})]})]})})}}]),a}(n.Component),Gt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;if(Object(h.a)(this,a),(s=t.call(this,e)).showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.saveUpdateCollegeEscalation=s.saveUpdateCollegeEscalation.bind(Object(Ie.a)(s)),s.onChangebranch=s.onChangebranch.bind(Object(Ie.a)(s)),s.onChangedepartment=s.onChangedepartment.bind(Object(Ie.a)(s)),s.onChangemodule=s.onChangemodule.bind(Object(Ie.a)(s)),s.onChangestate=s.onChangestate.bind(Object(Ie.a)(s)),s.onChangedistrict=s.onChangedistrict.bind(Object(Ie.a)(s)),s.onChangeagm=s.onChangeagm.bind(Object(Ie.a)(s)),s.onChangeblankcol=s.onChangeblankcol.bind(Object(Ie.a)(s)),s.onChangel1name=s.onChangel1name.bind(Object(Ie.a)(s)),s.onChangel1mobile=s.onChangel1mobile.bind(Object(Ie.a)(s)),s.onChangel1email=s.onChangel1email.bind(Object(Ie.a)(s)),s.onChangel2name=s.onChangel2name.bind(Object(Ie.a)(s)),s.onChangel2mobile=s.onChangel2mobile.bind(Object(Ie.a)(s)),s.onChangel2email=s.onChangel2email.bind(Object(Ie.a)(s)),s.onChangel3name=s.onChangel3name.bind(Object(Ie.a)(s)),s.onChangel3mobile=s.onChangel3mobile.bind(Object(Ie.a)(s)),s.onChangel3email=s.onChangel3email.bind(Object(Ie.a)(s)),s.onChangel4name=s.onChangel4name.bind(Object(Ie.a)(s)),s.onChangel4mobile=s.onChangel4mobile.bind(Object(Ie.a)(s)),s.onChangel4email=s.onChangel4email.bind(Object(Ie.a)(s)),s.onChangel5name=s.onChangel5name.bind(Object(Ie.a)(s)),s.onChangel5mobile=s.onChangel5mobile.bind(Object(Ie.a)(s)),s.onChangel5email=s.onChangel5email.bind(Object(Ie.a)(s)),s.onChangehodname=s.onChangehodname.bind(Object(Ie.a)(s)),s.onChangehodmobile=s.onChangehodmobile.bind(Object(Ie.a)(s)),s.onChangehodemail=s.onChangehodemail.bind(Object(Ie.a)(s)),s.state={department:void 0,branch:void 0,module:void 0,state:void 0,district:void 0,agm:void 0,blankcol:void 0,l1name:void 0,l1mobile:void 0,l1email:void 0,l2name:void 0,l2mobile:void 0,l2email:void 0,l3name:void 0,l3mobile:void 0,l3email:void 0,l4name:void 0,l4mobile:void 0,l4email:void 0,l5name:void 0,l5mobile:void 0,l5email:void 0,hodname:void 0,hodmobile:void 0,hodemail:void 0,idcollegeescalation:void 0},s.isViewMode=!1,window.location.href.includes("/id:")){var n=window.location.href.split("/id:");s.state.idcollegeescalation=n[1],s.isViewMode=!0}return s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.state.idcollegeescalation){e.next=31;break}return t={id:this.state.idcollegeescalation},e.next=4,Te.getCollegeEscalationById(t);case 4:a=e.sent,console.log(a),this.setState({department:a.data.department}),this.setState({branch:a.data.branch}),this.setState({module:a.data.module}),this.setState({state:a.data.state}),this.setState({district:a.data.district}),this.setState({agm:a.data.agm}),this.setState({blankcol:a.data.blankcol}),this.setState({l1name:a.data.l1name}),this.setState({l1mobile:a.data.l1mobile}),this.setState({l1email:a.data.l1email}),this.setState({l2name:a.data.l2name}),this.setState({l2mobile:a.data.l2mobile}),this.setState({l2email:a.data.l2email}),this.setState({l3name:a.data.l3name}),this.setState({l3mobile:a.data.l3mobile}),this.setState({l3email:a.data.l3email}),this.setState({l4name:a.data.l4name}),this.setState({l4mobile:a.data.l4mobile}),this.setState({l4email:a.data.l4email}),this.setState({l5name:a.data.l5name}),this.setState({l5mobile:a.data.l5mobile}),this.setState({l5email:a.data.l5email}),this.setState({hodname:a.data.hodname}),this.setState({hodmobile:a.data.hodmobile}),this.setState({hodemail:a.data.hodemail});case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangebranch",value:function(e){this.setState({branch:e.target.value})}},{key:"onChangedepartment",value:function(e){this.setState({department:e.target.value})}},{key:"onChangemodule",value:function(e){this.setState({module:e.target.value})}},{key:"onChangestate",value:function(e){this.setState({state:e.target.value})}},{key:"onChangedistrict",value:function(e){this.setState({district:e.target.value})}},{key:"onChangeagm",value:function(e){this.setState({agm:e.target.value})}},{key:"onChangeblankcol",value:function(e){this.setState({blankcol:e.target.value})}},{key:"onChangel1name",value:function(e){this.setState({l1name:e.target.value})}},{key:"onChangel1mobile",value:function(e){this.setState({l1mobile:e.target.value})}},{key:"onChangel1email",value:function(e){this.setState({l1email:e.target.value})}},{key:"onChangel2name",value:function(e){this.setState({l2name:e.target.value})}},{key:"onChangel2mobile",value:function(e){this.setState({l2mobile:e.target.value})}},{key:"onChangel2email",value:function(e){this.setState({l2email:e.target.value})}},{key:"onChangel3name",value:function(e){this.setState({l3name:e.target.value})}},{key:"onChangel3mobile",value:function(e){this.setState({l3mobile:e.target.value})}},{key:"onChangel3email",value:function(e){this.setState({l3email:e.target.value})}},{key:"onChangel4name",value:function(e){this.setState({l4name:e.target.value})}},{key:"onChangel4mobile",value:function(e){this.setState({l4mobile:e.target.value})}},{key:"onChangel4email",value:function(e){this.setState({l4email:e.target.value})}},{key:"onChangel5name",value:function(e){this.setState({l5name:e.target.value})}},{key:"onChangel5mobile",value:function(e){this.setState({l5mobile:e.target.value})}},{key:"onChangel5email",value:function(e){this.setState({l5email:e.target.value})}},{key:"onChangehodname",value:function(e){this.setState({hodname:e.target.value})}},{key:"onChangehodmobile",value:function(e){this.setState({hodmobile:e.target.value})}},{key:"onChangehodemail",value:function(e){this.setState({hodemail:e.target.value})}},{key:"saveUpdateCollegeEscalation",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!this.state.idcollegeescalation){e.next=7;break}return t={id:this.state.idcollegeescalation,department:this.state.department,branch:this.state.branch,module:this.state.module,state:this.state.state,district:this.state.district,agm:this.state.agm,blankcol:this.state.blankcol,l1name:this.state.l1name,l1mobile:this.state.l1mobile,l1email:this.state.l1email,l2name:this.state.l2name,l2mobile:this.state.l2mobile,l2email:this.state.l2email,l3name:this.state.l3name,l3mobile:this.state.l3mobile,l3email:this.state.l3email,l4name:this.state.l4name,l4mobile:this.state.l4mobile,l4email:this.state.l4email,l5name:this.state.l5name,l5mobile:this.state.l5mobile,l5email:this.state.l5email,hodname:this.state.hodname,hodmobile:this.state.hodmobile,hodemail:this.state.hodemail},e.next=5,Te.createUpdateCollege(t).then((function(e){e?(a.showSuccessToast(" Details Submitted Successfully"),a.props.history.push("/collegeList")):a.showErrorToast(e.data.message)}));case 5:e.next=10;break;case 7:return t={department:this.state.department,branch:this.state.branch,module:this.state.module,state:this.state.state,district:this.state.district,agm:this.state.agm,blankcol:this.state.blankcol,l1name:this.state.l1name,l1mobile:this.state.l1mobile,l1email:this.state.l1email,l2name:this.state.l2name,l2mobile:this.state.l2mobile,l2email:this.state.l2email,l3name:this.state.l3name,l3mobile:this.state.l3mobile,l3email:this.state.l3email,l4name:this.state.l4name,l4mobile:this.state.l4mobile,l4email:this.state.l4email,l5name:this.state.l5name,l5mobile:this.state.l5mobile,l5email:this.state.l5email,hodname:this.state.hodname,hodmobile:this.state.hodmobile,hodemail:this.state.hodemail},e.next=10,Te.createUpdateCollege(t).then((function(e){e?(a.showSuccessToast("Details Submitted Successfully"),a.props.history.push("/collegeList")):a.showErrorToast(e.data.message)}));case 10:if(void 0!==t.department&&""!==t.department){e.next=12;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 12:if(void 0!==t.branch&&""!==t.branch){e.next=14;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 14:if(void 0!==t.module&&""!==t.module){e.next=16;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCollegeEscalationDetails",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idcollegeescalation:this.state.idcollegeescalation},e.next=3,Te.getCollegeEscalationById(t);case 3:a=e.sent,console.log(a),this.setState({department:a.data.department}),this.setState({department:a.data.branch}),this.setState({module:a.data.module}),this.setState({state:a.data.state}),this.setState({district:a.data.district}),this.setState({agm:a.data.agm}),this.setState({blankcol:a.data.blankcol}),this.setState({l1name:a.data.l1name}),this.setState({l1mobile:a.data.l1mobile}),this.setState({l1email:a.data.l1email}),this.setState({l2name:a.data.l2name}),this.setState({l2mobile:a.data.l2mobile}),this.setState({l2email:a.data.l2email}),this.setState({l3name:a.data.l3name}),this.setState({l3mobile:a.data.l3mobile}),this.setState({l3email:a.data.l3email}),this.setState({l4name:a.data.l4name}),this.setState({l4mobile:a.data.l4mobile}),this.setState({l4email:a.data.l4email}),this.setState({l5name:a.data.l5name}),this.setState({l5mobile:a.data.l5mobile}),this.setState({l5email:a.data.l5email}),this.setState({hodname:a.data.hodname}),this.setState({hodmobile:a.data.hodmobile}),this.setState({hodemail:a.data.hodemail}),s=Object(Ae.a)(a.data);try{for(s.s();!(n=s.n()).done;)i=n.value,this.getCollegeEscalationDetails(i.value)}catch(l){s.e(l)}finally{s.f()}case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{className:"formHeading",children:"College Escalation"}),Object(s.jsx)("div",{class:"shadow p-3 mb-5 rounded",style:{backgroundColor:"#ffffff"},children:Object(s.jsxs)(Fe.a,{children:[Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Branch"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Branch",value:this.state.branch,onChange:this.onChangebranch})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicFullName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Department"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Department",value:this.state.department,onChange:this.onChangedepartment})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicOpenId",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Module"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Module",value:this.state.module,onChange:this.onChangemodule})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicMobile",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"State"}),Object(s.jsx)(Fe.a.Control,{type:"PhoneInput",maxLength:"12",placeholder:"Enter State",value:this.state.state,onChange:this.onChangestate})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicOfficeType",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel ",children:"District"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter District",value:this.state.district,onChange:this.onChangedistrict})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicDesignation",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"agm"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Agm",value:this.state.agm,onChange:this.onChangeagm})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicHelpDeskRole",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"blankcol"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Blankcol",value:this.state.blankcol,onChange:this.onChangeblankcol})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 1 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-1 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l1name,onChange:this.onChangel1name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-1 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l1mobile,onChange:this.onChangel1mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-1 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l1email,onChange:this.onChangel1email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 2 Details"})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-2 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l2name,onChange:this.onChangel2name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-2 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l2mobile,onChange:this.onChangel2mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-2 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l2email,onChange:this.onChangel2email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 3 Details"})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-3 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l3name,onChange:this.onChangel3name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-3 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l3mobile,onChange:this.onChangel3mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-3 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l3email,onChange:this.onChangel3email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 4 Details"})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-4 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l4name,onChange:this.onChangel4name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-4 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l4mobile,onChange:this.onChangel4mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-4 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l4email,onChange:this.onChangel4email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 5 Details"})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-5 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l5name,onChange:this.onChangel5name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-5 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l5mobile,onChange:this.onChangel5mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-5 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l5email,onChange:this.onChangel5email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[Object(s.jsx)("b",{children:"HOD Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Hod Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.hodname,onChange:this.onChangehodname})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Hod Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.hodmobile,onChange:this.onChangehodmobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Hod Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.hodemail,onChange:this.onChangehodemail})]}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143"},variant:"primary",type:"button",onClick:this.saveUpdateCollegeEscalation,children:this.isViewMode?"Update":"Submit"})]})})]})})}}]),a}(n.Component),Wt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;if(Object(h.a)(this,a),(s=t.call(this,e)).showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},s.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},s.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},s.saveUpdateAdministrativeEscalation=s.saveUpdateAdministrativeEscalation.bind(Object(Ie.a)(s)),s.onChangebranch=s.onChangebranch.bind(Object(Ie.a)(s)),s.onChangedepartment=s.onChangedepartment.bind(Object(Ie.a)(s)),s.onChangemodule=s.onChangemodule.bind(Object(Ie.a)(s)),s.onChangestate=s.onChangestate.bind(Object(Ie.a)(s)),s.onChangedistrict=s.onChangedistrict.bind(Object(Ie.a)(s)),s.onChangeagm=s.onChangeagm.bind(Object(Ie.a)(s)),s.onChangeblankcol=s.onChangeblankcol.bind(Object(Ie.a)(s)),s.onChangel1name=s.onChangel1name.bind(Object(Ie.a)(s)),s.onChangel1mobile=s.onChangel1mobile.bind(Object(Ie.a)(s)),s.onChangel1email=s.onChangel1email.bind(Object(Ie.a)(s)),s.onChangel2name=s.onChangel2name.bind(Object(Ie.a)(s)),s.onChangel2mobile=s.onChangel2mobile.bind(Object(Ie.a)(s)),s.onChangel2email=s.onChangel2email.bind(Object(Ie.a)(s)),s.onChangel3name=s.onChangel3name.bind(Object(Ie.a)(s)),s.onChangel3mobile=s.onChangel3mobile.bind(Object(Ie.a)(s)),s.onChangel3email=s.onChangel3email.bind(Object(Ie.a)(s)),s.onChangel4name=s.onChangel4name.bind(Object(Ie.a)(s)),s.onChangel4mobile=s.onChangel4mobile.bind(Object(Ie.a)(s)),s.onChangel4email=s.onChangel4email.bind(Object(Ie.a)(s)),s.onChangel5name=s.onChangel5name.bind(Object(Ie.a)(s)),s.onChangel5mobile=s.onChangel5mobile.bind(Object(Ie.a)(s)),s.onChangel5email=s.onChangel5email.bind(Object(Ie.a)(s)),s.onChangehodname=s.onChangehodname.bind(Object(Ie.a)(s)),s.onChangehodmobile=s.onChangehodmobile.bind(Object(Ie.a)(s)),s.onChangehodemail=s.onChangehodemail.bind(Object(Ie.a)(s)),s.state={department:void 0,branch:void 0,module:void 0,state:void 0,district:void 0,agm:void 0,blankcol:void 0,l1name:void 0,l1mobile:void 0,l1email:void 0,l2name:void 0,l2mobile:void 0,l2email:void 0,l3name:void 0,l3mobile:void 0,l3email:void 0,l4name:void 0,l4mobile:void 0,l4email:void 0,l5name:void 0,l5mobile:void 0,l5email:void 0,hodname:void 0,hodmobile:void 0,hodemail:void 0,idadministrativeescalation:void 0},s.isViewMode=!1,window.location.href.includes("/id:")){var n=window.location.href.split("/id:");s.state.idadministrativeescalation=n[1],s.isViewMode=!0}return s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.state.idadministrativeescalation){e.next=31;break}return t={id:this.state.idadministrativeescalation},e.next=4,Te.getAdministrativeEscalationById(t);case 4:a=e.sent,console.log(a),this.setState({department:a.data.department}),this.setState({branch:a.data.branch}),this.setState({module:a.data.module}),this.setState({state:a.data.state}),this.setState({district:a.data.district}),this.setState({agm:a.data.agm}),this.setState({blankcol:a.data.blankcol}),this.setState({l1name:a.data.l1name}),this.setState({l1mobile:a.data.l1mobile}),this.setState({l1email:a.data.l1email}),this.setState({l2name:a.data.l2name}),this.setState({l2mobile:a.data.l2mobile}),this.setState({l2email:a.data.l2email}),this.setState({l3name:a.data.l3name}),this.setState({l3mobile:a.data.l3mobile}),this.setState({l3email:a.data.l3email}),this.setState({l4name:a.data.l4name}),this.setState({l4mobile:a.data.l4mobile}),this.setState({l4email:a.data.l4email}),this.setState({l5name:a.data.l5name}),this.setState({l5mobile:a.data.l5mobile}),this.setState({l5email:a.data.l5email}),this.setState({hodname:a.data.hodname}),this.setState({hodmobile:a.data.hodmobile}),this.setState({hodemail:a.data.hodemail});case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangebranch",value:function(e){this.setState({branch:e.target.value})}},{key:"onChangedepartment",value:function(e){this.setState({department:e.target.value})}},{key:"onChangemodule",value:function(e){this.setState({module:e.target.value})}},{key:"onChangestate",value:function(e){this.setState({state:e.target.value})}},{key:"onChangedistrict",value:function(e){this.setState({district:e.target.value})}},{key:"onChangeagm",value:function(e){this.setState({agm:e.target.value})}},{key:"onChangeblankcol",value:function(e){this.setState({blankcol:e.target.value})}},{key:"onChangel1name",value:function(e){this.setState({l1name:e.target.value})}},{key:"onChangel1mobile",value:function(e){this.setState({l1mobile:e.target.value})}},{key:"onChangel1email",value:function(e){this.setState({l1email:e.target.value})}},{key:"onChangel2name",value:function(e){this.setState({l2name:e.target.value})}},{key:"onChangel2mobile",value:function(e){this.setState({l2mobile:e.target.value})}},{key:"onChangel2email",value:function(e){this.setState({l2email:e.target.value})}},{key:"onChangel3name",value:function(e){this.setState({l3name:e.target.value})}},{key:"onChangel3mobile",value:function(e){this.setState({l3mobile:e.target.value})}},{key:"onChangel3email",value:function(e){this.setState({l3email:e.target.value})}},{key:"onChangel4name",value:function(e){this.setState({l4name:e.target.value})}},{key:"onChangel4mobile",value:function(e){this.setState({l4mobile:e.target.value})}},{key:"onChangel4email",value:function(e){this.setState({l4email:e.target.value})}},{key:"onChangel5name",value:function(e){this.setState({l5name:e.target.value})}},{key:"onChangel5mobile",value:function(e){this.setState({l5mobile:e.target.value})}},{key:"onChangel5email",value:function(e){this.setState({l5email:e.target.value})}},{key:"onChangehodname",value:function(e){this.setState({hodname:e.target.value})}},{key:"onChangehodmobile",value:function(e){this.setState({hodmobile:e.target.value})}},{key:"onChangehodemail",value:function(e){this.setState({hodemail:e.target.value})}},{key:"saveUpdateAdministrativeEscalation",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!this.state.idadministrativeescalation){e.next=7;break}return t={department:this.state.department,branch:this.state.branch,module:this.state.module,state:this.state.state,district:this.state.district,agm:this.state.agm,blankcol:this.state.blankcol,l1name:this.state.l1name,l1mobile:this.state.l1mobile,l1email:this.state.l1email,l2name:this.state.l2name,l2mobile:this.state.l2mobile,l2email:this.state.l2email,l3name:this.state.l3name,l3mobile:this.state.l3mobile,l3email:this.state.l3email,l4name:this.state.l4name,l4mobile:this.state.l4mobile,l4email:this.state.l4email,l5name:this.state.l5name,l5mobile:this.state.l5mobile,l5email:this.state.l5email,hodname:this.state.hodname,hodmobile:this.state.hodmobile,hodemail:this.state.hodemail,id:this.state.idadministrativeescalation},e.next=5,Te.createUpdateAdministrative(t).then((function(e){e?(a.showSuccessToast(" Details Submitted Successfully"),a.props.history.push("/administrativeList")):a.showErrorToast(e.message)}));case 5:e.next=10;break;case 7:return t={department:this.state.department,branch:this.state.branch,module:this.state.module,state:this.state.state,district:this.state.district,agm:this.state.agm,blankcol:this.state.blankcol,l1name:this.state.l1name,l1mobile:this.state.l1mobile,l1email:this.state.l1email,l2name:this.state.l2name,l2mobile:this.state.l2mobile,l2email:this.state.l2email,l3name:this.state.l3name,l3mobile:this.state.l3mobile,l3email:this.state.l3email,l4name:this.state.l4name,l4mobile:this.state.l4mobile,l4email:this.state.l4email,l5name:this.state.l5name,l5mobile:this.state.l5mobile,l5email:this.state.l5email,hodname:this.state.hodname,hodmobile:this.state.hodmobile,hodemail:this.state.hodemail},e.next=10,Te.createUpdateAdministrative(t).then((function(e){e?(a.showSuccessToast("Details submitted"),a.props.history.push("/administrativeList")):a.showErrorToast(e.message)}));case 10:if(void 0!==t.department&&""!==t.department){e.next=12;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 12:if(void 0!==t.branch&&""!==t.branch){e.next=14;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 14:if(void 0!==t.module&&""!==t.module){e.next=16;break}return e.abrupt("return",this.showWarningToast("Please fill mandatory information"));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAdministrativeEscalationDetails",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idadministrativeescalation:this.state.idadministrativeescalation},e.next=3,Te.getAdministrativeEscalationById(t);case 3:a=e.sent,this.setState({department:a.data.department}),this.setState({department:a.data.branch}),this.setState({module:a.data.module}),this.setState({state:a.data.state}),this.setState({district:a.data.district}),this.setState({agm:a.data.agm}),this.setState({blankcol:a.data.blankcol}),this.setState({l1name:a.data.l1name}),this.setState({l1mobile:a.data.l1mobile}),this.setState({l1email:a.data.l1email}),this.setState({l2name:a.data.l2name}),this.setState({l2mobile:a.data.l2mobile}),this.setState({l2email:a.data.l2email}),this.setState({l3name:a.data.l3name}),this.setState({l3mobile:a.data.l3mobile}),this.setState({l3email:a.data.l3email}),this.setState({l4name:a.data.l4name}),this.setState({l4mobile:a.data.l4mobile}),this.setState({l4email:a.data.l4email}),this.setState({l5name:a.data.l5name}),this.setState({l5mobile:a.data.l5mobile}),this.setState({l5email:a.data.l5email}),this.setState({hodname:a.data.hodname}),this.setState({hodmobile:a.data.hodmobile}),this.setState({hodemail:a.data.hodemail}),s=Object(Ae.a)(a.data);try{for(s.s();!(n=s.n()).done;)i=n.value,this.getAdministrativeEscalationDetails(i.value)}catch(l){s.e(l)}finally{s.f()}case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{className:"formHeading",children:"Administrative Escalation"}),Object(s.jsx)("div",{class:"shadow p-3 mb-5 rounded",style:{backgroundColor:"#ffffff"},children:Object(s.jsxs)(Fe.a,{children:[Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Branch"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Branch",value:this.state.branch,onChange:this.onChangebranch})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicFullName",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Department"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Department",value:this.state.department,onChange:this.onChangedepartment})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicOpenId",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel required",children:"Module"}),Object(s.jsx)(Fe.a.Control,{type:"input",placeholder:"Enter Module",value:this.state.module,onChange:this.onChangemodule})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicMobile",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"State"}),Object(s.jsx)(Fe.a.Control,{type:"PhoneInput",maxLength:"12",placeholder:"Enter State",value:this.state.state,onChange:this.onChangestate})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicOfficeType",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel ",children:"District"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter District",value:this.state.district,onChange:this.onChangedistrict})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicDesignation",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"agm"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Agm",value:this.state.agm,onChange:this.onChangeagm})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",controlId:"formBasicHelpDeskRole",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"blankcol"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Blankcol",value:this.state.blankcol,onChange:this.onChangeblankcol})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 1 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-1 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l1name,onChange:this.onChangel1name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-1 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l1mobile,onChange:this.onChangel1mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-1 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l1email,onChange:this.onChangel1email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 2 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-2 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l2name,onChange:this.onChangel2name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-2 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l2mobile,onChange:this.onChangel2mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-2 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l2email,onChange:this.onChangel2email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 3 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-3 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l3name,onChange:this.onChangel3name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-3 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l3mobile,onChange:this.onChangel3mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-3 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l3email,onChange:this.onChangel3email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 4 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-4 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l4name,onChange:this.onChangel4name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-4 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l4mobile,onChange:this.onChangel4mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-4 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l4email,onChange:this.onChangel4email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[" ",Object(s.jsx)("b",{children:"Level 5 Details"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-5 Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.l5name,onChange:this.onChangel5name})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-5 Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.l5mobile,onChange:this.onChangel5mobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Level-5 Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.l5email,onChange:this.onChangel5email})]}),Object(s.jsxs)("label",{className:"subHeading",children:[Object(s.jsx)("b",{children:"Hod Detail"})," "]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Hod Name"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Name",value:this.state.hodname,onChange:this.onChangehodname})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Hod Mobile"}),Object(s.jsx)(Fe.a.Control,{type:"text",placeholder:"Enter Mobile number",value:this.state.hodmobile,onChange:this.onChangehodmobile})]}),Object(s.jsxs)(Fe.a.Group,{className:"mb-3",children:[Object(s.jsx)(Fe.a.Label,{className:"formlabel",children:"Hod Email"}),Object(s.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter Email Address",value:this.state.hodemail,onChange:this.onChangehodemail})]}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143"},variant:"primary",type:"button",onClick:this.saveUpdateAdministrativeEscalation,children:this.isViewMode?"Update":"Submit"})]})})]})})}}]),a}(n.Component),Yt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).tableRef=i.a.createRef(),n.showErrorToast=function(e){Me.b.error(e,{position:Me.b.POSITION.TOP_CENTER,className:"error-toast"})},n.showSuccessToast=function(e){Me.b.success(e,{position:Me.b.POSITION.TOP_CENTER,className:"success-toast"})},n.showWarningToast=function(e){Me.b.warning(e,{position:Me.b.POSITION.TOP_CENTER,className:"warning-toast"})},n.clickAdd=n.clickAdd.bind(Object(Ie.a)(n)),n.savePageLocation=n.savePageLocation.bind(Object(Ie.a)(n)),n.exportData=n.exportData.bind(Object(Ie.a)(n)),n.state={locale:{format:"DD/MM/YYYY"}},n.columns=[{title:"Escalation Id",field:"idadministrativeescalation",render:function(e){return Object(s.jsxs)("span",{children:[Object(s.jsx)("i",{class:"fa fa-users","aria-hidden":"true"}),"\xa0\xa0",Object(s.jsx)(m.b,{onClick:n.savePageLocation("/administrativeList"),to:"/addAdministrative/id:".concat(e.idadministrativeescalation),children:e.idadministrativeescalation})]})}},{title:"Branch",field:"branch"},{title:"Department",field:"department"},{title:"Module",field:"module"}],n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"savePageLocation",value:function(e){sessionStorage.setItem("previousPageLocation",e)}},{key:"onTeamSelectionChange",value:function(e){console.log(e)}},{key:"clickAdd",value:function(){this.props.history.push("/addAdministrative")}},{key:"remoteData",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var s,n,i,l,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.orderDirection,r=void 0,t.orderBy&&(r=t.orderBy.field),e.next=5,Te.getAllAdministrativeEscalationList(t.pageSize,t.page,t.search,l,r).then(function(){var e=Object(d.a)(c.a.mark((function e(t){var a,l,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(Ae.a)(t.data.administrativeEscalationList);try{for(a.s();!(l=a.n()).done;)(r=l.value).idadministrativeescalation=r.idadministrativeescalation,r.branch=r.branch,r.department=r.department,r.module=r.module}catch(o){a.e(o)}finally{a.f()}s=t.data.administrativeEscalationList,n=t.data.currentPage,i=t.data.totalItems;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",Promise.resolve({data:s,page:n,totalCount:i}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"exportData",value:function(){var e=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.exportDataDownloadLink=xe+"/api/dataExport/downloadAdministrativeEscalation",window.location.href=this.state.exportDataDownloadLink;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{id:"test",children:Object(s.jsxs)("div",{style:{marginTop:"20px"},children:[Object(s.jsx)("h5",{className:"formHeading",children:"Administrative Escalation"}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginLeft:"83%"},children:[Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right"},variant:"primary",type:"submit",onClick:this.exportData,children:"Export"}),Object(s.jsx)(Je.a,{style:{color:"#fff",backgroundColor:"#1f3143",float:"right",marginLeft:"10px"},onClick:this.clickAdd,variant:"primary",type:"submit",children:"Add Escalation"})]}),Object(s.jsx)(We.a,{title:"Administrative Escalation List",columns:this.columns,data:this.remoteData.bind(),tableRef:this.tableRef,options:{exportButton:!1,showSelectAllCheckbox:!1,toolbar:!0,showFirstLastPageButtons:!1,showTitle:!0,selection:!1,search:!0,padding:"dense",pageSize:8,headerStyle:{backgroundColor:"#1f3143",color:"#FFD800",fontWeight:"bold"},selectionProps:function(e){return{color:"default"}},showTextRowsSelected:!1},onSelectionChange:function(t){e.onTeamSelectionChange(t)}})]})]})})}}]),a}(n.Component),zt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).state={displayCountResponse:null},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,s,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.location.href.includes("feedbackForm")){e.next=10;break}return new Object,t=this.get_Query_Params_From_URL(),Object.entries(t).map((function(e){sessionStorage.setItem(e[0],e[1])})),a={id:sessionStorage.getItem("userId")},e.next=7,Te.getUserDetails(a).then(function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.data.helpdeskRole&&""!==t.data.helpdeskRole){e.next=7;break}sessionStorage.setItem("isCentralPoolAgent","false"),sessionStorage.setItem("isTeamLead","false"),sessionStorage.setItem("isCentralAdmin","false"),sessionStorage.setItem("isAgent","false"),e.next=51;break;case 7:return e.next=9,t.data.helpdeskRole.toLowerCase();case 9:if(e.t0=e.sent,"central agent"!==e.t0){e.next=17;break}sessionStorage.setItem("isCentralPoolAgent","true"),sessionStorage.setItem("isTeamLead","false"),sessionStorage.setItem("isCentralAdmin","false"),sessionStorage.setItem("isAgent","false"),e.next=51;break;case 17:return e.next=19,t.data.helpdeskRole.toLowerCase();case 19:if(e.t1=e.sent,"team lead"!==e.t1){e.next=27;break}sessionStorage.setItem("isCentralPoolAgent","true"),sessionStorage.setItem("isTeamLead","true"),sessionStorage.setItem("isCentralAdmin","false"),sessionStorage.setItem("isAgent","false"),e.next=51;break;case 27:return e.next=29,t.data.helpdeskRole.toLowerCase();case 29:if(e.t2=e.sent,"central admin"!==e.t2){e.next=37;break}sessionStorage.setItem("isCentralPoolAgent","true"),sessionStorage.setItem("isTeamLead","true"),sessionStorage.setItem("isCentralAdmin","true"),sessionStorage.setItem("isAgent","false"),e.next=51;break;case 37:return e.next=39,t.data.helpdeskRole.toLowerCase();case 39:if(e.t3=e.sent,"agent"!==e.t3){e.next=47;break}sessionStorage.setItem("isCentralPoolAgent","false"),sessionStorage.setItem("isTeamLead","false"),sessionStorage.setItem("isCentralAdmin","false"),sessionStorage.setItem("isAgent","true"),e.next=51;break;case 47:sessionStorage.setItem("isCentralPoolAgent","false"),sessionStorage.setItem("isTeamLead","false"),sessionStorage.setItem("isCentralAdmin","false"),sessionStorage.setItem("isAgent","false");case 51:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:return s={userId:sessionStorage.getItem("userId")},e.next=10,Te.getTicketsCountForDisplay(s).then(function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({displayCountResponse:t.data}),console.log(n.state.displayCountResponse),e.next=4,sessionStorage.setItem("allEscalatedTicketsCount",t.data.allEscalatedTickets);case 4:return e.next=6,sessionStorage.setItem("allTicketsCount",t.data.allTicketsCount);case 6:return e.next=8,sessionStorage.setItem("allTransferTickets",t.data.allTransferTickets);case 8:return e.next=10,sessionStorage.setItem("myTicketsCount",t.data.myTicketsCount);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_Query_Params_From_URL",value:function(){for(var e=window.location.href,t=e.substring(e.indexOf("?")+1).split("&"),a=0,s={};a<t.length;a++)t[a]=t[a].split("="),s[t[a][0]]=decodeURIComponent(t[a][1]);return s}},{key:"render",value:function(){return null===this.state.displayCountResponse?Object(s.jsxs)(i.a.Fragment,{children:[!window.location.href.includes("feedbackForm")&&Object(s.jsx)(Ce,{})&&Object(s.jsx)(Ot,{}),Object(s.jsx)(tt,{children:Object(s.jsx)(m.a,{children:Object(s.jsx)(g.c,{children:Object(s.jsx)(g.a,{path:"/feedbackForm",component:gt})})})})]}):window.location.href.includes("login")?Object(s.jsx)("div",{style:{backgroundImage:'url("../Login_BG.jpg")',backgroundSize:"cover",minHeight:"100vh"},children:Object(s.jsxs)(i.a.Fragment,{children:[Object(s.jsx)(Me.a,{}),Object(s.jsx)(m.a,{children:Object(s.jsx)(g.c,{children:Object(s.jsx)(g.a,{path:"/login",component:Lt})})})]})}):Object(s.jsxs)(i.a.Fragment,{children:[Object(s.jsx)(Me.a,{}),!window.location.href.includes("feedbackForm")&&Object(s.jsx)(Ce,{}),Object(s.jsx)(tt,{children:Object(s.jsx)(m.a,{children:Object(s.jsxs)(g.c,{children:[Object(s.jsx)(g.a,{exact:!0,path:"/",component:$e}),Object(s.jsx)(g.a,{path:"/ticket",component:$e}),Object(s.jsx)(Et,{path:"/addTicket",component:_e}),Object(s.jsx)(Et,{path:"/viewTicket",component:ct}),Object(s.jsx)(Et,{path:"/dashboard",component:ht}),Object(s.jsx)(Et,{path:"/escalatedTicket",component:ut}),Object(s.jsx)(Et,{path:"/transferRequest",component:bt}),Object(s.jsx)(Et,{path:"/viewTransferTicket",component:pt}),Object(s.jsx)(Et,{path:"/allTickets",component:mt}),Object(s.jsx)(Et,{path:"/feedbackForm",component:gt}),Object(s.jsx)(Et,{path:"/agentMapping",component:vt}),Object(s.jsx)(Et,{path:"/viewDepartmentAssociatedAgents",component:xt}),Object(s.jsx)(Et,{path:"/departmentsList",component:yt}),Object(s.jsx)(Et,{path:"/unassociatedAgentsList",component:St}),Object(s.jsx)(Et,{path:"/teamList",component:Tt}),Object(s.jsx)(Et,{path:"/addTeam",component:kt}),Object(s.jsx)(Et,{path:"/myTeams",component:Ct}),Object(s.jsx)(Et,{path:"/analytics",component:Pt}),Object(s.jsx)(Et,{path:"/smtp_config",component:Bt}),Object(s.jsx)(Et,{path:"/users",component:Mt}),Object(s.jsx)(Et,{path:"/usersList",component:Ut}),Object(s.jsx)(Et,{path:"/schoolList",component:Vt}),Object(s.jsx)(Et,{path:"/addSchoolEscalation",component:_t}),Object(s.jsx)(Et,{path:"/collegeList",component:Ht}),Object(s.jsx)(Et,{path:"/addCollegeEscalation",component:Gt}),Object(s.jsx)(Et,{path:"/addAdministrative",component:Wt}),Object(s.jsx)(Et,{path:"/administrativeList",component:Yt})]})})})]})}}]),a}(n.Component),Jt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,828)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,l=t.getTTFB;a(e),s(e),n(e),i(e),l(e)}))};r.a.render(Object(s.jsx)(zt,{}),document.getElementById("root")),Jt()}},[[783,1,2]]]);
//# sourceMappingURL=main.7d5a0de6.chunk.js.map