(this.webpackJsonpUI=this.webpackJsonpUI||[]).push([[17],{1499:function(t,e,a){},1657:function(t,e,a){"use strict";a.r(e);var n,i,r,s,o=a(18),c=a(34),d=a(9),l=a(4),u=a(255),j=a(124),b=a(1),h=a.n(b),p=a(26),m=a(96),f=a(48),v=a(52),O=a.n(v),x=(a(126),a(259)),g=a(574),S=a(459),C=a(721),y=a(722),w=a(570),N=a(571),k=a(589),E=a(754),T=a(761),B=a(854),z=a(147),D=a(755),_=a(178),I=(a(1499),a(492)),A=a(2),L=function(t){var e=t.onClose,a=t.editDetails,o=h.a.useState(!1),c=Object(d.a)(o,2),l=(c[0],c[1]),u=h.a.useState(null===a||void 0===a||!a.is_active||a.is_active),b=Object(d.a)(u,2),m=b[0],v=b[1],L=h.a.useState([]),U=Object(d.a)(L,2),W=U[0],P=U[1],R=h.a.useState([]),V=Object(d.a)(R,2),q=V[0],F=V[1],Y=h.a.useState(),H=Object(d.a)(Y,2),J=H[0],M=H[1],G=h.a.useState(),K=Object(d.a)(G,2),Q=K[0],X=K[1],Z=Object(p.l)(),$=z.a.div(n||(n=Object(f.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n    font-size: 1.5rem;\n"]))),tt=z.a.div(i||(i=Object(f.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    padding: 1rem 1rem 0 1rem;\n    gap: 1rem;\n"])),(function(t){return t.divide?"50% 48.4%":"100%"})),et=(z.a.div(r||(r=Object(f.a)(["\n    color: red;\n    font-size: 13px;\n"]))),z.a.div(s||(s=Object(f.a)(["\n  width:15px;\n  height:15px;\n  border:5px solid red;\n  background-color:red;\n  color:white;\n  border-radius:50%;\n  text-align:center;\n"]))));h.a.useEffect((function(){a&&(v(null===a||void 0===a?void 0:a.is_active),M(null===a||void 0===a?void 0:a.status_type),X(null===a||void 0===a?void 0:a.department_id)),Object(j.n)().then((function(t){if(!1===(null===t||void 0===t?void 0:t.status))return O.a.fire({icon:"error",title:"Error",text:t.error,showCloseButton:!0,showConfirmButton:!1,width:400});var e,a;P(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.statusTypes),F(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.departments)}))}),[]);var at=I.b().shape({statusName:I.c().max(20,"Status Name can not be more than 20 characters long")}),nt={statusName:null!==a&&void 0!==a&&a.name?a.name:""},it=function(t){null!==t&&void 0!==t&&t.target.checked?v(!1):v(!0)},rt=function(t){M(t.target.value)},st=function(t){X(t.target.value)};return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{children:Object(A.jsxs)(g.a,{elevation:3,sx:{pt:0,mb:0,minHeight:"50vh"},children:[Object(A.jsxs)($,{children:[Object(A.jsx)("div",{children:null!==a&&void 0!==a&&a.id?"Edit Status":"Add Status"}),Object(A.jsx)("div",{onClick:function(t){return!!e&&e(t)&&l(!1)},children:Object(A.jsx)(S.a,{sx:{color:"#59B691",fontSize:"35px !important",cursor:"pointer"},children:"cancelsharp"})})]}),Object(A.jsx)(C.a,{}),Object(A.jsx)(x.a,{onSubmit:function(t){var e={statusName:t.statusName,statusType:J,departmentId:Q,is_active:m};if(null!==a&&void 0!==a&&a.id)e.id=a.id;else if(!t.statusName)return O.a.fire({icon:"warning",title:"Warning",text:_.a.STATUS_NAME_MANDATORY,showCloseButton:!0,showConfirmButton:!1,width:400});Object(j.d)(e).then((function(t){return!1===(null===t||void 0===t?void 0:t.status)?O.a.fire({icon:"error",title:"Error",text:t.error,showCloseButton:!0,showConfirmButton:!1,width:400}):(O.a.fire({icon:"success",title:"Success",text:null!==a&&void 0!==a&&a.id?_.a.UPDATED_SUCCESSFULLY:_.a.CREATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400}),Z("/status"))}))},initialValues:nt,validationSchema:at,children:function(t){var e=t.values,n=t.errors,i=t.touched,r=t.handleChange,s=t.handleBlur,o=t.handleSubmit;return Object(A.jsxs)("form",{onSubmit:o,children:[Object(A.jsxs)(tt,{divide:!0,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(y.a,{fullWidth:!0,size:"large",name:"statusName",type:"text",label:"Status Name",variant:"outlined",onBlur:s,value:e.statusName,onChange:r,error:Boolean(n.statusName&&i.statusName),helperText:i.statusName&&n.statusName,sx:{mb:1.5}}),Object(A.jsx)("br",{})]}),Object(A.jsx)("div",{children:Object(A.jsxs)(w.a,{fullWidth:!0,children:[Object(A.jsx)(N.a,{required:!0,id:"statusTypes",children:"Status Type"}),Object(A.jsx)(k.a,{labelId:"statusTypes",id:"statusTypes",required:!0,value:J,label:"statusTypes",onChange:rt,defaultValue:J,children:null===W||void 0===W?void 0:W.map((function(t,e){return Object(A.jsx)(E.a,{value:t,children:t},e)}))})]})}),Object(A.jsx)("div",{children:Object(A.jsxs)(w.a,{fullWidth:!0,children:[Object(A.jsx)(N.a,{required:!0,id:"department",children:"Department"}),Object(A.jsx)(k.a,{labelId:"department",id:"department",required:!0,value:Q,label:"department",onChange:st,defaultValue:Q,className:"isactiveDivStyle",children:null===q||void 0===q?void 0:q.filter((function(t,e){return!0===t.is_active||t.id===Q})).map((function(t,e){return Object(A.jsxs)(E.a,{value:t.id,className:"isactive-error",children:[t.name," ",!1===t.is_active?Object(A.jsx)(et,{}):""]},e)}))})]})}),Object(A.jsx)("div",{children:Object(A.jsx)(T.a,{control:Object(A.jsx)(B.a,{}),disabled:!(null!==a&&void 0!==a&&a.id),checked:!m,onChange:it,label:"Inactive"})})]}),Object(A.jsx)("div",{className:"d-flex justify-content-end",children:Object(A.jsx)(D.a,{type:"submit",color:"primary",variant:"contained",sx:{my:2,top:"100",marginRight:"10px",marginTop:"45vh"},children:"Submit"})})]})}})]})})})},U=a(14),W=a(5),P=a(796),R=a(886),V=a(474),q=a(859),F=a(330),Y=a.n(F),H=Object(W.a)(P.a)((function(){return{marginTop:"20px",whiteSpace:"pre",thead:{backgroundColor:"rgb(34, 42, 69)"},"thead > tr":{backgroundColor:"rgb(34, 42, 69)"},"& small":{height:15,width:50,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"1px solid rgba(224, 224, 224, 1)"},"& td:first-of-type":{paddingLeft:"16px !important"},"& th:nth-of-type(3)":{width:"90px !important"},"& th:first-of-type":{paddingLeft:"16px !important"},"& tfoot tr td div:nth-child(1)":{justifyContent:"center",alignItems:"center",flex:"initial",margin:"0.5rem 0"}}})),J=function(t){var e=t.onEditClick,a=t.onCreateClick,n=(t.setCurrentView,Object(b.useState)([])),i=Object(d.a)(n,2),r=i[0],s=i[1],o=Object(b.useState)(0),c=Object(d.a)(o,2),l=c[0],u=c[1],h=Object(b.useState)(0),p=Object(d.a)(h,2),m=p[0],f=p[1],v=Object(b.useState)(10),O=Object(d.a)(v,2),x=O[0],g=(O[1],function(t,e){u(e)});Object(b.useEffect)((function(){C()}),[l]);var C=function(){Object(j.h)(l,x).then((function(t){var e,a;null===t||void 0===t||null===(e=t.data)||void 0===e||e.pagingData.map((function(t,e){Object.assign(t,{sno:x*l+e+1})})),s(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.pagingData),f(t.data.totalItems)}))};return Object(A.jsxs)(R.a,{width:"100%",overflow:"auto",children:[Object(A.jsx)(V.a,{size:"small",color:"secondary","aria-label":"Add",className:"button addBtn",onClick:function(t,e){a&&a(e)},children:Object(A.jsx)(S.a,{children:"add"})}),Object(A.jsx)(H,{children:Object(A.jsx)(Y.a,{title:"Status",columns:[{title:"Status Name",field:"statusName"},{title:"Active",field:"status"}],data:r.map((function(t){return{statusName:t.name,status:t.is_active,statusId:t.id}})),actions:[{icon:"edit",tooltip:"Edit Status",onClick:function(t,a){e&&e(a.statusId)}}],options:{actionsColumnIndex:-1,emptyRowsWhenPaging:!1,showTitle:!1,search:!1,toolbar:!1,pageSizeOptions:[],pageSize:x,tableLayout:"auto",maxBodyHeight:"400px",headerStyle:{fontSize:"14px",backgroundColor:"#222A45",color:"white",fontWeight:"700"}},components:{Pagination:function(t){return Object(A.jsx)(q.a,Object(U.a)(Object(U.a)({},t),{},{count:m,rowsPerPage:x,page:l,onPageChange:g,labelDisplayedRows:function(){return""}}))}}})})]})},M=Object(u.a)("div")((function(t){var e=t.theme;return Object(l.a)({margin:"30px"},e.breakpoints.down("sm"),{margin:"16px"})}));Object(u.a)("span")((function(){return{fontSize:"1rem",fontWeight:"500",textTransform:"capitalize"}})),Object(u.a)("span")((function(t){return{fontSize:"0.875rem",color:t.theme.palette.text.secondary}})),Object(u.a)("h4")((function(t){return{fontSize:"1rem",fontWeight:"500",marginBottom:"16px",textTransform:"capitalize",color:t.theme.palette.text.secondary}})),e.default=function(){var t=Object(b.useState)("Status"),e=Object(d.a)(t,2),a=e[0],n=e[1],i=Object(p.l)(),r=Object(m.d)(),s=Object(d.a)(r,1)[0],l=Object(b.useState)(),u=Object(d.a)(l,2),h=u[0],f=u[1];Object(b.useEffect)((function(){var t;"create-status"===s.get("type")?n("Create"):"edit-status"===(null===s||void 0===s||null===(t=s.get("type"))||void 0===t?void 0:t.split("/")[0])?v(s.get("type").split("/")[1]):(n("Status"),f())}),[s]);var v=function(){var t=Object(c.a)(Object(o.a)().mark((function t(e){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.k)({id:e}).then((function(t){f(t.data)}));case 2:n("Edit"),i({search:"?type=edit-status/".concat(e)});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(A.jsx)(b.Fragment,{children:Object(A.jsxs)(M,{children:["Status"===a&&Object(A.jsx)(J,{onEditClick:v,onCreateClick:function(){n("Create"),i({search:"?type=create-status"})},setEditDetails:f,setCurrentView:n}),"Create"===a&&Object(A.jsx)(L,{onClose:function(){n("List"),i({search:""}),f()},editDetails:h}),"Edit"===a&&h&&Object(A.jsx)(L,{onClose:function(){n("List"),i({search:""}),f()},editDetails:h})]})})}}}]);
//# sourceMappingURL=17.ec22997b.chunk.js.map