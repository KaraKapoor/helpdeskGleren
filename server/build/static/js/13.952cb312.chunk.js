(this.webpackJsonpUI=this.webpackJsonpUI||[]).push([[13],{1440:function(e,t,i){},1598:function(e,t,i){"use strict";i.r(t);var n,a,l,d=i(25),r=i(42),c=i(9),s=i(4),o=i(253),u=i(124),j=i(1),b=i.n(j),v=i(24),f=i(97),h=i(51),m=i(50),O=i.n(m),p=i(125),x=i.n(p),g=i(257),C=(i(1440),i(570)),I=i(456),_=i(716),S=i(839),w=i(566),E=i(567),U=i(584),y=i(746),L=i(755),A=i(835),D=i(159),k=i(747),B=i(176),T=i(2),R=function(e){var t=e.onClose,i=e.editDetails,d=b.a.useState(!1),r=Object(c.a)(d,2),s=(r[0],r[1]),o=b.a.useState(null===i||void 0===i||!i.is_active||i.is_active),j=Object(c.a)(o,2),f=j[0],m=j[1],p=b.a.useState(),x=Object(c.a)(p,2),R=x[0],V=x[1],W=b.a.useState(),z=Object(c.a)(W,2),N=z[0],P=z[1],F=b.a.useState(),M=Object(c.a)(F,2),q=M[0],Y=M[1],H=b.a.useState(),J=Object(c.a)(H,2),G=J[0],K=J[1],Q=b.a.useState(),X=Object(c.a)(Q,2),Z=X[0],$=X[1],ee=b.a.useState(),te=Object(c.a)(ee,2),ie=te[0],ne=te[1],ae=b.a.useState(),le=Object(c.a)(ae,2),de=le[0],re=le[1],ce=b.a.useState(),se=Object(c.a)(ce,2),oe=se[0],ue=se[1],je=b.a.useState(),be=Object(c.a)(je,2),ve=be[0],fe=be[1],he=Object(v.l)(),me=D.a.div(n||(n=Object(h.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n    font-size: 1.5rem;\n"]))),Oe=D.a.div(a||(a=Object(h.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    padding: 1rem 1rem 0 1rem;\n    gap: 1rem;\n"])),(function(e){return e.divide?"50% 48.4%":"100%"}));D.a.div(l||(l=Object(h.a)(["\n    color: red;\n    font-size: 13px;\n"])));b.a.useEffect((function(){i&&m(null===i||void 0===i?void 0:i.is_active),Object(u.n)().then((function(e){if(!1===(null===e||void 0===e?void 0:e.status))return O.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400});var t,n;V(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.departments),Y(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.agents),P(null===i||void 0===i?void 0:i.department_id),K(null===i||void 0===i?void 0:i.l1_id),$(null===i||void 0===i?void 0:i.l2_id),ne(null===i||void 0===i?void 0:i.l3_id),re(null===i||void 0===i?void 0:i.l4_id),ue(null===i||void 0===i?void 0:i.l5_id),fe(null===i||void 0===i?void 0:i.l6_id)}))}),[]);var pe={departmentId:null!==i&&void 0!==i&&i.departmentId?i.departmentId:"",l1Id:null!==i&&void 0!==i&&i.l1_id?i.l1_id:"",l2Id:null!==i&&void 0!==i&&i.l2Id?i.l2Id:"",l3Id:null!==i&&void 0!==i&&i.l3Id?i.l3Id:"",l4Id:null!==i&&void 0!==i&&i.l4Id?i.l4Id:"",l5Id:null!==i&&void 0!==i&&i.l5Id?i.l5Id:"",l6Id:null!==i&&void 0!==i&&i.l6Id?i.l6Id:""},xe=function(e){null!==e&&void 0!==e&&e.target.checked?m(!1):m(!0)},ge=function(e){P(e.target.value)},Ce=function(e){K(e.target.value)},Ie=function(e){$(e.target.value)},_e=function(e){ne(e.target.value)},Se=function(e){re(e.target.value)},we=function(e){ue(e.target.value)},Ee=function(e){fe(e.target.value)};return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{children:Object(T.jsxs)(C.a,{elevation:3,sx:{pt:0,mb:0,minHeight:"50vh"},children:[Object(T.jsxs)(me,{children:[Object(T.jsx)("div",{children:null!==i&&void 0!==i&&i.id?"Edit Escalation":"Add Escalation"}),Object(T.jsx)("div",{onClick:function(e){return!!t&&t(e)&&s(!1)},children:Object(T.jsx)(I.a,{sx:{color:"#59B691",fontSize:"35px !important",cursor:"pointer"},children:"cancelsharp"})})]}),Object(T.jsx)(_.a,{}),Object(T.jsx)(g.a,{onSubmit:function(e){var t={departmentId:N,l1Id:G,l2Id:Z,l3Id:ie,l4Id:de,l5Id:oe,l6Id:ve,is_active:f};if(null!==i&&void 0!==i&&i.id)t.id=i.id;else if(!N)return O.a.fire({icon:"warning",title:"Warning",text:B.a.DEPARTMENT_NAME_MANDATORY,showCloseButton:!0,showConfirmButton:!1,width:400});Object(u.b)(t).then((function(e){return!1===(null===e||void 0===e?void 0:e.status)?O.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400}):(O.a.fire({icon:"success",title:"Success",text:null!==i&&void 0!==i&&i.id?B.a.UPDATED_SUCCESSFULLY:B.a.CREATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400}),he("/escalations"))}))},initialValues:pe,children:function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur;var t,n=e.handleSubmit;return Object(T.jsxs)("form",{onSubmit:n,children:[Object(T.jsx)(Oe,{children:Object(T.jsxs)(S.a,{container:!0,spacing:2,children:[Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsxs)(w.a,{fullWidth:!0,children:[Object(T.jsx)(E.a,{required:!0,id:"department",children:"Department"}),Object(T.jsx)(U.a,{labelId:"department",id:"department",required:!0,value:N,label:"Department",onChange:ge,defaultValue:N,children:null===R||void 0===R||null===(t=R.filter((function(e){return e.is_active})))||void 0===t?void 0:t.map((function(e,t){return Object(T.jsx)(y.a,{value:e.id,children:e.name},t)}))})]})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsxs)(w.a,{fullWidth:!0,children:[Object(T.jsx)(E.a,{required:!0,id:"l1User",children:"Level-1"}),Object(T.jsx)(U.a,{labelId:"l1User",id:"l1User",required:!0,value:G,label:"Level-1",onChange:Ce,defaultValue:G,children:null===q||void 0===q?void 0:q.filter((function(e){return e.is_active})).map((function(e,t){return Object(T.jsxs)(y.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsxs)(w.a,{fullWidth:!0,children:[Object(T.jsx)(E.a,{id:"l2User",children:"Level-2"}),Object(T.jsx)(U.a,{labelId:"l2User",id:"l2User",value:Z,label:"Level-2",onChange:Ie,defaultValue:Z,children:null===q||void 0===q?void 0:q.filter((function(e){return e.is_active})).map((function(e,t){return Object(T.jsxs)(y.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsxs)(w.a,{fullWidth:!0,children:[Object(T.jsx)(E.a,{id:"l3User",children:"Level-3"}),Object(T.jsx)(U.a,{labelId:"l3User",id:"l3User",value:ie,label:"Level-3",onChange:_e,defaultValue:ie,children:null===q||void 0===q?void 0:q.filter((function(e){return e.is_active})).map((function(e,t){return Object(T.jsxs)(y.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsxs)(w.a,{fullWidth:!0,children:[Object(T.jsx)(E.a,{id:"l4User",children:"Level-4"}),Object(T.jsx)(U.a,{labelId:"l4User",id:"l4User",value:de,label:"Level-4",onChange:Se,defaultValue:de,children:null===q||void 0===q?void 0:q.filter((function(e){return e.is_active})).map((function(e,t){return Object(T.jsxs)(y.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsxs)(w.a,{fullWidth:!0,children:[Object(T.jsx)(E.a,{id:"l5User",children:"Level-5"}),Object(T.jsx)(U.a,{labelId:"l5User",id:"l5User",value:oe,label:"Level-5",onChange:we,defaultValue:oe,children:null===q||void 0===q?void 0:q.filter((function(e){return e.is_active})).map((function(e,t){return Object(T.jsxs)(y.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsxs)(w.a,{fullWidth:!0,children:[Object(T.jsx)(E.a,{id:"l6User",children:"Level-6"}),Object(T.jsx)(U.a,{labelId:"l6User",id:"l6User",value:ve,label:"Level-6",onChange:Ee,defaultValue:ve,children:null===q||void 0===q?void 0:q.filter((function(e){return e.is_active})).map((function(e,t){return Object(T.jsxs)(y.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(T.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(T.jsx)(L.a,{control:Object(T.jsx)(A.a,{}),disabled:!(null!==i&&void 0!==i&&i.id),checked:!f,onChange:xe,label:"Inactive"})})]})}),Object(T.jsx)("div",{className:"d-flex justify-content-end",children:Object(T.jsx)(k.a,{type:"submit",color:"primary",variant:"contained",sx:{my:2,top:"50",marginRight:"10px",marginTop:"15vh"},children:"Submit"})})]})}})]})})})},V=i(17),W=i(5),z=i(790),N=i(866),P=i(471),F=i(840),M=i(327),q=i.n(M),Y=(Object(W.a)(z.a)((function(){return{whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}})),Object(W.a)(z.a)((function(){return{marginTop:"20px",whiteSpace:"pre","& small":{height:15,width:50,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"},"& th:first-of-type":{paddingLeft:"16px !important"},"& th:nth-of-type(5)":{width:"90px !important"},"& tfoot tr td div:nth-child(1)":{justifyContent:"center",alignItems:"center",flex:"initial",margin:"0.5rem 0"}}}))),H=function(e){var t=e.onEditClick,i=e.onCreateClick,n=(e.setCurrentView,Object(j.useState)([])),a=Object(c.a)(n,2),l=a[0],d=a[1],r=Object(j.useState)(0),s=Object(c.a)(r,2),o=s[0],b=s[1],v=Object(j.useState)(0),f=Object(c.a)(v,2),h=f[0],m=f[1],O=Object(j.useState)(10),p=Object(c.a)(O,2),g=p[0],C=(p[1],function(e,t){b(t)});Object(j.useEffect)((function(){_()}),[o]);var _=function(){Object(u.g)(o,g).then((function(e){var t,i;null===e||void 0===e||null===(t=e.data)||void 0===t||t.pagingData.map((function(e,t){Object.assign(e,{sno:g*o+t+1})})),d(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.pagingData),m(e.data.totalItems)}))};return Object(T.jsxs)(N.a,{width:"100%",overflow:"auto",children:[Object(T.jsx)(P.a,{size:"small",color:"secondary","aria-label":"Add",className:"button addBtn",onClick:function(e,t){i&&i(t)},children:Object(T.jsx)(I.a,{children:"add"})}),Object(T.jsx)(Y,{children:Object(T.jsx)(q.a,{title:"Escalations",columns:[{title:"Department Name",field:"departmentName"},{title:"Active",field:"status"},{title:"Created At",field:"createdAt"},{title:"Updated At",field:"updatedAt"}],data:l.map((function(e){var t;return{id:e.id,departmentName:null===e||void 0===e||null===(t=e.department)||void 0===t?void 0:t.name,l1Id:e.l1_id,status:e.is_active,createdAt:x()(e.createdAt).format(B.a.DATE_FORMAT),updatedAt:x()(e.updatedAt).format(B.a.DATE_FORMAT)}})),actions:[{icon:"edit",tooltip:"Edit Escalations",onClick:function(e,i){t&&t(i.id)}}],options:{actionsColumnIndex:-1,emptyRowsWhenPaging:!1,showTitle:!1,search:!1,toolbar:!1,pageSizeOptions:[],pageSize:g,tableLayout:"auto",maxBodyHeight:"400px",headerStyle:{fontSize:"14px",backgroundColor:"#222A45",color:"white",fontWeight:"700"}},components:{Pagination:function(e){return Object(T.jsx)(F.a,Object(V.a)(Object(V.a)({},e),{},{count:h,rowsPerPage:g,page:o,onPageChange:C,labelDisplayedRows:function(){return""}}))}}})})]})},J=Object(o.a)("div")((function(e){var t=e.theme;return Object(s.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})}));t.default=function(){var e=Object(j.useState)("Escalation"),t=Object(c.a)(e,2),i=t[0],n=t[1],a=Object(v.l)(),l=Object(f.d)(),s=Object(c.a)(l,1)[0],o=Object(j.useState)(),b=Object(c.a)(o,2),h=b[0],m=b[1];Object(j.useEffect)((function(){var e;"create-escalation"===s.get("type")?n("Create"):"edit-escalation"===(null===s||void 0===s||null===(e=s.get("type"))||void 0===e?void 0:e.split("/")[0])?O(s.get("type").split("/")[1]):(n("Escalation"),m())}),[s]);var O=function(){var e=Object(r.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.m)({id:t}).then((function(e){m(e.data)}));case 2:n("Edit"),a({search:"?type=edit-escalation/".concat(t)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(j.Fragment,{children:Object(T.jsxs)(J,{children:["Escalation"===i&&Object(T.jsx)(H,{onEditClick:O,onCreateClick:function(){n("Create"),a({search:"?type=create-escalation"})},setEditDetails:m,setCurrentView:n}),"Create"===i&&Object(T.jsx)(R,{onClose:function(){n("List"),a({search:""}),m()},editDetails:h}),"Edit"===i&&h&&Object(T.jsx)(R,{onClose:function(){n("List"),a({search:""}),m()},editDetails:h})]})})}}}]);
//# sourceMappingURL=13.952cb312.chunk.js.map