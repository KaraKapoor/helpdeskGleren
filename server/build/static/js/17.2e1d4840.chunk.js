(this.webpackJsonpUI=this.webpackJsonpUI||[]).push([[17],{1339:function(t,e,n){},1597:function(t,e,n){"use strict";n.r(e);var a,i,s,r=n(26),c=n(48),o=n(9),u=n(4),l=n(243),d=n(192),j=n(1),b=n.n(j),h=n(24),f=n(91),p=n(49),m=n(47),v=n.n(m),O=(n(120),n(247)),x=n(545),g=n(441),S=n(690),C=n(691),y=n(541),w=n(542),E=n(559),T=n(699),B=n(708),k=n(788),N=n(158),z=n(700),D=n(170),_=(n(1339),n(2)),A=function(t){var e=t.onClose,n=t.editDetails,r=b.a.useState(!1),c=Object(o.a)(r,2),u=(c[0],c[1]),l=b.a.useState(null===n||void 0===n||!n.is_active||n.is_active),j=Object(o.a)(l,2),f=j[0],m=j[1],A=b.a.useState([]),I=Object(o.a)(A,2),L=I[0],U=I[1],W=b.a.useState([]),P=Object(o.a)(W,2),R=P[0],V=P[1],q=b.a.useState(),F=Object(o.a)(q,2),Y=F[0],H=F[1],J=b.a.useState(),M=Object(o.a)(J,2),G=M[0],K=M[1],Q=Object(h.l)(),X=N.a.div(a||(a=Object(p.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n    font-size: 1.5rem;\n"]))),Z=N.a.div(i||(i=Object(p.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    padding: 1rem 1rem 0 1rem;\n    gap: 1rem;\n"])),(function(t){return t.divide?"50% 48.4%":"100%"}));N.a.div(s||(s=Object(p.a)(["\n    color: red;\n    font-size: 13px;\n"])));b.a.useEffect((function(){n&&(m(null===n||void 0===n?void 0:n.is_active),H(null===n||void 0===n?void 0:n.status_type)),Object(d.l)().then((function(t){if(!1===(null===t||void 0===t?void 0:t.status))return v.a.fire({icon:"error",title:"Error",text:t.error,showCloseButton:!0,showConfirmButton:!1,width:400});var e,n;U(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.statusTypes),V(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.departments)}))}),[]);var $={statusName:null!==n&&void 0!==n&&n.name?n.name:""},tt=function(t){null!==t&&void 0!==t&&t.target.checked?m(!1):m(!0)},et=function(t){H(t.target.value)},nt=function(t){K(t.target.value)};return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{children:Object(_.jsxs)(x.a,{elevation:3,sx:{pt:0,mb:0,minHeight:"50vh"},children:[Object(_.jsxs)(X,{children:[Object(_.jsx)("div",{children:null!==n&&void 0!==n&&n.id?"Edit Status":"Add Status"}),Object(_.jsx)("div",{onClick:function(t){return!!e&&e(t)&&u(!1)},children:Object(_.jsx)(g.a,{sx:{color:"#59B691",fontSize:"35px !important",cursor:"pointer"},children:"cancelsharp"})})]}),Object(_.jsx)(S.a,{}),Object(_.jsx)(O.a,{onSubmit:function(t){var e={statusName:t.statusName,statusType:Y,is_active:f};if(null!==n&&void 0!==n&&n.id)e.id=n.id;else if(!t.statusName)return v.a.fire({icon:"warning",title:"Warning",text:D.a.STATUS_NAME_MANDATORY,showCloseButton:!0,showConfirmButton:!1,width:400});Object(d.c)(e).then((function(t){return!1===(null===t||void 0===t?void 0:t.status)?v.a.fire({icon:"error",title:"Error",text:t.error,showCloseButton:!0,showConfirmButton:!1,width:400}):(v.a.fire({icon:"success",title:"Success",text:null!==n&&void 0!==n&&n.id?D.a.UPDATED_SUCCESSFULLY:D.a.CREATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400}),Q("/status"))}))},initialValues:$,children:function(t){var e=t.values,a=(t.errors,t.touched,t.handleChange),i=t.handleBlur,s=t.handleSubmit;return Object(_.jsxs)("form",{onSubmit:s,children:[Object(_.jsxs)(Z,{divide:!0,children:[Object(_.jsxs)("div",{children:[Object(_.jsx)(C.a,{fullWidth:!0,size:"large",name:"statusName",type:"text",label:"Status Name",variant:"outlined",onBlur:i,value:e.statusName,onChange:a,sx:{mb:1.5}}),Object(_.jsx)("br",{})]}),Object(_.jsx)("div",{children:Object(_.jsxs)(y.a,{fullWidth:!0,children:[Object(_.jsx)(w.a,{required:!0,id:"statusTypes",children:"Status Type"}),Object(_.jsx)(E.a,{labelId:"statusTypes",id:"statusTypes",required:!0,value:Y,label:"statusTypes",onChange:et,defaultValue:Y,children:null===L||void 0===L?void 0:L.map((function(t,e){return Object(_.jsx)(T.a,{value:t,children:t},e)}))})]})}),Object(_.jsx)("div",{children:Object(_.jsxs)(y.a,{fullWidth:!0,children:[Object(_.jsx)(w.a,{required:!0,id:"department",children:"Department"}),Object(_.jsx)(E.a,{labelId:"department",id:"department",required:!0,value:G,label:"department",onChange:nt,defaultValue:G,children:null===R||void 0===R?void 0:R.filter((function(t,e){return!0===t.is_active})).map((function(t,e){return Object(_.jsx)(T.a,{value:t,children:t.name},e)}))})]})}),Object(_.jsx)("div",{children:Object(_.jsx)(B.a,{control:Object(_.jsx)(k.a,{}),disabled:!(null!==n&&void 0!==n&&n.id),checked:!f,onChange:tt,label:"Inactive"})})]}),Object(_.jsx)("div",{className:"d-flex justify-content-end",children:Object(_.jsx)(z.a,{type:"submit",color:"primary",variant:"contained",sx:{my:2,top:"100",marginRight:"10px",marginTop:"45vh"},children:"Submit"})})]})}})]})})})},I=n(17),L=n(5),U=n(743),W=n(817),P=n(455),R=n(794),V=n(319),q=n.n(V),F=Object(L.a)(U.a)((function(){return{marginTop:"20px",whiteSpace:"pre","& small":{height:15,width:50,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"},"& th:first-of-type":{paddingLeft:"16px !important"},"& tfoot tr td div:nth-child(1)":{justifyContent:"center",alignItems:"center",flex:"initial",margin:"0.5rem 0"}}})),Y=function(t){var e=t.onEditClick,n=t.onCreateClick,a=(t.setCurrentView,Object(j.useState)([])),i=Object(o.a)(a,2),s=i[0],r=i[1],c=Object(j.useState)(0),u=Object(o.a)(c,2),l=u[0],b=u[1],h=Object(j.useState)(0),f=Object(o.a)(h,2),p=f[0],m=f[1],v=Object(j.useState)(10),O=Object(o.a)(v,2),x=O[0],S=(O[1],function(t,e){b(e)});Object(j.useEffect)((function(){C()}),[l]);var C=function(){Object(d.g)(l,x).then((function(t){var e,n;null===t||void 0===t||null===(e=t.data)||void 0===e||e.pagingData.map((function(t,e){Object.assign(t,{sno:x*l+e+1})})),r(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.pagingData),m(t.data.totalItems)}))};return Object(_.jsxs)(W.a,{width:"100%",overflow:"auto",children:[Object(_.jsx)(P.a,{size:"small",color:"secondary","aria-label":"Add",className:"button addBtn",onClick:function(t,e){n&&n(e)},children:Object(_.jsx)(g.a,{children:"add"})}),Object(_.jsx)(F,{children:Object(_.jsx)(q.a,{title:"Status",columns:[{title:"Status Name",field:"statusName"},{title:"Active",field:"status"}],data:s.map((function(t){return{statusName:t.name,status:t.is_active,statusId:t.id}})),actions:[{icon:"edit",tooltip:"Edit Status",onClick:function(t,n){e&&e(n.statusId)}}],options:{actionsColumnIndex:-1,emptyRowsWhenPaging:!1,showTitle:!1,search:!1,toolbar:!1,pageSizeOptions:[],pageSize:x,tableLayout:"auto",maxBodyHeight:"400px",headerStyle:{fontSize:"14px",backgroundColor:"#222A45",color:"white",fontWeight:"700"}},components:{Pagination:function(t){return Object(_.jsx)(R.a,Object(I.a)(Object(I.a)({},t),{},{count:p,rowsPerPage:x,page:l,onPageChange:S,labelDisplayedRows:function(){return""}}))}}})})]})},H=Object(l.a)("div")((function(t){var e=t.theme;return Object(u.a)({margin:"30px"},e.breakpoints.down("sm"),{margin:"16px"})}));Object(l.a)("span")((function(){return{fontSize:"1rem",fontWeight:"500",textTransform:"capitalize"}})),Object(l.a)("span")((function(t){return{fontSize:"0.875rem",color:t.theme.palette.text.secondary}})),Object(l.a)("h4")((function(t){return{fontSize:"1rem",fontWeight:"500",marginBottom:"16px",textTransform:"capitalize",color:t.theme.palette.text.secondary}})),e.default=function(){var t=Object(j.useState)("Status"),e=Object(o.a)(t,2),n=e[0],a=e[1],i=Object(h.l)(),s=Object(f.d)(),u=Object(o.a)(s,1)[0],l=Object(j.useState)(),b=Object(o.a)(l,2),p=b[0],m=b[1];Object(j.useEffect)((function(){var t;"create-status"===u.get("type")?a("Create"):"edit-status"===(null===u||void 0===u||null===(t=u.get("type"))||void 0===t?void 0:t.split("/")[0])?v(u.get("type").split("/")[1]):(a("Status"),m())}),[u]);var v=function(){var t=Object(c.a)(Object(r.a)().mark((function t(e){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.i)({id:e}).then((function(t){m(t.data)}));case 2:a("Edit"),i({search:"?type=edit-status/".concat(e)});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsx)(j.Fragment,{children:Object(_.jsxs)(H,{children:["Status"===n&&Object(_.jsx)(Y,{onEditClick:v,onCreateClick:function(){a("Create"),i({search:"?type=create-status"})},setEditDetails:m,setCurrentView:a}),"Create"===n&&Object(_.jsx)(A,{onClose:function(){a("List"),i({search:""}),m()},editDetails:p}),"Edit"===n&&p&&Object(_.jsx)(A,{onClose:function(){a("List"),i({search:""}),m()},editDetails:p})]})})}}}]);
//# sourceMappingURL=17.2e1d4840.chunk.js.map