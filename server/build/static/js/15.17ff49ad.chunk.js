(this.webpackJsonpUI=this.webpackJsonpUI||[]).push([[15],{1441:function(t,e,n){},1593:function(t,e,n){"use strict";n.r(e);var a,i,c,o=n(25),r=n(44),s=n(9),d=n(4),l=n(252),j=n(21),u=n(31),p=u.general.baseUrl,b=n(1),h=n.n(b),m=n(24),f=n(97),O=n(51),x=n(50),v=n.n(x),g=(n(125),n(256)),C=(n(1441),n(570)),S=n(456),w=n(716),y=n(717),N=n(755),P=n(835),E=n(164),z=n(747),B=n(176),k=n(490),T=n(2),D=function(t){var e=t.onClose,n=t.editDetails,o=h.a.useState(!1),r=Object(s.a)(o,2),d=(r[0],r[1]),l=h.a.useState(null===n||void 0===n||!n.is_active||n.is_active),b=Object(s.a)(l,2),f=b[0],x=b[1],D=Object(m.l)(),L=E.a.div(a||(a=Object(O.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n    font-size: 1.5rem;\n"]))),A=E.a.div(i||(i=Object(O.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    padding: 1rem 1rem 0 1rem;\n    gap: 1rem;\n"])),(function(t){return t.divide?"50% 48.4%":"100%"}));E.a.div(c||(c=Object(O.a)(["\n    color: red;\n    font-size: 13px;\n"])));h.a.useEffect((function(){n&&x(null===n||void 0===n?void 0:n.is_active)}),[]);var I=k.b().shape({projectName:k.c().max(20,"Project Name can not be more than 20 characters long")}),_={projectName:null!==n&&void 0!==n&&n.name?n.name:""},R=function(t){null!==t&&void 0!==t&&t.target.checked?x(!1):x(!0)};return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{children:Object(T.jsxs)(C.a,{elevation:3,sx:{pt:0,mb:0,minHeight:"50vh"},children:[Object(T.jsxs)(L,{children:[Object(T.jsx)("div",{children:null!==n&&void 0!==n&&n.id?"Edit Project":"Add Project"}),Object(T.jsx)("div",{onClick:function(t){return!!e&&e(t)&&d(!1)},children:Object(T.jsx)(S.a,{sx:{color:"#59B691",fontSize:"35px !important",cursor:"pointer"},children:"cancelsharp"})})]}),Object(T.jsx)(w.a,{}),Object(T.jsx)(g.a,{onSubmit:function(t){var e,a={projectName:t.projectName,is_active:f};if(null!==n&&void 0!==n&&n.id)a.id=n.id;else if(!t.projectName)return v.a.fire({icon:"warning",title:"Warning",text:B.a.PROJECT_NAME_MANDATORY,showCloseButton:!0,showConfirmButton:!1,width:400});(e=a,Object(j.b)({method:j.a.POST,url:p+u.project.create,data:e})).then((function(t){return!1===(null===t||void 0===t?void 0:t.status)?v.a.fire({icon:"error",title:"Error",text:t.error,showCloseButton:!0,showConfirmButton:!1,width:400}):(v.a.fire({icon:"success",title:"Success",text:null!==n&&void 0!==n&&n.id?B.a.UPDATED_SUCCESSFULLY:B.a.CREATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400}),D("/project"))}))},initialValues:_,validationSchema:I,children:function(t){var e=t.values,a=t.errors,i=t.touched,c=t.handleChange,o=t.handleBlur,r=t.handleSubmit;return Object(T.jsxs)("form",{onSubmit:r,children:[Object(T.jsxs)(A,{divide:!0,children:[Object(T.jsxs)("div",{children:[Object(T.jsx)(y.a,{fullWidth:!0,size:"large",name:"projectName",type:"text",label:"Project Name",variant:"outlined",onBlur:o,value:e.projectName,onChange:c,sx:{mb:1.5},error:Boolean(a.projectName&&i.projectName),helperText:i.projectName&&a.projectName}),Object(T.jsx)("br",{})]}),Object(T.jsx)("div",{children:Object(T.jsx)(N.a,{control:Object(T.jsx)(P.a,{}),disabled:!(null!==n&&void 0!==n&&n.id),checked:!f,onChange:R,label:"Inactive"})})]}),Object(T.jsx)("div",{className:"d-flex justify-content-end",children:Object(T.jsx)(z.a,{type:"submit",color:"primary",variant:"contained",sx:{my:2,top:"100",marginRight:"10px",marginTop:"45vh"},children:"Submit"})})]})}})]})})})},L=n(17),A=n(5),I=n(790),_=n(866),R=n(471),U=n(840),W=n(326),F=n.n(W),J=(Object(A.a)(I.a)((function(){return{whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}})),Object(A.a)(I.a)((function(){return{marginTop:"20px",whiteSpace:"pre","& small":{height:15,width:50,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"},"& th:nth-of-type(3)":{width:"90px !important"},"& th:first-of-type":{paddingLeft:"16px !important"},"& tfoot tr td div:nth-child(1)":{justifyContent:"center",alignItems:"center",flex:"initial",margin:"0.5rem 0"}}}))),V=function(t){var e=t.onEditClick,n=t.onCreateClick,a=(t.setCurrentView,Object(b.useState)([])),i=Object(s.a)(a,2),c=i[0],o=i[1],r=Object(b.useState)(0),d=Object(s.a)(r,2),l=d[0],h=d[1],m=Object(b.useState)(0),f=Object(s.a)(m,2),O=f[0],x=f[1],v=Object(b.useState)(10),g=Object(s.a)(v,2),C=g[0],w=(g[1],function(t,e){h(e)});Object(b.useEffect)((function(){y()}),[l]);var y=function(){(function(t,e){return Object(j.b)({method:j.a.GET,url:p+u.project.getAllProjects+"?page=".concat(t,"&size=").concat(e)})})(l,C).then((function(t){var e,n;null===t||void 0===t||null===(e=t.data)||void 0===e||e.pagingData.map((function(t,e){Object.assign(t,{sno:C*l+e+1})})),o(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.pagingData),x(t.data.totalItems)}))};return Object(T.jsxs)(_.a,{width:"100%",overflow:"auto",children:[Object(T.jsx)(R.a,{size:"small",color:"secondary","aria-label":"Add",className:"button addBtn",onClick:function(t,e){n&&n(e)},children:Object(T.jsx)(S.a,{children:"add"})}),Object(T.jsx)(J,{children:Object(T.jsx)(F.a,{title:"Projects",columns:[{title:"Project Name",field:"projectName"},{title:"Active",field:"status"}],data:c.map((function(t){return{projectName:t.name,status:t.is_active,projectId:t.id}})),actions:[{icon:"edit",tooltip:"Edit Project",onClick:function(t,n){e&&e(n.projectId)}}],options:{actionsColumnIndex:-1,emptyRowsWhenPaging:!1,showTitle:!1,search:!1,toolbar:!1,pageSizeOptions:[],pageSize:C,tableLayout:"auto",maxBodyHeight:"400px",headerStyle:{fontSize:"14px",backgroundColor:"#222A45",color:"white",fontWeight:"700"}},components:{Pagination:function(t){return Object(T.jsx)(U.a,Object(L.a)(Object(L.a)({},t),{},{count:O,rowsPerPage:C,page:l,onPageChange:w,labelDisplayedRows:function(){return""}}))}}})})]})},Y=Object(l.a)("div")((function(t){var e=t.theme;return Object(d.a)({margin:"30px"},e.breakpoints.down("sm"),{margin:"16px"})}));Object(l.a)("span")((function(){return{fontSize:"1rem",fontWeight:"500",textTransform:"capitalize"}})),Object(l.a)("span")((function(t){return{fontSize:"0.875rem",color:t.theme.palette.text.secondary}})),Object(l.a)("h4")((function(t){return{fontSize:"1rem",fontWeight:"500",marginBottom:"16px",textTransform:"capitalize",color:t.theme.palette.text.secondary}})),e.default=function(){var t=Object(b.useState)("Project"),e=Object(s.a)(t,2),n=e[0],a=e[1],i=Object(m.l)(),c=Object(f.d)(),d=Object(s.a)(c,1)[0],l=Object(b.useState)(),h=Object(s.a)(l,2),O=h[0],x=h[1];Object(b.useEffect)((function(){var t;"create-project"===d.get("type")?a("Create"):"edit-project"===(null===d||void 0===d||null===(t=d.get("type"))||void 0===t?void 0:t.split("/")[0])?v(d.get("type").split("/")[1]):(a("Project"),x())}),[d]);var v=function(){var t=Object(r.a)(Object(o.a)().mark((function t(e){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n={id:e},Object(j.b)({method:j.a.POST,url:p+u.project.getById,data:n})).then((function(t){x(t.data)}));case 2:a("Edit"),i({search:"?type=edit-project/".concat(e)});case 4:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(T.jsx)(b.Fragment,{children:Object(T.jsxs)(Y,{children:["Project"===n&&Object(T.jsx)(V,{onEditClick:v,onCreateClick:function(){a("Create"),i({search:"?type=create-project"})},setEditDetails:x,setCurrentView:a}),"Create"===n&&Object(T.jsx)(D,{onClose:function(){a("List"),i({search:""}),x()},editDetails:O}),"Edit"===n&&O&&Object(T.jsx)(D,{onClose:function(){a("List"),i({search:""}),x()},editDetails:O})]})})}}}]);
//# sourceMappingURL=15.17ff49ad.chunk.js.map