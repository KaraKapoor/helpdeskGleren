/*! For license information please see 22.05a033a4.chunk.js.LICENSE.txt */
(this.webpackJsonpUI=this.webpackJsonpUI||[]).push([[22],{1439:function(e,t,a){var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var l=r.apply(null,n);l&&e.push(l)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},1637:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(41),i=a(9),l=a(4),o=a(856),s=a(254),c=a(597),d=a(1),u=a.n(d),b=a(24),j=a(51),m=a(17),f=a(751),v=a(459),x=a(720),h=a(721),O=a(570),p=a(571),g=a(588),C=a(750),y=a(586),N=a(124),w=a(258),S=a(119),P=a(1439),B=a.n(P);var I=a(2),E=["xxl","xl","lg","md","sm","xs"],k=d.createContext({prefixes:{},breakpoints:E,minBreakpoint:"xs"});k.Consumer,k.Provider;function U(e,t){var a=Object(d.useContext)(k).prefixes;return e||a[t]||t}var _=/-(.)/g;var z=["className","bsPrefix","as"],D=function(e){return e[0].toUpperCase()+(t=e,t.replace(_,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.displayName,n=void 0===a?D(e):a,r=t.Component,i=t.defaultProps,l=d.forwardRef((function(t,a){var n=t.className,i=t.bsPrefix,l=t.as,o=void 0===l?r||"div":l,s=Object(S.a)(t,z),c=U(i,e);return Object(I.jsx)(o,Object(m.a)({ref:a,className:B()(n,c)},s))}));return l.defaultProps=i,l.displayName=n,l}var R=function(e){return d.forwardRef((function(t,a){return Object(I.jsx)("div",Object(m.a)(Object(m.a)({},t),{},{ref:a,className:B()(t.className,e)}))}))},L=["bsPrefix","className","variant","as"],W=d.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,r=e.variant,i=e.as,l=void 0===i?"img":i,o=Object(S.a)(e,L),s=U(a,"card-img");return Object(I.jsx)(l,Object(m.a)({ref:t,className:B()(r?"".concat(s,"-").concat(r):s,n)},o))}));W.displayName="CardImg";var A=W,T=d.createContext(null);T.displayName="CardHeaderContext";var H=T,M=["bsPrefix","className","as"],J=d.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,r=e.as,i=void 0===r?"div":r,l=Object(S.a)(e,M),o=U(a,"card-header"),s=Object(d.useMemo)((function(){return{cardHeaderBsPrefix:o}}),[o]);return Object(I.jsx)(H.Provider,{value:s,children:Object(I.jsx)(i,Object(m.a)(Object(m.a)({ref:t},l),{},{className:B()(n,o)}))})}));J.displayName="CardHeader";var V=J,Y=["bsPrefix","className","bg","text","border","body","children","as"],G=R("h5"),q=R("h6"),K=F("card-body"),Q=F("card-title",{Component:G}),X=F("card-subtitle",{Component:q}),Z=F("card-link",{Component:"a"}),$=F("card-text",{Component:"p"}),ee=F("card-footer"),te=F("card-img-overlay"),ae=d.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,r=e.bg,i=e.text,l=e.border,o=e.body,s=e.children,c=e.as,d=void 0===c?"div":c,u=Object(S.a)(e,Y),b=U(a,"card");return Object(I.jsx)(d,Object(m.a)(Object(m.a)({ref:t},u),{},{className:B()(n,b,r&&"bg-".concat(r),i&&"text-".concat(i),l&&"border-".concat(l)),children:o?Object(I.jsx)(K,{children:s}):s}))}));ae.displayName="Card",ae.defaultProps={body:!1};var ne,re,ie=Object.assign(ae,{Img:A,Title:Q,Subtitle:X,Body:K,Link:Z,Text:$,Header:V,Footer:ee,ImgOverlay:te}),le=a(50),oe=a.n(le),se=a(159),ce=a(177),de=a(58),ue=a(598),be=a(97),je=a(206),me=function(e){var t=e.onClose,a=e.editData,n=u.a.useState(!1),r=Object(i.a)(n,2),l=(r[0],r[1]),s=u.a.useState(a),S=Object(i.a)(s,2),P=S[0],B=(S[1],u.a.useState()),E=Object(i.a)(B,2),k=(E[0],E[1]),U=Object(d.useState)(null),_=Object(i.a)(U,2),z=_[0],D=_[1],F=u.a.useState(),R=Object(i.a)(F,2),L=R[0],W=R[1],A=u.a.useState(),T=Object(i.a)(A,2),H=T[0],M=T[1],J=u.a.useState(!1),V=Object(i.a)(J,2),Y=V[0],G=V[1],q=(Object(b.l)(),Object(d.useState)({avatar:"",raw:""})),K=Object(i.a)(q,2),Q=K[0],X=K[1],Z=Object(ue.a)(),$=(Z.logout,Z.user),ee=Object(be.d)(),te=Object(i.a)(ee,1)[0].get("updated");Object(d.useEffect)((function(){Object(c.f)().then((function(e){X(Object(m.a)(Object(m.a)({},Q),{},{avatar:null===e||void 0===e?void 0:e.data}))})).catch((function(e){console.log(e)}))}),[te]);var ae=se.a.div(ne||(ne=Object(j.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n    font-size: 1.5rem;\n  "]))),le=se.a.div(re||(re=Object(j.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    padding: 1rem 1rem 0 1rem;\n    gap: 1rem;\n  "])),(function(e){return e.divide?"50% 48.4%":"100%"}));Object(d.useEffect)((function(){Object(N.n)().then((function(e){if(!1===(null===e||void 0===e?void 0:e.status))return oe.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400});var t;W(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.departments),k(e.data),M(null===a||void 0===a?void 0:a.department)}))}),[Q]);var me=function(e){M(e.target.value)},fe=function(e){var t,a;if(G(!0),null===e||void 0===e||null===(t=e.target)||void 0===t||!t.files[0])return null;var n=new FormData;n.append("file",null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.files[0]),Object(de.e)(n).then((function(e){D(null===e||void 0===e?void 0:e.data),G(!1),oe.a.fire({icon:"success",title:"Success",text:ce.a.PROFILE_IMAGE_UPDATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400});var t={photouploadId:e.data.id,id:e.data.uploaded_by};Object(c.j)(t).then((function(e){e&&Object(c.f)().then((function(e){X(Object(m.a)(Object(m.a)({},Q),{},{avatar:null===e||void 0===e?void 0:e.data}))})).catch((function(e){console.log(e)}))}))}))};return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{children:Object(I.jsxs)(ie,{elevation:3,sx:{pt:0,mb:0},children:[Object(I.jsxs)(ae,{children:[Object(I.jsx)("div",{children:"Edit Profile"}),Object(I.jsx)("div",{onClick:function(e){return!!t&&t(e)&&l(!1)},children:Object(I.jsx)(v.a,{sx:{color:"#59B691",fontSize:"35px !important",cursor:"pointer"},children:"cancelsharp"})})]}),Object(I.jsx)(x.a,{}),Object(I.jsx)(w.a,{onSubmit:function(e){var t={designation:e.designation,firstName:e.firstName,lastName:e.lastName,mobile:e.mobile,id:e.id,departmentId:H,photouploadId:null===z||void 0===z?void 0:z.id};Object(c.j)(t).then((function(e){return!1===(null===e||void 0===e?void 0:e.status)?oe.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400}):(Object(c.f)(),oe.a.fire({icon:"success",title:"Success",text:ce.a.UPDATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400}),window.location.href="/dashboard/default?updated=true")}))},initialValues:P,children:function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange),n=e.handleBlur,r=e.handleSubmit;return Object(I.jsxs)("form",{onSubmit:r,children:[Object(I.jsxs)(le,{children:[Object(I.jsxs)(o.a,{container:!0,spacing:2,children:[Object(I.jsx)(o.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsx)(h.a,{fullWidth:!0,size:"large",name:"firstName",type:"text",label:"First Name",variant:"outlined",onBlur:n,value:t.firstName,onChange:a,sx:{mb:1.5}})}),Object(I.jsx)(o.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsx)(h.a,{fullWidth:!0,size:"large",name:"lastName",type:"text",label:"Last Name",variant:"outlined",onBlur:n,value:t.lastName,onChange:a,sx:{mb:1.5}})}),Object(I.jsx)(o.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsx)(h.a,{fullWidth:!0,size:"large",name:"email",type:"email",label:"Email",disabled:!0,variant:"outlined",onBlur:n,value:t.email,onChange:a,sx:{mb:1.5}})}),Object(I.jsx)(o.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsx)(h.a,{fullWidth:!0,size:"large",name:"mobile",type:"text",label:"Mobile",variant:"outlined",onBlur:n,value:t.mobile,onChange:a,sx:{mb:1.5}})}),Object(I.jsx)(o.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsx)(h.a,{fullWidth:!0,size:"large",name:"designation",type:"text",label:"Designation",variant:"outlined",onBlur:n,value:t.designation,onChange:a,sx:{mb:1.5}})}),Object(I.jsx)(o.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsx)(h.a,{fullWidth:!0,size:"large",name:"role",type:"text",label:"Role",disabled:!0,variant:"outlined",onBlur:n,value:t.role,onChange:a,sx:{mb:1.5}})}),Object(I.jsx)(o.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(I.jsxs)(O.a,{fullWidth:!0,children:[Object(I.jsx)(p.a,{id:"role",children:"Department"}),Object(I.jsx)(g.a,{labelId:"department",id:"department",value:H,label:"Department",onChange:me,defaultValue:H,children:null===L||void 0===L?void 0:L.map((function(e,t){return Object(I.jsx)(C.a,{value:e.id,children:e.name},t)}))})]})})]}),Object(I.jsx)(h.a,{fullWidth:!0,label:"Profile Image",size:"large",name:"files",type:"file",variant:"outlined",onBlur:n,onChange:fe,sx:{mb:1.5},value:"",InputLabelProps:{shrink:!0}}),Y&&Object(I.jsx)("div",{style:{position:"fixed",backgroundColor:"#00000075",width:"100%",top:"0",left:"0",zIndex:"999",height:"100vh"},children:Object(I.jsx)(je.a,{})}),Object(I.jsx)("label",{htmlFor:"upload-button",children:Q.avatar?Object(I.jsx)("img",{src:Q.avatar,alt:"dummy",width:"70",height:"70",style:{borderRadius:"50%"}}):Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(y.a,{src:$.avatar,sx:{cursor:"pointer"}})})})]}),Object(I.jsx)("div",{className:"d-flex justify-content-end",children:Object(I.jsx)(f.a,{type:"submit",color:"primary",variant:"contained",sx:{my:2,top:"60",marginRight:"10px",marginTop:"25vh"},children:"Update"})})]})}})]})})})},fe=Object(s.a)("div")((function(e){var t=e.theme;return Object(l.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})}));t.default=function(){var e=Object(b.l)(),t=u.a.useState(),a=Object(i.a)(t,2),l=a[0],s=a[1],j=u.a.useState(!1),m=Object(i.a)(j,2),f=m[0],v=m[1];Object(d.useEffect)((function(){x()}),[]);var x=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.e)();case 3:t=e.sent,(a=t.data)&&(s({firstName:null!==a&&void 0!==a&&a.first_name?a.first_name:"",lastName:null!==a&&void 0!==a&&a.last_name?a.last_name:"",email:null!==a&&void 0!==a&&a.email?a.email:"",mobile:null!==a&&void 0!==a&&a.mobile?a.mobile:"",designation:null!==a&&void 0!==a&&a.designation?a.designation:"",role:null!==a&&void 0!==a&&a.role?a.role:"",id:null!==a&&void 0!==a&&a.id?a.id:"",department:null!==a&&void 0!==a&&a.department_id?a.department_id:""}),v(!0)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(d.Fragment,{children:Object(I.jsx)(fe,{children:Object(I.jsx)(o.a,{container:!0,spacing:3,children:Object(I.jsx)(o.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:f&&Object(I.jsx)(me,{editData:l,onClose:function(){e("/dashboard/default")}})})})})})}}}]);
//# sourceMappingURL=22.05a033a4.chunk.js.map