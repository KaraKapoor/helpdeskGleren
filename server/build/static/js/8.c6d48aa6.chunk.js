(this.webpackJsonpUI=this.webpackJsonpUI||[]).push([[8],{1497:function(e,t,n){},1558:function(e,t,n){"use strict";var i=n(49);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(158)),l=n(2),d=(0,a.default)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=d},1656:function(e,t,n){"use strict";n.r(t);var i,a,l,d,c=n(18),r=n(34),o=n(9),s=n(4),u=n(255),j=n(125),b=n(1),v=n.n(b),f=n(26),h=n(96),m=n(46),O=n(52),x=n.n(O),p=n(127),g=n.n(p),C=n(259),I=(n(1497),n(574)),_=n(459),S=n(721),y=n(858),w=n(570),E=n(571),A=n(589),U=n(754),L=n(761),k=n(854),M=n(120),B=n(755),D=n(178),T=n(1558),N=n.n(T),R=n(463),V=n(2),W=function(e){var t=e.onClose,n=e.editDetails,c=v.a.useState(!1),r=Object(o.a)(c,2),s=(r[0],r[1]),u=v.a.useState(null===n||void 0===n||!n.is_active||n.is_active),b=Object(o.a)(u,2),h=b[0],O=b[1],p=v.a.useState(),g=Object(o.a)(p,2),T=g[0],W=g[1],z=v.a.useState(),P=Object(o.a)(z,2),F=P[0],q=P[1],Y=v.a.useState(),H=Object(o.a)(Y,2),J=H[0],G=H[1],K=v.a.useState(),Q=Object(o.a)(K,2),X=Q[0],Z=Q[1],$=v.a.useState(),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ie=v.a.useState(),ae=Object(o.a)(ie,2),le=ae[0],de=ae[1],ce=v.a.useState(),re=Object(o.a)(ce,2),oe=re[0],se=re[1],ue=v.a.useState(),je=Object(o.a)(ue,2),be=je[0],ve=je[1],fe=v.a.useState(),he=Object(o.a)(fe,2),me=he[0],Oe=he[1],xe=Object(f.l)(),pe=M.a.div(i||(i=Object(m.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n    font-size: 1.5rem;\n"]))),ge=M.a.div(a||(a=Object(m.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    padding: 1rem 1rem 0 1rem;\n    gap: 1rem;\n"])),(function(e){return e.divide?"50% 48.4%":"100%"})),Ce=(M.a.div(l||(l=Object(m.a)(["\n    color: red;\n    font-size: 13px;\n"]))),M.a.div(d||(d=Object(m.a)(["\n  width:15px;\n  height:15px;\n  border:5px solid red;\n  background-color:red;\n  color:white;\n  border-radius:50%;\n  text-align:center;\n"]))));v.a.useEffect((function(){n&&O(null===n||void 0===n?void 0:n.is_active),Object(j.n)().then((function(e){if(!1===(null===e||void 0===e?void 0:e.status))return x.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400});var t,i;W(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.departments),G(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.agents),q(null===n||void 0===n?void 0:n.department_id),Z(null===n||void 0===n?void 0:n.l1_id),ne(null===n||void 0===n?void 0:n.l2_id),de(null===n||void 0===n?void 0:n.l3_id),se(null===n||void 0===n?void 0:n.l4_id),ve(null===n||void 0===n?void 0:n.l5_id),Oe(null===n||void 0===n?void 0:n.l6_id)}))}),[]);var Ie=function(){ne()},_e=function(){de()},Se=function(){se()},ye=function(){ve()},we=function(){Oe()},Ee={departmentId:null!==n&&void 0!==n&&n.departmentId?n.departmentId:"",l1Id:null!==n&&void 0!==n&&n.l1_id?n.l1_id:"",l2Id:null!==n&&void 0!==n&&n.l2Id?n.l2Id:"",l3Id:null!==n&&void 0!==n&&n.l3Id?n.l3Id:"",l4Id:null!==n&&void 0!==n&&n.l4Id?n.l4Id:"",l5Id:null!==n&&void 0!==n&&n.l5Id?n.l5Id:"",l6Id:null!==n&&void 0!==n&&n.l6Id?n.l6Id:""},Ae=function(e){null!==e&&void 0!==e&&e.target.checked?O(!1):O(!0)},Ue=function(e){q(e.target.value)},Le=function(e){Z(e.target.value)},ke=function(e){ne(e.target.value)},Me=function(e){de(e.target.value)},Be=function(e){se(e.target.value)},De=function(e){ve(e.target.value)},Te=function(e){Oe(e.target.value)};return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)("div",{children:Object(V.jsxs)(I.a,{elevation:3,sx:{pt:0,mb:0,minHeight:"50vh"},children:[Object(V.jsxs)(pe,{children:[Object(V.jsx)("div",{children:null!==n&&void 0!==n&&n.id?"Edit Escalation":"Add Escalation"}),Object(V.jsx)("div",{onClick:function(e){return!!t&&t(e)&&s(!1)},children:Object(V.jsx)(_.a,{sx:{color:"#59B691",fontSize:"35px !important",cursor:"pointer"},children:"cancelsharp"})})]}),Object(V.jsx)(S.a,{}),Object(V.jsx)(C.a,{onSubmit:function(e){var t={departmentId:F,l1Id:X,l2Id:te,l3Id:le,l4Id:oe,l5Id:be,l6Id:me,is_active:h};if(null!==n&&void 0!==n&&n.id)t.id=n.id;else if(!F)return x.a.fire({icon:"warning",title:"Warning",text:D.a.DEPARTMENT_NAME_MANDATORY,showCloseButton:!0,showConfirmButton:!1,width:400});Object(j.b)(t).then((function(e){return!1===(null===e||void 0===e?void 0:e.status)?x.a.fire({icon:"error",title:"Error",text:e.error,showCloseButton:!0,showConfirmButton:!1,width:400}):(x.a.fire({icon:"success",title:"Success",text:null!==n&&void 0!==n&&n.id?D.a.UPDATED_SUCCESSFULLY:D.a.CREATED_SUCCESSFULLY,showCloseButton:!0,showConfirmButton:!1,width:400}),xe("/escalations"))}))},initialValues:Ee,children:function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur;var t,i=e.handleSubmit;return Object(V.jsxs)("form",{onSubmit:i,children:[Object(V.jsx)(ge,{children:Object(V.jsxs)(y.a,{container:!0,spacing:2,children:[Object(V.jsx)(y.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(V.jsxs)(w.a,{fullWidth:!0,children:[Object(V.jsx)(E.a,{required:!0,id:"department",children:"Department"}),Object(V.jsx)(A.a,{labelId:"department",id:"department",required:!0,value:F,label:"Department",onChange:Ue,defaultValue:F,className:"isactiveDivStyle",children:null===T||void 0===T||null===(t=T.filter((function(e){return e.is_active||e.id===F})))||void 0===t?void 0:t.map((function(e,t){return Object(V.jsxs)(U.a,{value:e.id,className:"isactive-error",children:[e.name," ",!1===e.is_active?Object(V.jsx)(Ce,{}):""]},t)}))})]})}),Object(V.jsx)(y.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(V.jsxs)(w.a,{fullWidth:!0,children:[Object(V.jsx)(E.a,{required:!0,id:"l1User",children:"Level-1"}),Object(V.jsx)(A.a,{labelId:"l1User",id:"l1User",required:!0,value:X,label:"Level-1",onChange:Le,defaultValue:X,children:null===J||void 0===J?void 0:J.filter((function(e){return e.is_active})).map((function(e,t){return Object(V.jsxs)(U.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(V.jsx)(y.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(V.jsxs)(w.a,{fullWidth:!0,children:[Object(V.jsx)(E.a,{id:"l2User",children:"Level-2"}),Object(V.jsx)(A.a,{labelId:"l2User",id:"l2User",value:te,label:"Level-2",onChange:ke,defaultValue:te,sx:{"& .MuiSelect-iconOutlined":{display:te?"none":""},"&.Mui-focused .MuiIconButton-root":{color:"primary.main"}},endAdornment:Object(V.jsx)(R.a,{sx:{display:te?"":"none"},onClick:Ie,children:Object(V.jsx)(N.a,{})}),children:null===J||void 0===J?void 0:J.filter((function(e){return e.is_active})).map((function(e,t){return Object(V.jsxs)(U.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(V.jsx)(y.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(V.jsxs)(w.a,{fullWidth:!0,children:[Object(V.jsx)(E.a,{id:"l3User",children:"Level-3"}),Object(V.jsx)(A.a,{labelId:"l3User",id:"l3User",value:le,label:"Level-3",onChange:Me,defaultValue:le,sx:{"& .MuiSelect-iconOutlined":{display:le?"none":""},"&.Mui-focused .MuiIconButton-root":{color:"primary.main"}},endAdornment:Object(V.jsx)(R.a,{sx:{display:le?"":"none"},onClick:_e,children:Object(V.jsx)(N.a,{})}),children:null===J||void 0===J?void 0:J.filter((function(e){return e.is_active})).map((function(e,t){return Object(V.jsxs)(U.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(V.jsx)(y.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(V.jsxs)(w.a,{fullWidth:!0,children:[Object(V.jsx)(E.a,{id:"l4User",children:"Level-4"}),Object(V.jsx)(A.a,{labelId:"l4User",id:"l4User",value:oe,label:"Level-4",onChange:Be,defaultValue:oe,sx:{"& .MuiSelect-iconOutlined":{display:oe?"none":""},"&.Mui-focused .MuiIconButton-root":{color:"primary.main"}},endAdornment:Object(V.jsx)(R.a,{sx:{display:oe?"":"none"},onClick:Se,children:Object(V.jsx)(N.a,{})}),children:null===J||void 0===J?void 0:J.filter((function(e){return e.is_active})).map((function(e,t){return Object(V.jsxs)(U.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(V.jsx)(y.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(V.jsxs)(w.a,{fullWidth:!0,children:[Object(V.jsx)(E.a,{id:"l5User",children:"Level-5"}),Object(V.jsx)(A.a,{labelId:"l5User",id:"l5User",value:be,label:"Level-5",onChange:De,defaultValue:be,sx:{"& .MuiSelect-iconOutlined":{display:be?"none":""},"&.Mui-focused .MuiIconButton-root":{color:"primary.main"}},endAdornment:Object(V.jsx)(R.a,{sx:{display:be?"":"none"},onClick:ye,children:Object(V.jsx)(N.a,{})}),children:null===J||void 0===J?void 0:J.filter((function(e){return e.is_active})).map((function(e,t){return Object(V.jsxs)(U.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(V.jsx)(y.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(V.jsxs)(w.a,{fullWidth:!0,children:[Object(V.jsx)(E.a,{id:"l6User",children:"Level-6"}),Object(V.jsx)(A.a,{labelId:"l6User",id:"l6User",value:me,label:"Level-6",onChange:Te,defaultValue:me,sx:{"& .MuiSelect-iconOutlined":{display:me?"none":""},"&.Mui-focused .MuiIconButton-root":{color:"primary.main"}},endAdornment:Object(V.jsx)(R.a,{sx:{display:me?"":"none"},onClick:we,children:Object(V.jsx)(N.a,{})}),children:null===J||void 0===J?void 0:J.filter((function(e){return e.is_active})).map((function(e,t){return Object(V.jsxs)(U.a,{value:e.id,children:[e.first_name," ",e.last_name]},t)}))})]})}),Object(V.jsx)(y.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(V.jsx)(L.a,{control:Object(V.jsx)(k.a,{}),disabled:!(null!==n&&void 0!==n&&n.id),checked:!h,onChange:Ae,label:"Inactive"})})]})}),Object(V.jsx)("div",{className:"d-flex justify-content-end",children:Object(V.jsx)(B.a,{type:"submit",color:"primary",variant:"contained",sx:{my:2,top:"50",marginRight:"10px",marginTop:"15vh"},children:"Submit"})})]})}})]})})})},z=n(14),P=n(5),F=n(796),q=n(886),Y=n(474),H=n(859),J=n(330),G=n.n(J),K=(Object(P.a)(F.a)((function(){return{whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}})),Object(P.a)(F.a)((function(){return{marginTop:"20px",whiteSpace:"pre",thead:{backgroundColor:"rgb(34, 42, 69)"},"thead > tr":{backgroundColor:"rgb(34, 42, 69)"},"& small":{height:15,width:50,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"1px solid rgba(224, 224, 224, 1)"},"& td:first-of-type":{paddingLeft:"16px !important"},"& th:first-of-type":{paddingLeft:"16px !important"},"& th:nth-of-type(5)":{width:"90px !important"},"& tfoot tr td div:nth-child(1)":{justifyContent:"center",alignItems:"center",flex:"initial",margin:"0.5rem 0"}}}))),Q=function(e){var t=e.onEditClick,n=e.onCreateClick,i=(e.setCurrentView,Object(b.useState)([])),a=Object(o.a)(i,2),l=a[0],d=a[1],c=Object(b.useState)(0),r=Object(o.a)(c,2),s=r[0],u=r[1],v=Object(b.useState)(0),f=Object(o.a)(v,2),h=f[0],m=f[1],O=Object(b.useState)(10),x=Object(o.a)(O,2),p=x[0],C=(x[1],function(e,t){u(t)});Object(b.useEffect)((function(){I()}),[s]);var I=function(){Object(j.g)(s,p).then((function(e){var t,n;null===e||void 0===e||null===(t=e.data)||void 0===t||t.pagingData.map((function(e,t){Object.assign(e,{sno:p*s+t+1})})),d(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.pagingData),m(e.data.totalItems)}))};return Object(V.jsxs)(q.a,{width:"100%",overflow:"auto",children:[Object(V.jsx)(Y.a,{size:"small",color:"secondary","aria-label":"Add",className:"button addBtn",onClick:function(e,t){n&&n(t)},children:Object(V.jsx)(_.a,{children:"add"})}),Object(V.jsx)(K,{children:Object(V.jsx)(G.a,{title:"Escalations",columns:[{title:"Department Name",field:"departmentName"},{title:"Active",field:"status"},{title:"Created At",field:"createdAt"},{title:"Updated At",field:"updatedAt"}],data:l.map((function(e){var t;return{id:e.id,departmentName:null===e||void 0===e||null===(t=e.department)||void 0===t?void 0:t.name,l1Id:e.l1_id,status:e.is_active,createdAt:g()(e.createdAt).format(D.a.DATE_FORMAT),updatedAt:g()(e.updatedAt).format(D.a.DATE_FORMAT)}})),actions:[{icon:"edit",tooltip:"Edit Escalations",onClick:function(e,n){t&&t(n.id)}}],options:{actionsColumnIndex:-1,emptyRowsWhenPaging:!1,showTitle:!1,search:!1,toolbar:!1,pageSizeOptions:[],pageSize:p,tableLayout:"auto",maxBodyHeight:"400px",headerStyle:{fontSize:"14px",backgroundColor:"#222A45",color:"white",fontWeight:"700"}},components:{Pagination:function(e){return Object(V.jsx)(H.a,Object(z.a)(Object(z.a)({},e),{},{count:h,rowsPerPage:p,page:s,onPageChange:C,labelDisplayedRows:function(){return""}}))}}})})]})},X=Object(u.a)("div")((function(e){var t=e.theme;return Object(s.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})}));t.default=function(){var e=Object(b.useState)("Escalation"),t=Object(o.a)(e,2),n=t[0],i=t[1],a=Object(f.l)(),l=Object(h.d)(),d=Object(o.a)(l,1)[0],s=Object(b.useState)(),u=Object(o.a)(s,2),v=u[0],m=u[1];Object(b.useEffect)((function(){var e;"create-escalation"===d.get("type")?i("Create"):"edit-escalation"===(null===d||void 0===d||null===(e=d.get("type"))||void 0===e?void 0:e.split("/")[0])?O(d.get("type").split("/")[1]):(i("Escalation"),m())}),[d]);var O=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.m)({id:t}).then((function(e){m(e.data)}));case 2:i("Edit"),a({search:"?type=edit-escalation/".concat(t)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsx)(b.Fragment,{children:Object(V.jsxs)(X,{children:["Escalation"===n&&Object(V.jsx)(Q,{onEditClick:O,onCreateClick:function(){i("Create"),a({search:"?type=create-escalation"})},setEditDetails:m,setCurrentView:i}),"Create"===n&&Object(V.jsx)(W,{onClose:function(){i("List"),a({search:""}),m()},editDetails:v}),"Edit"===n&&v&&Object(V.jsx)(W,{onClose:function(){i("List"),a({search:""}),m()},editDetails:v})]})})}}}]);
//# sourceMappingURL=8.c6d48aa6.chunk.js.map